

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Sessões &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Tabela HTML" href="table.html"/>
        <link rel="prev" title="Classe de segurança" href="security.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Visão geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">Visão geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Criptografar Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Aula de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de modelo</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Tipografia de Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Consultas em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo auxiliar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Auxiliar de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Auxiliar de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Auxiliar de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Auxiliar de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Auxiliar de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Visão geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">Visão geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Criptografar Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Aula de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de modelo</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Tipografia de Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Consultas em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo auxiliar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Auxiliar de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Auxiliar de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Auxiliar de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Auxiliar de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Auxiliar de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Sessões</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="session-library">
<h1>Library de Sessões<a class="headerlink" href="#session-library" title="Permalink to this headline">¶</a></h1>
<p>A classe Session permite que você mantenha o &quot;estado&quot; de um usuário e rastreie
atividade enquanto navegam em seu site.</p>
<p>O CodeIgniter vem com alguns drivers de armazenamento de sessão:</p>
<blockquote>
<div><ul class="simple">
<li>files (default; file-system based)</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>In addition, you may create your own, custom session drivers based on other
tipos de armazenamento, aproveitando ao mesmo tempo os recursos do
Session class.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-session-class" id="id3">Usando a Classe de Sessão</a><ul>
<li><a class="reference internal" href="#initializing-a-session" id="id4">Initializing a Session</a></li>
<li><a class="reference internal" href="#how-do-sessions-work" id="id5">Como funcionam as sessões?</a><ul>
<li><a class="reference internal" href="#a-note-about-concurrency" id="id6">A note about concurrency</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-is-session-data" id="id7">What is Session Data?</a></li>
<li><a class="reference internal" href="#retrieving-session-data" id="id8">Recuperando Dados da Sessão</a></li>
<li><a class="reference internal" href="#adding-session-data" id="id9">Adding Session Data</a></li>
<li><a class="reference internal" href="#removing-session-data" id="id10">Removing Session Data</a></li>
<li><a class="reference internal" href="#flashdata" id="id11">Flashdata</a></li>
<li><a class="reference internal" href="#tempdata" id="id12">Tempdata</a></li>
<li><a class="reference internal" href="#destroying-a-session" id="id13">Destroying a Session</a></li>
<li><a class="reference internal" href="#accessing-session-metadata" id="id14">Acessando metadados da sessão</a></li>
<li><a class="reference internal" href="#session-preferences" id="id15">Session Preferências</a></li>
<li><a class="reference internal" href="#session-drivers" id="id16">Session Drivers</a><ul>
<li><a class="reference internal" href="#files-driver" id="id17">Files Driver</a><ul>
<li><a class="reference internal" href="#bonus-tip" id="id18">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database-driver" id="id19">Driver de database</a></li>
<li><a class="reference internal" href="#redis-driver" id="id20">Redis Driver</a></li>
<li><a class="reference internal" href="#memcached-driver" id="id21">Memcached Driver</a><ul>
<li><a class="reference internal" href="#id1" id="id22">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-drivers" id="id23">Custom Drivers</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id24">Class Reference</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-session-class">
<h2><a class="toc-backref" href="#id3">Usando a Classe de Sessão</a><a class="headerlink" href="#using-the-session-class" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-a-session">
<h3><a class="toc-backref" href="#id4">Initializing a Session</a><a class="headerlink" href="#initializing-a-session" title="Permalink to this headline">¶</a></h3>
<p>As sessões geralmente serão executadas globalmente com cada carregamento de página, de modo que a sessão
classe deve ser inicializado em sua <a class="reference internal" href="../general/controllers.html"><span class="doc">controller</span></a> constructors, or it can be <a class="reference internal" href="../general/autoloader.html"><span class="doc">auto-loaded</span></a> by the system.
For the most part the session class will run unattended in the background,
so simply initializing the class will cause it to read, create, and update
sessions when necessary.</p>
<p>Para inicializar a classe Session manualmente no seu construtor do controlador,
use the <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Once loaded, the Sessions library object will be available using:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Because the <a class="reference internal" href="loader.html"><span class="doc">Classe Loader</span></a> é instanciado
by CodeIgniter’s base controller, make sure to call
<code class="docutils literal"><span class="pre">parent::__construct()</span></code> before trying to load a library from
inside a controller constructor.</p>
</div>
</div>
<div class="section" id="how-do-sessions-work">
<h3><a class="toc-backref" href="#id5">Como funcionam as sessões?</a><a class="headerlink" href="#how-do-sessions-work" title="Permalink to this headline">¶</a></h3>
<p>When a page is loaded, the session class will check to see if valid
session cookie is sent by the user’s browser. If a sessions cookie does
<strong>not</strong> exist (or if it doesn’t match one stored on the server or has
expirado) uma nova sessão será criada e salva.</p>
<p>If a valid session does exist, its information will be updated. With each
update, the session ID may be regenerated if configured to do so.</p>
<p>It’s important for you to understand that once initialized, the Session
class runs automatically. There is nothing you need to do to cause the
above behavior to happen. You can, as you’ll see below, work with session
data, but the process of reading, writing, and updating a session is
automatic.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Under CLI, the Session library will automatically halt itself,
como este é um conceito baseado inteiramente no protocolo HTTP.</p>
</div>
<div class="section" id="a-note-about-concurrency">
<h4><a class="toc-backref" href="#id6">A note about concurrency</a><a class="headerlink" href="#a-note-about-concurrency" title="Permalink to this headline">¶</a></h4>
<p>Unless you’re developing a website with heavy AJAX usage, you can skip this
section. If you are, however, and if you’re experiencing performance
issues, then this note is exactly what you’re looking for.</p>
<p>Sessions in previous versions of CodeIgniter didn’t implement locking,
o que significava que duas solicitações HTTP usando a mesma sessão poderiam ser executadas exatamente
at the same time. To use a more appropriate technical term - requests were
non-blocking.</p>
<p>However, non-blocking requests in the context of sessions also means
inseguro, porque modificações nos dados da sessão (ou regeneração da ID da sessão)
em um pedido pode interferir na execução de um segundo concorrente
pedido. Este detalhe foi a raiz de muitas questões e a principal razão pela qual
CodeIgniter 3.0 has a completely re-written Session library.</p>
<p>Por que estamos te falando isso? Porque é provável que depois de tentar
encontrar o motivo de seus problemas de desempenho, você pode concluir que o bloqueio
is the issue and therefore look into how to remove the locks …</p>
<p>DO NOT DO THAT! Removing locks would be <strong>wrong</strong> e isso fará com que você
more problems!</p>
<p>O bloqueio não é o problema, é uma solução. Seu problema é que você ainda
ter a sessão aberta, enquanto você já processou e, portanto, não
longer need it. So, what you need is to close the session for the
pedido atual depois que você não precisa mais dele.</p>
<p>Long story short - call <code class="docutils literal"><span class="pre">session_write_close()</span></code> once you no longer need
anything to do with session variables.</p>
</div>
</div>
<div class="section" id="what-is-session-data">
<h3><a class="toc-backref" href="#id7">What is Session Data?</a><a class="headerlink" href="#what-is-session-data" title="Permalink to this headline">¶</a></h3>
<p>Session data is simply an array associated with a particular session ID
(cookie).</p>
<p>If you’ve used sessions in PHP before, you should be familiar with PHP’s
<a class="reference external" href="http://php.net/manual/en/reserved.variables.session.php">$_SESSION superglobal</a>
(se não, por favor, leia o conteúdo desse link).</p>
<p>CodeIgniter gives access to its session data through the same means, as it
uses the session handlers’ mechanism provided by PHP. Using session data is
as simple as manipulating (read, set and unset values) the <code class="docutils literal"><span class="pre">$_SESSION</span></code>
array.</p>
<p>In addition, CodeIgniter also provides 2 special types of session data
that are further explained below: flashdata and tempdata.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Nas versões anteriores, os dados da sessão regular no CodeIgniter eram
referred to as ‘userdata’. Have this in mind if that term is used
elsewhere in the manual. Most of it is written to explain how
os métodos personalizados &#39;userdata&#39; funcionam.</p>
</div>
</div>
<div class="section" id="retrieving-session-data">
<h3><a class="toc-backref" href="#id8">Recuperando Dados da Sessão</a><a class="headerlink" href="#retrieving-session-data" title="Permalink to this headline">¶</a></h3>
<p>Qualquer informação da matriz de sessão está disponível através do
<code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or through the magic getter:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">item</span>
</pre></div>
</div>
<p>And for backwards compatibility, through the <code class="docutils literal"><span class="pre">userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Onde item é a chave da matriz correspondente ao item que você deseja buscar.
Por exemplo, para atribuir um item &#39;name&#39; armazenado <code class="docutils literal"><span class="pre">$name</span></code>
variável, você fará isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">name</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method returns NULL if the item you are trying
para acessar não existe.</p>
</div>
<p>If you want to retrieve all of the existing userdata, you can simply
omitir a chave do item (o magic getter só funciona para propriedades):</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span>

<span class="c1">// or:</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-session-data">
<h3><a class="toc-backref" href="#id9">Adding Session Data</a><a class="headerlink" href="#adding-session-data" title="Permalink to this headline">¶</a></h3>
<p>Let’s say a particular user logs into your site. Once authenticated, you
poderia adicionar seu nome de usuário e endereço de e-mail à sessão, fazendo com que
data globally available to you without having to run a database query when
you need it.</p>
<p>You can simply assign data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array, as with any other
variable. Or as a property of <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>.</p>
<p>Alternatively, the old method of assigning it as “userdata” is also
acessível. Que, no entanto, passando uma matriz contendo seus novos dados para o
<code class="docutils literal"><span class="pre">set_userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">$array</span></code> is an associative array containing your new data. Here’s
um exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$newdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;username&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;johndoe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;email&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;johndoe@some-site.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;logged_in&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$newdata</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want to add userdata one value at a time, <code class="docutils literal"><span class="pre">set_userdata()</span></code> also
suporta esta sintaxe:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">,</span> <span class="s1">&#39;some_value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want to verify that a session value exists, simply check with
<code class="docutils literal"><span class="pre">isset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// returns FALSE if the &#39;some_name&#39; item doesn&#39;t exist or is NULL,</span>
<span class="c1">// TRUE otherwise:</span>
<span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Or you can call <code class="docutils literal"><span class="pre">has_userdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">has_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-session-data">
<h3><a class="toc-backref" href="#id10">Removing Session Data</a><a class="headerlink" href="#removing-session-data" title="Permalink to this headline">¶</a></h3>
<p>Just as with any other variable, unsetting a value in <code class="docutils literal"><span class="pre">$_SESSION</span></code> can be
done through <code class="docutils literal"><span class="pre">unset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">]);</span>

<span class="c1">// or multiple values:</span>

<span class="nb">unset</span><span class="p">(</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">],</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;another_name&#39;</span><span class="p">]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Also, just as <code class="docutils literal"><span class="pre">set_userdata()</span></code> can be used to add information to a
session, <code class="docutils literal"><span class="pre">unset_userdata()</span></code> can be used to remove it, by passing the
session key. For example, if you wanted to remove ‘some_name’ from your
session data array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Esse método também aceita uma matriz de chaves de itens para não definir:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$array_items</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="nv">$array_items</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">In previous versions, the <code class="docutils literal"><span class="pre">unset_userdata()</span></code> method used
para aceitar uma matriz associativa de <code class="docutils literal"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">'dummy</span> <span class="pre">value'</span></code>
pares. Isso não é mais suportado.</p>
</div>
</div>
<div class="section" id="flashdata">
<h3><a class="toc-backref" href="#id11">Flashdata</a><a class="headerlink" href="#flashdata" title="Permalink to this headline">¶</a></h3>
<p>CodeIgniter supports “flashdata”, or session data that will only be
available for the next request, and is then automatically cleared.</p>
<p>Isso pode ser muito útil, especialmente para informações únicas, erros ou
mensagens de status (por exemplo: “Registro 2 excluído”).</p>
<p>It should be noted that flashdata variables are regular session vars,
marcada apenas de uma maneira específica sob a chave &#39;__ci_vars&#39; (por favor, não toque
aquele, você foi avisado).</p>
<p>Para marcar um item existente como &quot;flashdata&quot;:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Se você quiser marcar vários itens como flashdata, simplesmente passe as chaves como um
array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>Para adicionar flashdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_flashdata()</span></code>, in the same manner as
<code class="docutils literal"><span class="pre">set_userdata()</span></code>.</p>
<p>Reading flashdata variables is the same as reading regular session data
through <code class="docutils literal"><span class="pre">$_SESSION</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return flashdata items.</p>
</div>
<p>No entanto, se você quiser ter certeza de que está lendo “flashdata” (e não
any other kind), you can also use the <code class="docutils literal"><span class="pre">flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Ou para obter um array com todos os flashdata, simplesmente omita o parâmetro key:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">flashdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você achar que precisa preservar uma variável flashdata através de um
additional request, you can do so using the <code class="docutils literal"><span class="pre">keep_flashdata()</span></code> method.
You can either pass a single item or an array of flashdata items to keep.</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item1&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">,</span> <span class="s1">&#39;item3&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="tempdata">
<h3><a class="toc-backref" href="#id12">Tempdata</a><a class="headerlink" href="#tempdata" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter também suporta “tempdata”, ou dados de sessão com um
data de validade. Depois que o valor expira, ou a sessão expira ou é
deleted, the value is automatically removed.</p>
<p>Similarly to flashdata, tempdata variables are regular session vars that
estão marcados de uma maneira específica sob a chave &#39;__ci_vars&#39; (novamente, não toque
that one).</p>
<p>To mark an existing item as “tempdata”, simply pass its key and expiry time
(in seconds!) to the <code class="docutils literal"><span class="pre">mark_as_temp()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// &#39;item&#39; will be erased after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>You can mark multiple items as tempdata in two ways, depending on whether
você quer que todos tenham o mesmo tempo de expiração ou não:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Both &#39;item&#39; and &#39;item2&#39; will expire after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">),</span> <span class="mi">300</span><span class="p">);</span>

<span class="c1">// &#39;item&#39; will be erased after 300 seconds, while &#39;item2&#39;</span>
<span class="c1">// will do so after only 240 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;item&#39;</span>  <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span>
        <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="mi">240</span>
<span class="p">));</span>
</pre></div>
</div>
<p>To add tempdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span> <span class="c1">// Expire in 5 minutes</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$tempdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;newuser&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Thanks for joining!&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="nv">$tempdata</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="nv">$expire</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">If the expiration is omitted or set to 0, the default
O valor do tempo de vida de 300 segundos (ou 5 minutos) será usado.</p>
</div>
<p>To read a tempdata variable, again you can just access it through the
<code class="docutils literal"><span class="pre">$_SESSION</span></code> matriz superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return tempdata items.</p>
</div>
<p>Or if you want to be sure that you’re reading “tempdata” (and not any
other kind), you can also use the <code class="docutils literal"><span class="pre">tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>And of course, if you want to retrieve all existing tempdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">tempdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você precisar remover um valor de tempdata antes que ele expire, você pode
unset it from the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>No entanto, isso não removerá o marcador que faz com que esse item específico seja
tempdata (it will be invalidated on the next HTTP request), so if you
pretende reutilizar essa mesma chave no mesmo pedido, você gostaria de usar
<code class="docutils literal"><span class="pre">unset_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="destroying-a-session">
<h3><a class="toc-backref" href="#id13">Destroying a Session</a><a class="headerlink" href="#destroying-a-session" title="Permalink to this headline">¶</a></h3>
<p>Para limpar a sessão atual (por exemplo, durante um logout), você pode
basta usar o PHP <a class="reference external" href="http://php.net/session_destroy">session_destroy()</a>
function, or the <code class="docutils literal"><span class="pre">sess_destroy()</span></code> method. Both will work in exactly the
same way:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">session_destroy</span><span class="p">();</span>

<span class="c1">// or</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">sess_destroy</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This must be the last session-related operation that you do
during the same request. All session data (including flashdata and
tempdata) will be destroyed permanently and functions will be
unusable during the same request after you destroy the session.</p>
</div>
</div>
<div class="section" id="accessing-session-metadata">
<h3><a class="toc-backref" href="#id14">Acessando metadados da sessão</a><a class="headerlink" href="#accessing-session-metadata" title="Permalink to this headline">¶</a></h3>
<p>In previous CodeIgniter versions, the session data array included 4 items
por padrão: &#39;session_id&#39;, &#39;ip_address&#39;, &#39;user_agent&#39;, &#39;last_activity&#39;.</p>
<p>Isso se deveu aos detalhes de como as sessões funcionavam, mas agora não é mais
necessary with our new implementation. However, it may happen that your
application relied on these values, so here are alternative methods of
accessing them:</p>
<blockquote>
<div><ul class="simple">
<li>session_id: <code class="docutils literal"><span class="pre">session_id()</span></code></li>
<li>ip_address: <code class="docutils literal"><span class="pre">$_SERVER['REMOTE_ADDR']</span></code></li>
<li>user_agent: <code class="docutils literal"><span class="pre">$this-&gt;input-&gt;user_agent()</span></code> (unused by sessions)</li>
<li>last_activity: Depende do armazenamento, sem um caminho direto. Desculpa!</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="session-preferences">
<h3><a class="toc-backref" href="#id15">Session Preferências</a><a class="headerlink" href="#session-preferences" title="Permalink to this headline">¶</a></h3>
<p>CodeIgniter will usually make everything work out of the box. However,
As sessões são um componente muito sensível de qualquer aplicativo,
careful configuration must be done. Please take your time to consider
all of the options and their effects.</p>
<p>You’ll find the following Session related preferences in your
<strong>application/config/config.php</strong> file:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="9%" />
<col width="23%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Padrão</th>
<th class="head">Opções</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>sess_driver</strong></td>
<td>files</td>
<td>files/database/redis/memcached/<em>custom</em></td>
<td>The session storage driver to use.</td>
</tr>
<tr class="row-odd"><td><strong>sess_cookie_name</strong></td>
<td>ci_session</td>
<td>[A-Za-z_-] characters only</td>
<td>O nome usado para o cookie da sessão.</td>
</tr>
<tr class="row-even"><td><strong>sess_expiration</strong></td>
<td>7200 (2 hours)</td>
<td>Time in seconds (integer)</td>
<td>The number of seconds you would like the session to last.
If you would like a non-expiring session (until browser is closed) set the value to zero: 0</td>
</tr>
<tr class="row-odd"><td><strong>sess_save_path</strong></td>
<td>NULL</td>
<td>None</td>
<td>Especifica o local de armazenamento, depende do driver que está sendo usado.</td>
</tr>
<tr class="row-even"><td><strong>sess_match_ip</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (boolean)</td>
<td>Whether to validate the user’s IP address when reading the session cookie.
Nota que alguns ISPs mudam dinamicamente o IP, então se você quer uma sessão que não expira você
provavelmente configurará isso como FALSE.</td>
</tr>
<tr class="row-odd"><td><strong>sess_time_to_update</strong></td>
<td>300</td>
<td>Time in seconds (integer)</td>
<td>Esta opção controla com que frequência a classe de sessão se regenerará e criará uma nova
session ID. Setting it to 0 will disable session ID regeneration.</td>
</tr>
<tr class="row-even"><td><strong>sess_regenerate_destroy</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (boolean)</td>
<td>Se deve destruir os dados da sessão associados ao ID da sessão antiga ao regenerar automaticamente
o ID da sessão. Quando definido como FALSE, os dados serão posteriormente excluídos pelo coletor de lixo.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">As a last resort, the Session library will try to fetch PHP’s
session related INI settings, as well as legacy CI settings such as
&#39;sess_expire_on_close&#39; quando qualquer um dos itens acima não estiver configurado.
No entanto, você nunca deve confiar nesse comportamento, pois pode causar
unexpected results or be changed in the future. Please configure
everything properly.</p>
</div>
<p>In addition to the values above, the cookie and native drivers apply the
following configuration values shared by the <a class="reference internal" href="input.html"><span class="doc">Input</span></a> and
<a class="reference internal" href="security.html"><span class="doc">Segurança</span></a> classes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Padrão</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>cookie_domain</strong></td>
<td>‘’</td>
<td>The domain for which the session is applicable</td>
</tr>
<tr class="row-odd"><td><strong>cookie_path</strong></td>
<td>/</td>
<td>The path to which the session is applicable</td>
</tr>
<tr class="row-even"><td><strong>cookie_secure</strong></td>
<td>FALSE</td>
<td>Whether to create the session cookie only on encrypted (HTTPS) connections</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The ‘cookie_httponly’ setting doesn’t have an effect on sessions.
Em vez disso, o parâmetro HttpOnly está sempre ativado, por segurança
razões. Além disso, a configuração &#39;cookie_prefix&#39; é completamente
ignored.</p>
</div>
</div>
<div class="section" id="session-drivers">
<h3><a class="toc-backref" href="#id16">Session Drivers</a><a class="headerlink" href="#session-drivers" title="Permalink to this headline">¶</a></h3>
<p>Como já mencionado, a library Session vem com 4 drivers ou armazenamento
engines, that you can use:</p>
<blockquote>
<div><ul class="simple">
<li>files</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>By default, the <a class="reference internal" href="#files-driver">Files Driver</a> will be used when a session is initialized,
porque é a escolha mais segura e espera-se que funcione em todos os lugares
(virtually every environment has a file system).</p>
<p>However, any other driver may be selected via the <code class="docutils literal"><span class="pre">$config['sess_driver']</span></code>
line in your <strong>application/config/config.php</strong> arquivo, se você escolheu fazê-lo.
Have it in mind though, every driver has different caveats, so be sure to
familiarize-se com eles (abaixo) antes de fazer essa escolha.</p>
<p>In addition, you may also create and use <a class="reference internal" href="#custom-drivers">Custom Drivers</a>, se os
provided by default don’t satisfy your use case.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">In previous CodeIgniter versions, a different, “cookie driver”
was the only option and we have received negative feedback on not
fornecendo essa opção. Enquanto ouvimos o feedback do
community, we want to warn you that it was dropped because it is
<strong>unsafe</strong> e nós aconselhamos que você não tente replicá-lo através de um
driver personalizado.</p>
</div>
<div class="section" id="files-driver">
<h4><a class="toc-backref" href="#id17">Files Driver</a><a class="headerlink" href="#files-driver" title="Permalink to this headline">¶</a></h4>
<p>The ‘files’ driver uses your file system for storing session data.</p>
<p>Pode-se dizer com segurança que funciona exatamente como a própria sessão padrão do PHP
implementação, mas caso este seja um detalhe importante para você, tenha
mind that it is in fact not the same code and it has some limitations
(and advantages).</p>
<p>To be more specific, it doesn’t support PHP’s <a class="reference external" href="http://php.net/manual/en/session.configuration.php#ini.session.save-path">nível de diretório e modo
formats used in session.save_path</a>,
e tem a maioria das opções codificadas para segurança. Em vez disso, apenas
absolute paths are supported for <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code>.</p>
<p>Another important thing that you should know, is to make sure that you
don’t use a publicly-readable or shared directory for storing your session
files. Make sure that <em>only you</em> have access to see the contents of your
chosen <em>sess_save_path</em> directory. Otherwise, anybody who can do that, can
também rouba qualquer uma das sessões atuais (também conhecida como “fixação de sessão”).
attack).</p>
<p>On UNIX-like operating systems, this is usually achieved by setting the
0700 mode permissions on that directory via the <cite>chmod</cite> command, which
allows only the directory’s owner to perform read and write operations on
it. But be careful because the system user <em>running</em> the script is usually
not your own, but something like ‘www-data’ instead, so only setting those
Permissões provavelmente irão quebrar seu aplicativo.</p>
<p>Em vez disso, você deve fazer algo assim, dependendo do seu ambiente</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">mkdir</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chmod</span> <span class="mo">0700</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chown</span> <span class="nx">www</span><span class="o">-</span><span class="nx">data</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
</pre></div>
</div>
<div class="section" id="bonus-tip">
<h5><a class="toc-backref" href="#id18">Dica bônus</a><a class="headerlink" href="#bonus-tip" title="Permalink to this headline">¶</a></h5>
<p>Some of you will probably opt to choose another session driver because
O armazenamento de arquivos geralmente é mais lento. Isso é apenas meia verdade.</p>
<p>Um teste muito básico provavelmente irá levá-lo a acreditar que um SQL
database is faster, but in 99% of the cases, this is only true while you
only have a few current sessions. As the sessions count and server loads
aumentar - que é o momento em que isso é importante - o sistema de arquivos
consistently outperform almost all relational database setups.</p>
<p>Além disso, se o desempenho é sua única preocupação, você pode querer olhar
into using <a class="reference external" href="http://eddmann.com/posts/storing-php-sessions-file-caches-in-memory-using-tmpfs/">tmpfs</a>,
(warning: external resource), which can make your sessions blazing fast.</p>
</div>
</div>
<div class="section" id="database-driver">
<h4><a class="toc-backref" href="#id19">Driver de database</a><a class="headerlink" href="#database-driver" title="Permalink to this headline">¶</a></h4>
<p>The ‘database’ driver uses a relational database such as MySQL or
PostgreSQL para armazenar sessões. Esta é uma escolha popular entre muitos usuários,
porque permite ao desenvolvedor fácil acesso aos dados da sessão dentro
an application - it is just another table in your database.</p>
<p>No entanto, existem algumas condições que devem ser atendidas:</p>
<blockquote>
<div><ul class="simple">
<li>Somente seu <strong>default</strong> database connection (or the one that you access
as <code class="docutils literal"><span class="pre">$this-&gt;db</span></code> from your controllers) can be used.</li>
<li>You must have the <a class="reference internal" href="../database/query_builder.html"><span class="doc">Query Builder</span></a>
enabled.</li>
<li>You can NOT use a persistent connection.</li>
<li>You can NOT use a connection with the <em>cache_on</em> setting enabled.</li>
</ul>
</div></blockquote>
<p>Para usar o driver de sessão &#39;database&#39;, você também deve criar
tabela que já mencionamos e, em seguida, defini-lo como seu
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> value.
For example, if you would like to use ‘ci_sessions’ as your table name,
you would do this:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;database&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ci_sessions&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">If you’ve upgraded from a previous version of CodeIgniter and
você não tem &#39;sess_save_path&#39; configurado, então a Session
a library procurará a configuração antiga &#39;sess_table_name&#39; e usará
it instead. Please don’t rely on this behavior as it will get
removido no futuro.</p>
</div>
<p>And then of course, create the database table …</p>
<p>For MySQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="nx">EXISTS</span> <span class="sb">`ci_sessions`</span> <span class="p">(</span>
        <span class="sb">`id`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`ip_address`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`timestamp`</span> <span class="nx">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="nx">unsigned</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`data`</span> <span class="nx">blob</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="nx">KEY</span> <span class="sb">`ci_sessions_timestamp`</span> <span class="p">(</span><span class="sb">`timestamp`</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Para o PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;ip_address&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="nx">bigint</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;data&quot;</span> <span class="nx">text</span> <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="nx">CREATE</span> <span class="nx">INDEX</span> <span class="s2">&quot;ci_sessions_timestamp&quot;</span> <span class="nx">ON</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Você também precisará adicionar uma CHAVE PRIMÁRIA <strong>depending on your ‘sess_match_ip’
setting</strong>. The examples below work both on MySQL and PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// When sess_match_ip = TRUE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">ip_address</span><span class="p">);</span>

<span class="c1">// When sess_match_ip = FALSE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="c1">// To drop a previously created primary key (use when changing the setting)</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">DROP</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Only MySQL and PostgreSQL databases are officially
supported, due to lack of advisory locking mechanisms on other
platforms. Using sessions without locks can cause all sorts of
problemas, especialmente com o uso pesado de AJAX, e nós não vamos
support such cases. Use <code class="docutils literal"><span class="pre">session_write_close()</span></code> after you’ve
feito o processamento de dados da sessão se você está tendo desempenho
issues.</p>
</div>
</div>
<div class="section" id="redis-driver">
<h4><a class="toc-backref" href="#id20">Redis Driver</a><a class="headerlink" href="#redis-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Since Redis doesn’t have a locking mechanism exposed, locks for
este driver é emulado por um valor separado que é mantido por até
to 300 seconds.</p>
</div>
<p>Redis é um mecanismo de armazenamento normalmente usado para armazenamento em cache e popular porque
of its high performance, which is also probably your reason to use the
‘redis’ session driver.</p>
<p>The downside is that it is not as ubiquitous as relational databases and
requer o <a class="reference external" href="https://github.com/phpredis/phpredis">phpredis</a> PHP
extension to be installed on your system, and that one doesn’t come
empacotado com o PHP.
Chances are, you’re only be using the ‘redis’ driver only if you’re already
ambos familiarizados com o Redis e usá-lo para outros fins.</p>
<p>Just as with the ‘files’ and ‘database’ drivers, you must also configure
o local de armazenamento para as suas sessões através do
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> setting.
The format here is a bit different and complicated at the same time. It is
best explained by the <em>phpredis</em> extension’s README file, so we’ll simply
link you to it:</p>
<blockquote>
<div><a class="reference external" href="https://github.com/phpredis/phpredis#php-session-handler">https://github.com/phpredis/phpredis#php-session-handler</a></div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Aviso</p>
<p class="last">CodeIgniter’s Session library does NOT use the actual ‘redis’
<code class="docutils literal"><span class="pre">session.save_handler</span></code>. Tome nota <strong>only</strong> of the path format in
the link above.</p>
</div>
<p>For the most common case however, a simple <code class="docutils literal"><span class="pre">host:port</span></code> pair should be
sufficient:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;redis&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tcp://localhost:6379&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="memcached-driver">
<h4><a class="toc-backref" href="#id21">Memcached Driver</a><a class="headerlink" href="#memcached-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Since Memcache doesn’t have a locking mechanism exposed, locks
for this driver are emulated by a separate value that is kept for
até 300 segundos.</p>
</div>
<p>The ‘memcached’ driver is very similar to the ‘redis’ one in all of its
properties, except perhaps for availability, because PHP’s <a class="reference external" href="http://php.net/memcached">Memcached</a> extension is distributed via PECL and some
As distrubutions do Linux disponibilizam como um pacote fácil de instalar.</p>
<p>Other than that, and without any intentional bias towards Redis, there’s
not much different to be said about Memcached - it is also a popular
product that is usually used for caching and famed for its speed.</p>
<p>However, it is worth noting that the only guarantee given by Memcached
is that setting value X to expire after Y seconds will result in it being
excluído após Y segundos se passarem (mas não necessariamente que não
expire earlier than that time). This happens very rarely, but should be
considered as it may result in loss of sessions.</p>
<p>The <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> format is fairly straightforward here,
being just a <code class="docutils literal"><span class="pre">host:port</span></code> pair:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;memcached&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="id1">
<h5><a class="toc-backref" href="#id22">Dica bônus</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>Multi-server configuration with an optional <em>weight</em> parameter as the
third colon-separated (<code class="docutils literal"><span class="pre">:weight</span></code>) value is also supported, but we have
to note that we haven’t tested if that is reliable.</p>
<p>If you want to experiment with this feature (on your own risk), simply
separate the multiple server paths with commas:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// localhost will be given higher priority (5) here,</span>
<span class="c1">// compared to 192.0.2.1 with a weight of 1.</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211:5,192.0.2.1:11211:1&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-drivers">
<h4><a class="toc-backref" href="#id23">Custom Drivers</a><a class="headerlink" href="#custom-drivers" title="Permalink to this headline">¶</a></h4>
<p>You may also create your own, custom session drivers. However, have it in
Lembre-se de que essa não é uma tarefa fácil, já que é preciso muito
knowledge to do it properly.</p>
<p>You need to know not only how sessions work in general, but also how they
trabalhar especificamente em PHP, como o mecanismo de armazenamento subjacente funciona, como
to handle concurrency, avoid deadlocks (but NOT through lack of locks) and
por último mas não menos importante - como lidar com os possíveis problemas de segurança, que
is far from trivial.</p>
<p>Longa história curta - se você não sabe como fazer isso no PHP,
you shouldn’t be trying to do it within CodeIgniter either. You’ve been
warned.</p>
<p>If you only want to add some extra functionality to your sessions, just
estender a classe de sessão base, que é muito mais fácil. Leia o
<a class="reference internal" href="../general/creating_libraries.html"><span class="doc">Criando Librarys</span></a> article to
aprenda como fazer isso.</p>
<p>Now, to the point - there are three general rules that you must follow
ao criar um driver de sessão para o CodeIgniter:</p>
<blockquote>
<div><ul>
<li><p class="first">Coloque o arquivo do seu driver sob <strong>application/libraries/Session/drivers/</strong>
and follow the naming conventions used by the Session class.</p>
<p>For example, if you were to create a ‘dummy’ driver, you would have
a <code class="docutils literal"><span class="pre">Session_dummy_driver</span></code> class name, that is declared in
<em>application/libraries/Session/drivers/Session_dummy_driver.php</em>.</p>
</li>
<li><p class="first">Extend the <code class="docutils literal"><span class="pre">CI_Session_driver</span></code> class.</p>
<p>Esta é apenas uma classe básica com alguns métodos auxiliares internos. Isto é
also extendable like any other library, if you really need to do that,
mas não vamos explicar como ... se você está familiarizado
extensões de classe/substitui o trabalho no CI, então você já sabe como fazer
isto. Se não, bem, você não deveria estar fazendo isso em primeiro lugar.</p>
</li>
<li><p class="first">Implemente o <a class="reference external" href="http://php.net/sessionhandlerinterface">SessionHandlerInterface</a> interface.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">You may notice that <code class="docutils literal"><span class="pre">SessionHandlerInterface</span></code> is provided
by PHP since version 5.4.0. CodeIgniter will automatically declare
a mesma interface se você estiver executando uma versão mais antiga do PHP.</p>
</div>
<p>O link explicará por que e como.</p>
</li>
</ul>
</div></blockquote>
<p>So, based on our ‘dummy’ driver example above, you’d end up with something
like this:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// application/libraries/Session/drivers/Session_dummy_driver.php:</span>

<span class="k">class</span> <span class="nc">CI_Session_dummy_driver</span> <span class="k">extends</span> <span class="nx">CI_Session_driver</span> <span class="k">implements</span> <span class="nx">SessionHandlerInterface</span>
<span class="p">{</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$params</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// DO NOT forget this</span>
                <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>

                <span class="c1">// Configuration &amp; other initializations</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">open</span><span class="p">(</span><span class="nv">$save_path</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Initialize storage mechanism (connection)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">read</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Read session data (if exists), acquire locks</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">write</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">,</span> <span class="nv">$session_data</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Create / update session data (it might not exist!)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">close</span><span class="p">()</span>
        <span class="p">{</span>
                <span class="c1">// Free locks, close connections / streams / etc.</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">destroy</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Call close() method &amp; destroy data for current session (order may differ)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">gc</span><span class="p">(</span><span class="nv">$maxlifetime</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Erase data for expired sessions</span>
        <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Se você fez tudo corretamente, agora você pode definir o seu <em>sess_driver</em>
valor de configuração para &#39;fictício&#39; e use seu próprio driver. Parabéns!</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id24">Class Reference</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Session">
<em class="property">class </em><code class="descname">CI_Session</code><a class="headerlink" href="#CI_Session" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Session::userdata">
<code class="descname">userdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – Session item key or NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Value of the specified item key, or an array of all userdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item, or an
matriz de todos os itens &quot;userdata&quot; se a chave não foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. You should
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::all_userdata">
<code class="descname">all_userdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::all_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Uma matriz de todos os dados do usuário</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Returns an array containing all “userdata” items.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This method is DEPRECATED. Use <code class="docutils literal"><span class="pre">userdata()</span></code>
sem parâmetros em vez disso.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">&amp;get_userdata()</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A reference to <code class="docutils literal"><span class="pre">$_SESSION</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Returns a reference to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::has_userdata">
<code class="descname">has_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::has_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – Session item key</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">TRUE if the specified key exists, FALSE if not</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Checks if an item exists in <code class="docutils literal"><span class="pre">$_SESSION</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. It is just
an alias for <code class="docutils literal"><span class="pre">isset($_SESSION[$key])</span></code> - please
use that instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_userdata">
<code class="descname">set_userdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) – An array of key/value pairs to set as session data, or the key for a single item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unset_userdata">
<code class="descname">unset_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unset_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – Key for the session data item to unset, or an array of multiple keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unsets the specified key(s) from the <code class="docutils literal"><span class="pre">$_SESSION</span></code>
superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. It is just
an alias for <code class="docutils literal"><span class="pre">unset($_SESSION[$key])</span></code> - please
use that instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_flash">
<code class="descname">mark_as_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para marcar como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_flash_keys">
<code class="descname">get_flash_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_flash_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Array containing the keys of all “flashdata” items.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_flash">
<code class="descname">unmark_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::flashdata">
<code class="descname">flashdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave do item Flashdata ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Value of the specified item key, or an array of all flashdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
been marked as “flashdata”, or an array of all “flashdata”
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. You should
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::keep_flashdata">
<code class="descname">keep_flashdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::keep_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – Flashdata key to keep, or an array of multiple keys</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Retains the specified session data key(s) as “flashdata”
through the next request.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. It is just
an alias for the <code class="docutils literal"><span class="pre">mark_as_flash()</span></code> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_flashdata">
<code class="descname">set_flashdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) – An array of key/value pairs to set as flashdata, or the key for a single item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
as “flashdata”.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_temp">
<code class="descname">mark_as_temp</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$ttl = 300</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – Key to mark as tempdata, or an array of multiple keys</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida dos tempdata, em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_temp_keys">
<code class="descname">get_temp_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_temp_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Array containing the keys of all “tempdata” items.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_temp">
<code class="descname">unmark_temp</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como tempdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::tempdata">
<code class="descname">tempdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) – Tempdata item key or NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Value of the specified item key, or an array of all tempdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
been marked as “tempdata”, or an array of all “tempdata”
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications. You should
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_tempdata">
<code class="descname">set_tempdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como tempdata ou a chave para um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida do (s) item (s) tempdata (s), em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
como &quot;tempdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibility with older applications.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_regenerate">
<code class="descname">sess_regenerate</code><span class="sig-paren">(</span><span class="optional">[</span><em>$destroy = FALSE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_regenerate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$destroy</strong> (<em>bool</em>) – Whether to destroy session data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Regenerar a ID da sessão, opcionalmente destruindo a corrente
session’s data.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_regenerate_id">session_regenerate_id()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_destroy">
<code class="descname">sess_destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_destroy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
<p>Destroys the current session.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This must be the <em>last</em> session-related function
que você chama. Todos os dados da sessão serão perdidos após
faça isso.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_destroy">session_destroy()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__get">
<code class="descname">__get</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__get" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – Session item key</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The requested session data item, or NULL if it doesn’t exist</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>A magic method that allows you to use
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;item</span></code> instead of <code class="docutils literal"><span class="pre">$_SESSION['item']</span></code>,
se é isso que você prefere.</p>
<p>Ele também retornará o ID da sessão chamando
<code class="docutils literal"><span class="pre">session_id()</span></code> if you try to access
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;session_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__set">
<code class="descname">__set</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__set" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – Session item key</li>
<li><strong>$value</strong> (<em>mixed</em>) – Value to assign to the session item key</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Um método mágico que permite atribuir itens a
<code class="docutils literal"><span class="pre">$_SESSION</span></code> by accessing them as <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>
properties:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>

<span class="c1">// Results in:</span>
<span class="c1">// $_SESSION[&#39;foo&#39;] = &#39;bar&#39;;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="table.html" class="btn btn-neutral float-right" title="Classe de Tabela HTML">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="security.html" class="btn btn-neutral" title="Classe de segurança"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Sessões &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Tabela HTML" href="table.html"/>
        <link rel="prev" title="Classe de segurança" href="security.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Sessões</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="session-library">
<h1>Library de Sessões<a class="headerlink" href="#session-library" title="Permalink to this headline">¶</a></h1>
<p>A classe Session permite que você mantenha o &quot;estado&quot; de um usuário e rastreie
atividade enquanto navegam em seu site.</p>
<p>O CodeIgniter vem com alguns drivers de armazenamento de sessão:</p>
<blockquote>
<div><ul class="simple">
<li>arquivos (padrão; baseado em sistema de arquivos)</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>Além disso, você pode criar seus próprios drivers de sessão personalizados com base em outros
tipos de armazenamento, aproveitando ao mesmo tempo os recursos do
Classe de sessão.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-session-class" id="id3">Usando a Classe de Sessão</a><ul>
<li><a class="reference internal" href="#initializing-a-session" id="id4">Inicializando uma Sessão</a></li>
<li><a class="reference internal" href="#how-do-sessions-work" id="id5">Como funcionam as sessões?</a><ul>
<li><a class="reference internal" href="#a-note-about-concurrency" id="id6">Uma nota sobre simultaneidade</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-is-session-data" id="id7">O que são dados da sessão?</a></li>
<li><a class="reference internal" href="#retrieving-session-data" id="id8">Recuperando Dados da Sessão</a></li>
<li><a class="reference internal" href="#adding-session-data" id="id9">Adicionando dados da sessão</a></li>
<li><a class="reference internal" href="#removing-session-data" id="id10">Removendo os dados da sessão</a></li>
<li><a class="reference internal" href="#flashdata" id="id11">Flashdata</a></li>
<li><a class="reference internal" href="#tempdata" id="id12">Tempdata</a></li>
<li><a class="reference internal" href="#destroying-a-session" id="id13">Destruindo uma Sessão</a></li>
<li><a class="reference internal" href="#accessing-session-metadata" id="id14">Acessando metadados da sessão</a></li>
<li><a class="reference internal" href="#session-preferences" id="id15">Preferências de sessão</a></li>
<li><a class="reference internal" href="#session-drivers" id="id16">Drivers de Sessão</a><ul>
<li><a class="reference internal" href="#files-driver" id="id17">Driver de Arquivos</a><ul>
<li><a class="reference internal" href="#bonus-tip" id="id18">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database-driver" id="id19">Driver de database</a></li>
<li><a class="reference internal" href="#redis-driver" id="id20">Redis Driver</a></li>
<li><a class="reference internal" href="#memcached-driver" id="id21">Memcached Driver</a><ul>
<li><a class="reference internal" href="#id1" id="id22">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-drivers" id="id23">Drivers personalizados</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id24">Referência de Classe</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-session-class">
<h2><a class="toc-backref" href="#id3">Usando a Classe de Sessão</a><a class="headerlink" href="#using-the-session-class" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-a-session">
<h3><a class="toc-backref" href="#id4">Inicializando uma Sessão</a><a class="headerlink" href="#initializing-a-session" title="Permalink to this headline">¶</a></h3>
<p>As sessões geralmente serão executadas globalmente com cada carregamento de página, de modo que a sessão
classe deve ser inicializado em sua <a class="reference internal" href="../general/controllers.html"><span class="doc">controller</span></a> construtores, ou pode ser <a class="reference internal" href="../general/autoloader.html"><span class="doc">auto-loaded</span></a> pelo sistema.
Na maior parte, a classe de sessão será executada sem superView em segundo plano,
então, simplesmente inicializar a classe fará com que ela leia, crie e atualize
sessões quando necessário.</p>
<p>Para inicializar a classe Session manualmente no seu construtor do Controller,
use the <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Uma vez carregado, o objeto da Library de sessões estará disponível usando:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Porque o <a class="reference internal" href="loader.html"><span class="doc">Classe Loader</span></a> é instanciado
pelo Controller de base do CodeIgniter, certifique-se de chamar
<code class="docutils literal"><span class="pre">parent::__construct()</span></code> antes de tentar carregar uma Library de
dentro de um construtor do Controller.</p>
</div>
</div>
<div class="section" id="how-do-sessions-work">
<h3><a class="toc-backref" href="#id5">Como funcionam as sessões?</a><a class="headerlink" href="#how-do-sessions-work" title="Permalink to this headline">¶</a></h3>
<p>Quando uma página é carregada, a classe de sessão verificará se ela é válida
O cookie de sessão é enviado pelo navegador do usuário. Se um cookie de sessões não
<strong>not</strong> existem (ou se não corresponderem a um armazenado no servidor ou
expirado) uma nova sessão será criada e salva.</p>
<p>Se uma sessão válida existir, suas informações serão atualizadas. Com cada
atualização, o ID da sessão pode ser regenerado se configurado para fazer isso.</p>
<p>É importante que você entenda que, uma vez inicializado, a sessão
a classe é executada automaticamente. Não há nada que você precise fazer para causar
acima do comportamento para acontecer. Você pode, como você verá abaixo, trabalhar com a sessão
dados, mas o processo de ler, escrever e atualizar uma sessão é
automatic.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Na CLI, a Library de Sessões irá parar automaticamente,
como este é um conceito baseado inteiramente no protocolo HTTP.</p>
</div>
<div class="section" id="a-note-about-concurrency">
<h4><a class="toc-backref" href="#id6">Uma nota sobre simultaneidade</a><a class="headerlink" href="#a-note-about-concurrency" title="Permalink to this headline">¶</a></h4>
<p>A menos que você esteja desenvolvendo um site com uso pesado de AJAX, você pode pular esta
seção. Se você é, no entanto, e se você está experimentando o desempenho
questões, então esta nota é exatamente o que você está procurando.</p>
<p>Sessões em versões anteriores do CodeIgniter não implementaram o bloqueio,
o que significava que duas solicitações HTTP usando a mesma sessão poderiam ser executadas exatamente
ao mesmo tempo. Para usar um termo técnico mais apropriado - os pedidos eram
non-blocking.</p>
<p>No entanto, pedidos sem bloqueio no contexto de sessões também significam
inseguro, porque modificações nos dados da sessão (ou regeneração da ID da sessão)
em um pedido pode interferir na execução de um segundo concorrente
pedido. Este detalhe foi a raiz de muitas questões e a principal razão pela qual
O CodeIgniter 3.0 possui uma Library Session totalmente reescrita.</p>
<p>Por que estamos te falando isso? Porque é provável que depois de tentar
encontrar o motivo de seus problemas de desempenho, você pode concluir que o bloqueio
é o problema e, portanto, veja como remover as travas ...</p>
<p>NÃO FAÇA ISSO! Remover bloqueios seria <strong>wrong</strong> e isso fará com que você
mais problemas!</p>
<p>O bloqueio não é o problema, é uma solução. Seu problema é que você ainda
ter a sessão aberta, enquanto você já processou e, portanto, não
mais precisa disso. Então, o que você precisa é fechar a sessão para o
pedido atual depois que você não precisa mais dele.</p>
<p>Long story short - call <code class="docutils literal"><span class="pre">session_write_close()</span></code> once you no longer need
qualquer coisa a ver com variáveis de sessão.</p>
</div>
</div>
<div class="section" id="what-is-session-data">
<h3><a class="toc-backref" href="#id7">O que são dados da sessão?</a><a class="headerlink" href="#what-is-session-data" title="Permalink to this headline">¶</a></h3>
<p>Os dados da sessão são simplesmente uma matriz associada a um ID de sessão específico
(cookie).</p>
<p>Se você já usou sessões em PHP antes, você deve estar familiarizado com o PHP
<a class="reference external" href="http://php.net/manual/en/reserved.variables.session.php">$_SESSION superglobal</a>
(se não, por favor, leia o conteúdo desse link).</p>
<p>O CodeIgniter dá acesso aos seus dados de sessão pelos mesmos meios,
usa o mecanismo dos manipuladores de sessão fornecido pelo PHP. Usando dados da sessão é
tão simples como manipular (ler, definir e definir valores) <code class="docutils literal"><span class="pre">$_SESSION</span></code>
array.</p>
<p>Além disso, o CodeIgniter também fornece dois tipos especiais de dados de sessão
que são explicados abaixo: flashdata e tempdata.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Nas versões anteriores, os dados da sessão regular no CodeIgniter eram
referido como &#39;userdata&#39;. Tenha isso em mente se esse termo for usado
em outro lugar no manual. A maior parte é escrita para explicar como
os métodos personalizados &#39;userdata&#39; funcionam.</p>
</div>
</div>
<div class="section" id="retrieving-session-data">
<h3><a class="toc-backref" href="#id8">Recuperando Dados da Sessão</a><a class="headerlink" href="#retrieving-session-data" title="Permalink to this headline">¶</a></h3>
<p>Qualquer informação da matriz de sessão está disponível através do
<code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Ou através do magic getter:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">item</span>
</pre></div>
</div>
<p>And for backwards compatibility, through the <code class="docutils literal"><span class="pre">userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Onde item é a chave da matriz correspondente ao item que você deseja buscar.
Por exemplo, para atribuir um item &#39;name&#39; armazenado <code class="docutils literal"><span class="pre">$name</span></code>
variável, você fará isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">name</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method returns NULL if the item you are trying
para acessar não existe.</p>
</div>
<p>Se você deseja recuperar todos os dados de usuário existentes, pode simplesmente
omitir a chave do item (o magic getter só funciona para propriedades):</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span>

<span class="c1">// or:</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-session-data">
<h3><a class="toc-backref" href="#id9">Adicionando dados da sessão</a><a class="headerlink" href="#adding-session-data" title="Permalink to this headline">¶</a></h3>
<p>Digamos que um usuário específico faça login no seu site. Uma vez autenticado, você
poderia adicionar seu nome de usuário e endereço de e-mail à sessão, fazendo com que
dados globalmente disponíveis para você sem ter que executar uma Query de Database quando
você precisa disso.</p>
<p>You can simply assign data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array, as with any other
variable. Or as a property of <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>.</p>
<p>Como alternativa, o método antigo de designá-lo como "userdata" também é
acessível. Que, no entanto, passando uma matriz contendo seus novos dados para o
<code class="docutils literal"><span class="pre">set_userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">$array</span></code> is an associative array containing your new data. Here’s
um exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$newdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;username&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;johndoe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;email&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;johndoe@some-site.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;logged_in&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$newdata</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want to add userdata one value at a time, <code class="docutils literal"><span class="pre">set_userdata()</span></code> also
suporta esta sintaxe:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">,</span> <span class="s1">&#39;some_value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Se você quiser verificar se existe um valor de sessão, basta verificar com
<code class="docutils literal"><span class="pre">isset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// returns FALSE if the &#39;some_name&#39; item doesn&#39;t exist or is NULL,</span>
<span class="c1">// TRUE otherwise:</span>
<span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Or you can call <code class="docutils literal"><span class="pre">has_userdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">has_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-session-data">
<h3><a class="toc-backref" href="#id10">Removendo os dados da sessão</a><a class="headerlink" href="#removing-session-data" title="Permalink to this headline">¶</a></h3>
<p>Just as with any other variable, unsetting a value in <code class="docutils literal"><span class="pre">$_SESSION</span></code> can be
done through <code class="docutils literal"><span class="pre">unset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">]);</span>

<span class="c1">// or multiple values:</span>

<span class="nb">unset</span><span class="p">(</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">],</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;another_name&#39;</span><span class="p">]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Also, just as <code class="docutils literal"><span class="pre">set_userdata()</span></code> can be used to add information to a
session, <code class="docutils literal"><span class="pre">unset_userdata()</span></code> can be used to remove it, by passing the
chave de sessão. Por exemplo, se você quisesse remover &#39;some_name&#39; do seu
matriz de dados da sessão:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Esse método também aceita uma matriz de chaves de itens para não definir:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$array_items</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="nv">$array_items</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">In previous versions, the <code class="docutils literal"><span class="pre">unset_userdata()</span></code> method used
para aceitar uma matriz associativa de <code class="docutils literal"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">'dummy</span> <span class="pre">value'</span></code>
pares. Isso não é mais suportado.</p>
</div>
</div>
<div class="section" id="flashdata">
<h3><a class="toc-backref" href="#id11">Flashdata</a><a class="headerlink" href="#flashdata" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter suporta "flashdata", ou dados da sessão que serão apenas
disponível para a próxima solicitação e, em seguida, é automaticamente limpo.</p>
<p>Isso pode ser muito útil, especialmente para informações únicas, erros ou
mensagens de status (por exemplo: "Registro 2 excluído").</p>
<p>Deve-se notar que as variáveis flashdata são regulares,
marcada apenas de uma maneira específica sob a chave &#39;__ci_vars&#39; (por favor, não toque
aquele, você foi avisado).</p>
<p>Para marcar um item existente como &quot;flashdata&quot;:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Se você quiser marcar vários itens como flashdata, simplesmente passe as chaves como um
array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>Para adicionar flashdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_flashdata()</span></code>, in the same manner as
<code class="docutils literal"><span class="pre">set_userdata()</span></code>.</p>
<p>A leitura de variáveis flashdata é a mesma que a leitura de dados da sessão regular
through <code class="docutils literal"><span class="pre">$_SESSION</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return flashdata items.</p>
</div>
<p>No entanto, se você quiser ter certeza de que está lendo "flashdata" (e não
any other kind), you can also use the <code class="docutils literal"><span class="pre">flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Ou para obter um array com todos os flashdata, simplesmente omita o parâmetro key:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">flashdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você achar que precisa preservar uma variável flashdata através de um
additional request, you can do so using the <code class="docutils literal"><span class="pre">keep_flashdata()</span></code> method.
Você pode passar um único item ou uma matriz de itens flashdata para manter.</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item1&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">,</span> <span class="s1">&#39;item3&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="tempdata">
<h3><a class="toc-backref" href="#id12">Tempdata</a><a class="headerlink" href="#tempdata" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter também suporta "tempdata", ou dados de sessão com um
data de validade. Depois que o valor expira, ou a sessão expira ou é
excluído, o valor é automaticamente removido.</p>
<p>Da mesma forma que flashdata, as variáveis tempdata são vars regulares da sessão
estão marcados de uma maneira específica sob a chave &#39;__ci_vars&#39; (novamente, não toque
aquele).</p>
<p>Para marcar um item existente como &quot;tempdata&quot;, basta passar a chave e o tempo de expiração
(in seconds!) to the <code class="docutils literal"><span class="pre">mark_as_temp()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// &#39;item&#39; will be erased after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>Você pode marcar vários itens como tempdata de duas maneiras, dependendo se
você quer que todos tenham o mesmo tempo de expiração ou não:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Both &#39;item&#39; and &#39;item2&#39; will expire after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">),</span> <span class="mi">300</span><span class="p">);</span>

<span class="c1">// &#39;item&#39; will be erased after 300 seconds, while &#39;item2&#39;</span>
<span class="c1">// will do so after only 240 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;item&#39;</span>  <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span>
        <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="mi">240</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Para adicionar tempdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span> <span class="c1">// Expire in 5 minutes</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$tempdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;newuser&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Thanks for joining!&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="nv">$tempdata</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="nv">$expire</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se a expiração for omitida ou definida como 0, o padrão será
O valor do tempo de vida de 300 segundos (ou 5 minutos) será usado.</p>
</div>
<p>Para ler uma variável tempdata, novamente você pode acessá-la através do
<code class="docutils literal"><span class="pre">$_SESSION</span></code> matriz superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return tempdata items.</p>
</div>
<p>Ou se você quiser ter certeza de que está lendo &quot;tempdata&quot; (e não qualquer
other kind), you can also use the <code class="docutils literal"><span class="pre">tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>E, claro, se você quiser recuperar todos os tempdata existentes:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">tempdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você precisar remover um valor de tempdata antes que ele expire, você pode
unset it from the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>No entanto, isso não removerá o marcador que faz com que esse item específico seja
tempdata (ele será invalidado na próxima solicitação HTTP), então se você
pretende reutilizar essa mesma chave no mesmo pedido, você gostaria de usar
<code class="docutils literal"><span class="pre">unset_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="destroying-a-session">
<h3><a class="toc-backref" href="#id13">Destruindo uma Sessão</a><a class="headerlink" href="#destroying-a-session" title="Permalink to this headline">¶</a></h3>
<p>Para limpar a sessão atual (por exemplo, durante um logout), você pode
basta usar o PHP <a class="reference external" href="http://php.net/session_destroy">session_destroy()</a>
function, or the <code class="docutils literal"><span class="pre">sess_destroy()</span></code> method. Both will work in exactly the
mesma maneira:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">session_destroy</span><span class="p">();</span>

<span class="c1">// or</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">sess_destroy</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Esta deve ser a última operação relacionada à sessão que você faz
durante o mesmo pedido. Todos os dados da sessão (incluindo flashdata e
tempdata) serão destruídas permanentemente e as funções serão
inutilizável durante o mesmo pedido depois de destruir a sessão.</p>
</div>
</div>
<div class="section" id="accessing-session-metadata">
<h3><a class="toc-backref" href="#id14">Acessando metadados da sessão</a><a class="headerlink" href="#accessing-session-metadata" title="Permalink to this headline">¶</a></h3>
<p>Nas versões anteriores do CodeIgniter, a matriz de dados da sessão incluía 4 itens
por padrão: &#39;session_id&#39;, &#39;ip_address&#39;, &#39;user_agent&#39;, &#39;last_activity&#39;.</p>
<p>Isso se deveu aos detalhes de como as sessões funcionavam, mas agora não é mais
necessário com a nossa nova implementação. No entanto, pode acontecer que o seu
aplicação contou com esses valores, então aqui estão os métodos alternativos de
acessando-os:</p>
<blockquote>
<div><ul class="simple">
<li>session_id: <code class="docutils literal"><span class="pre">session_id()</span></code></li>
<li>ip_address: <code class="docutils literal"><span class="pre">$_SERVER['REMOTE_ADDR']</span></code></li>
<li>user_agent: <code class="docutils literal"><span class="pre">$this-&gt;input-&gt;user_agent()</span></code> (unused by sessions)</li>
<li>last_activity: Depende do armazenamento, sem um caminho direto. Desculpa!</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="session-preferences">
<h3><a class="toc-backref" href="#id15">Preferências de sessão</a><a class="headerlink" href="#session-preferences" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter normalmente fará tudo funcionar imediatamente. Contudo,
As sessões são um componente muito sensível de qualquer aplicativo,
configuração cuidadosa deve ser feita. Por favor, tome seu tempo para considerar
todas as opções e seus efeitos.</p>
<p>Você encontrará as seguintes preferências relacionadas à sessão em sua
<strong>application/config/config.php</strong> file:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="9%" />
<col width="23%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Padrão</th>
<th class="head">Opções</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>sess_driver</strong></td>
<td>files</td>
<td>files/database/redis/memcached/<em>custom</em></td>
<td>O driver de armazenamento da sessão a ser usado.</td>
</tr>
<tr class="row-odd"><td><strong>sess_cookie_name</strong></td>
<td>ci_session</td>
<td>[A-Za-z_-] apenas caracteres</td>
<td>O nome usado para o cookie da sessão.</td>
</tr>
<tr class="row-even"><td><strong>sess_expiration</strong></td>
<td>7200 (2 horas)</td>
<td>Tempo em segundos (inteiro)</td>
<td>O número de segundos que você gostaria que a sessão durasse.
Se você quiser uma sessão que não expira (até que o navegador seja fechado), defina o valor como zero: 0</td>
</tr>
<tr class="row-odd"><td><strong>sess_save_path</strong></td>
<td>NULL</td>
<td>None</td>
<td>Especifica o local de armazenamento, depende do driver que está sendo usado.</td>
</tr>
<tr class="row-even"><td><strong>sess_match_ip</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (booleano)</td>
<td>Se deve validar o endereço IP do usuário ao ler o cookie da sessão.
Nota que alguns ISPs mudam dinamicamente o IP, então se você quer uma sessão que não expira você
provavelmente configurará isso como FALSE.</td>
</tr>
<tr class="row-odd"><td><strong>sess_time_to_update</strong></td>
<td>300</td>
<td>Tempo em segundos (inteiro)</td>
<td>Esta opção controla com que frequência a classe de sessão se regenerará e criará uma nova
identificação de sessão. Definir como 0 desativará a regeneração da ID da sessão.</td>
</tr>
<tr class="row-even"><td><strong>sess_regenerate_destroy</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (booleano)</td>
<td>Se deve destruir os dados da sessão associados ao ID da sessão antiga ao regenerar automaticamente
o ID da sessão. Quando definido como FALSE, os dados serão posteriormente excluídos pelo coletor de lixo.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como último recurso, a Library Session tentará buscar o PHP
configurações de INI relacionadas à sessão, bem como configurações de IC herdadas, como
&#39;sess_expire_on_close&#39; quando qualquer um dos itens acima não estiver configurado.
No entanto, você nunca deve confiar nesse comportamento, pois pode causar
resultados inesperados ou podem ser alterados no futuro. Por favor configure
tudo corretamente.</p>
</div>
<p>Além dos valores acima, o cookie e os drivers nativos aplicam o
seguintes valores de configuração compartilhados pelo <a class="reference internal" href="input.html"><span class="doc">Input</span></a> and
<a class="reference internal" href="security.html"><span class="doc">Segurança</span></a> classes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Padrão</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>cookie_domain</strong></td>
<td>‘’</td>
<td>O domínio para o qual a sessão é aplicável</td>
</tr>
<tr class="row-odd"><td><strong>cookie_path</strong></td>
<td>/</td>
<td>O caminho ao qual a sessão é aplicável</td>
</tr>
<tr class="row-even"><td><strong>cookie_secure</strong></td>
<td>FALSE</td>
<td>Se deseja criar o cookie de sessão somente em conexões criptografadas (HTTPS)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">A configuração &quot;cookie_httponly&quot; não afeta as sessões.
Em vez disso, o parâmetro HttpOnly está sempre ativado, por segurança
razões. Além disso, a configuração &#39;cookie_prefix&#39; é completamente
ignored.</p>
</div>
</div>
<div class="section" id="session-drivers">
<h3><a class="toc-backref" href="#id16">Drivers de Sessão</a><a class="headerlink" href="#session-drivers" title="Permalink to this headline">¶</a></h3>
<p>Como já mencionado, a library Session vem com 4 drivers ou armazenamento
motores, que você pode usar:</p>
<blockquote>
<div><ul class="simple">
<li>files</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>Por padrão, o <a class="reference internal" href="#files-driver">Driver de Arquivos</a> será usado quando uma sessão for inicializada,
porque é a escolha mais segura e espera-se que funcione em todos os lugares
(virtualmente todo ambiente possui um sistema de arquivos).</p>
<p>No entanto, qualquer outro driver pode ser selecionado através do <code class="docutils literal"><span class="pre">$config['sess_driver']</span></code>
linha em seu <strong>application/config/config.php</strong> arquivo, se você escolheu fazê-lo.
Tenha em mente, porém, cada motorista tem advertências diferentes, por isso certifique-se de
familiarize-se com eles (abaixo) antes de fazer essa escolha.</p>
<p>Além disso, você também pode criar e usar <a class="reference internal" href="#custom-drivers">Drivers personalizados</a>, se os
fornecido por padrão não satisfaz seu caso de uso.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Nas versões anteriores do CodeIgniter, um "driver de cookie" diferente
foi a única opção e recebemos feedback negativo sobre não
fornecendo essa opção. Enquanto ouvimos o feedback do
comunidade, queremos avisá-lo que foi descartado porque é
<strong>unsafe</strong> e nós aconselhamos que você não tente replicá-lo através de um
driver personalizado.</p>
</div>
<div class="section" id="files-driver">
<h4><a class="toc-backref" href="#id17">Driver de Arquivos</a><a class="headerlink" href="#files-driver" title="Permalink to this headline">¶</a></h4>
<p>O driver &#39;files&#39; usa seu sistema de arquivos para armazenar dados da sessão.</p>
<p>Pode-se dizer com segurança que funciona exatamente como a própria sessão padrão do PHP
implementação, mas caso este seja um detalhe importante para você, tenha
lembre-se que na verdade não é o mesmo código e tem algumas limitações
(e vantagens).</p>
<p>Para ser mais específico, ele não suporta PHP <a class="reference external" href="http://php.net/manual/en/session.configuration.php#ini.session.save-path">nível de diretório e modo
formatos usados em session.save_path</a>,
e tem a maioria das opções codificadas para segurança. Em vez disso, apenas
absolute paths are supported for <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code>.</p>
<p>Outra coisa importante que você deve saber é ter certeza de que você
não use um diretório publicamente legível ou compartilhado para armazenar sua sessão
files. Make sure that <em>only you</em> have access to see the contents of your
chosen <em>sess_save_path</em> directory. Otherwise, anybody who can do that, can
também rouba qualquer uma das sessões atuais (também conhecida como "fixação de sessão").
attack).</p>
<p>Em sistemas operacionais semelhantes a UNIX, isso geralmente é obtido
0700 permissões de modo nesse diretório através do <cite>chmod</cite> comando, que
permite que apenas o proprietário do diretório realize operações de leitura e gravação
it. But be careful because the system user <em>running</em> the script is usually
não o seu próprio, mas algo como &#39;www-data&#39; em vez disso, então só definindo os
Permissões provavelmente irão quebrar seu aplicativo.</p>
<p>Em vez disso, você deve fazer algo assim, dependendo do seu ambiente</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">mkdir</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chmod</span> <span class="mo">0700</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chown</span> <span class="nx">www</span><span class="o">-</span><span class="nx">data</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
</pre></div>
</div>
<div class="section" id="bonus-tip">
<h5><a class="toc-backref" href="#id18">Dica bônus</a><a class="headerlink" href="#bonus-tip" title="Permalink to this headline">¶</a></h5>
<p>Alguns de vocês provavelmente optarão por escolher outro driver de sessão porque
O armazenamento de arquivos geralmente é mais lento. Isso é apenas meia verdade.</p>
<p>Um teste muito básico provavelmente irá levá-lo a acreditar que um SQL
Database é mais rápido, mas em 99% dos casos, isso só é verdade quando você
só tem algumas sessões atuais. Como as sessões contam e o servidor carrega
aumentar - que é o momento em que isso é importante - o sistema de arquivos
supera consistentemente quase todas as configurações de Databases relacionais.</p>
<p>Além disso, se o desempenho é sua única preocupação, você pode querer olhar
em usar <a class="reference external" href="http://eddmann.com/posts/storing-php-sessions-file-caches-in-memory-using-tmpfs/">tmpfs</a>,
(aviso: recurso externo), que pode fazer suas sessões brilharem rápido.</p>
</div>
</div>
<div class="section" id="database-driver">
<h4><a class="toc-backref" href="#id19">Driver de database</a><a class="headerlink" href="#database-driver" title="Permalink to this headline">¶</a></h4>
<p>O driver &#39;Database&#39; usa um Database relacional como o MySQL ou
PostgreSQL para armazenar sessões. Esta é uma escolha popular entre muitos usuários,
porque permite ao desenvolvedor fácil acesso aos dados da sessão dentro
uma aplicação - é apenas outra tabela em seu Database.</p>
<p>No entanto, existem algumas condições que devem ser atendidas:</p>
<blockquote>
<div><ul class="simple">
<li>Somente seu <strong>default</strong> conexão de Database (ou aquela que você acessa
as <code class="docutils literal"><span class="pre">$this-&gt;db</span></code> from your controllers) can be used.</li>
<li>Você deve ter o <a class="reference internal" href="../database/query_builder.html"><span class="doc">Construtor de Querys</span></a>
enabled.</li>
<li>Você NÃO pode usar uma conexão persistente.</li>
<li>You can NOT use a connection with the <em>cache_on</em> setting enabled.</li>
</ul>
</div></blockquote>
<p>Para usar o driver de sessão &#39;database&#39;, você também deve criar
tabela que já mencionamos e, em seguida, defini-lo como seu
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> value.
Por exemplo, se você quiser usar &#39;ci_sessions&#39; como nome da sua tabela,
você faria isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;database&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ci_sessions&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se você atualizou de uma versão anterior do CodeIgniter e
você não tem &#39;sess_save_path&#39; configurado, então a Session
a library procurará a configuração antiga &#39;sess_table_name&#39; e usará
em vez disso. Por favor, não confie neste comportamento, pois ele vai ficar
removido no futuro.</p>
</div>
<p>E depois, claro, crie a tabela do Database ...</p>
<p>Para o MySQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="nx">EXISTS</span> <span class="sb">`ci_sessions`</span> <span class="p">(</span>
        <span class="sb">`id`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`ip_address`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`timestamp`</span> <span class="nx">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="nx">unsigned</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`data`</span> <span class="nx">blob</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="nx">KEY</span> <span class="sb">`ci_sessions_timestamp`</span> <span class="p">(</span><span class="sb">`timestamp`</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Para o PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;ip_address&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="nx">bigint</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;data&quot;</span> <span class="nx">text</span> <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="nx">CREATE</span> <span class="nx">INDEX</span> <span class="s2">&quot;ci_sessions_timestamp&quot;</span> <span class="nx">ON</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Você também precisará adicionar uma CHAVE PRIMÁRIA <strong>dependendo do seu &#39;sess_match_ip&#39;
setting</strong>. Os exemplos abaixo funcionam tanto no MySQL quanto no PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// When sess_match_ip = TRUE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">ip_address</span><span class="p">);</span>

<span class="c1">// When sess_match_ip = FALSE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="c1">// To drop a previously created primary key (use when changing the setting)</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">DROP</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Apenas os Databases MySQL e PostgreSQL são oficialmente
apoiado, devido à falta de mecanismos de bloqueio consultivo em
plataformas. Usando sessões sem bloqueios pode causar todos os tipos de
problemas, especialmente com o uso pesado de AJAX, e nós não vamos
support such cases. Use <code class="docutils literal"><span class="pre">session_write_close()</span></code> after you’ve
feito o processamento de dados da sessão se você está tendo desempenho
issues.</p>
</div>
</div>
<div class="section" id="redis-driver">
<h4><a class="toc-backref" href="#id20">Redis Driver</a><a class="headerlink" href="#redis-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como o Redis não tem um mecanismo de travamento exposto, bloqueia
este driver é emulado por um valor separado que é mantido por até
para 300 segundos.</p>
</div>
<p>Redis é um mecanismo de armazenamento normalmente usado para armazenamento em cache e popular porque
de seu alto desempenho, que também é provavelmente o seu motivo para usar o
driver de sessão &#39;redis&#39;.</p>
<p>A desvantagem é que não é tão onipresente quanto Databases relacionais e
requer o <a class="reference external" href="https://github.com/phpredis/phpredis">phpredis</a> PHP
extensão para ser instalado em seu sistema, e esse não vem
empacotado com o PHP.
Provavelmente, você só estará usando o driver &#39;redis&#39; somente se você já estiver
ambos familiarizados com o Redis e usá-lo para outros fins.</p>
<p>Assim como com os drivers &#39;files&#39; e &#39;database&#39;, você também deve configurar
o local de armazenamento para as suas sessões através do
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> setting.
O formato aqui é um pouco diferente e complicado ao mesmo tempo. Isto é
best explained by the <em>phpredis</em> extension’s README file, so we’ll simply
ligá-lo a ele:</p>
<blockquote>
<div><a class="reference external" href="https://github.com/phpredis/phpredis#php-session-handler">https://github.com/phpredis/phpredis#php-session-handler</a></div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Aviso</p>
<p class="last">A Library Session do CodeIgniter NÃO usa os &#39;redis&#39; reais
<code class="docutils literal"><span class="pre">session.save_handler</span></code>. Tome nota <strong>only</strong> do formato do caminho em
o link acima.</p>
</div>
<p>For the most common case however, a simple <code class="docutils literal"><span class="pre">host:port</span></code> pair should be
sufficient:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;redis&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tcp://localhost:6379&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="memcached-driver">
<h4><a class="toc-backref" href="#id21">Memcached Driver</a><a class="headerlink" href="#memcached-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como o Memcache não tem um mecanismo de bloqueio exposto, bloqueia
para este driver são emulados por um valor separado que é mantido por
up para 300 segundos.</p>
</div>
<p>O driver &#39;memcached&#39; é muito parecido com o &#39;redis&#39; em todos os seus
propriedades, exceto talvez pela disponibilidade, porque o PHP <a class="reference external" href="http://php.net/memcached">Memcached</a> extensão é distribuída via PECL e alguns
As distrubutions do Linux disponibilizam como um pacote fácil de instalar.</p>
<p>Fora isso, e sem qualquer tendência intencional para Redis, há
não é muito diferente de ser dito sobre Memcached - também é um popular
produto que geralmente é usado para armazenamento em cache e famoso por sua velocidade.</p>
<p>No entanto, vale a pena notar que a única garantia dada pelo Memcached
é que o valor de configuração X para expirar após Y segundos resultará em ser
excluído após Y segundos se passarem (mas não necessariamente que não
expirar mais cedo do que esse tempo). Isso acontece muito raramente, mas deve ser
considerado, pois pode resultar em perda de sessões.</p>
<p>The <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> format is fairly straightforward here,
being just a <code class="docutils literal"><span class="pre">host:port</span></code> pair:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;memcached&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="id1">
<h5><a class="toc-backref" href="#id22">Dica bônus</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>Multi-server configuration with an optional <em>weight</em> parameter as the
third colon-separated (<code class="docutils literal"><span class="pre">:weight</span></code>) value is also supported, but we have
notar que não testamos se isso é confiável.</p>
<p>Se você quiser experimentar este recurso (por sua conta e risco), simplesmente
separe os caminhos de vários servidores com vírgulas:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// localhost will be given higher priority (5) here,</span>
<span class="c1">// compared to 192.0.2.1 with a weight of 1.</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211:5,192.0.2.1:11211:1&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-drivers">
<h4><a class="toc-backref" href="#id23">Drivers personalizados</a><a class="headerlink" href="#custom-drivers" title="Permalink to this headline">¶</a></h4>
<p>Você também pode criar seus próprios drivers de sessão personalizados. No entanto, tê-lo em
Lembre-se de que essa não é uma tarefa fácil, já que é preciso muito
conhecimento para fazê-lo corretamente.</p>
<p>Você precisa saber não apenas como as sessões funcionam em geral, mas também como elas funcionam.
trabalhar especificamente em PHP, como o mecanismo de armazenamento subjacente funciona, como
para lidar com concorrência, evitar deadlocks (mas não por falta de bloqueios) e
por último mas não menos importante - como lidar com os possíveis problemas de segurança, que
está longe de ser trivial.</p>
<p>Longa história curta - se você não sabe como fazer isso no PHP,
você não deveria estar tentando fazer isso dentro do CodeIgniter também. Você foi
warned.</p>
<p>Se você quiser apenas adicionar alguma funcionalidade extra às suas sessões, apenas
estender a classe de sessão base, que é muito mais fácil. Leia o
<a class="reference internal" href="../general/creating_libraries.html"><span class="doc">Criando Librarys</span></a> artigo para
aprenda como fazer isso.</p>
<p>Agora, ao ponto - há três regras gerais que você deve seguir
ao criar um driver de sessão para o CodeIgniter:</p>
<blockquote>
<div><ul>
<li><p class="first">Coloque o arquivo do seu driver sob <strong>aplicação/Librarys/sessão/drivers /</strong>
and follow the naming conventions used by the Classe de sessão.</p>
<p>Por exemplo, se você criasse um driver &#39;fictício&#39;, você teria
a <code class="docutils literal"><span class="pre">Session_dummy_driver</span></code> class name, that is declared in
<em>aplicação/Librarys/sessão/drivers /Session_dummy_driver.php</em>.</p>
</li>
<li><p class="first">Extend the <code class="docutils literal"><span class="pre">CI_Session_driver</span></code> class.</p>
<p>Esta é apenas uma classe básica com alguns métodos Helperes internos. Isto é
também extensível como qualquer outra Library, se você realmente precisa fazer isso,
mas não vamos explicar como ... se você está familiarizado
extensões de classe/substitui o trabalho no CI, então você já sabe como fazer
isto. Se não, bem, você não deveria estar fazendo isso em primeiro lugar.</p>
</li>
<li><p class="first">Implemente o <a class="reference external" href="http://php.net/sessionhandlerinterface">SessionHandlerInterface</a> interface.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">You may notice that <code class="docutils literal"><span class="pre">SessionHandlerInterface</span></code> is provided
pelo PHP desde a versão 5.4.0. O CodeIgniter irá declarar automaticamente
a mesma interface se você estiver executando uma versão mais antiga do PHP.</p>
</div>
<p>O link explicará por que e como.</p>
</li>
</ul>
</div></blockquote>
<p>Então, com base no nosso exemplo de driver &#39;fictício&#39; acima, você terminaria com algo
como isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// aplicação/Librarys/sessão/drivers /Session_dummy_driver.php:</span>

<span class="k">class</span> <span class="nc">CI_Session_dummy_driver</span> <span class="k">extends</span> <span class="nx">CI_Session_driver</span> <span class="k">implements</span> <span class="nx">SessionHandlerInterface</span>
<span class="p">{</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$params</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// DO NOT forget this</span>
                <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>

                <span class="c1">// Configuration &amp; other initializations</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">open</span><span class="p">(</span><span class="nv">$save_path</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Initialize storage mechanism (connection)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">read</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Read session data (if exists), acquire locks</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">write</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">,</span> <span class="nv">$session_data</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Create / update session data (it might not exist!)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">close</span><span class="p">()</span>
        <span class="p">{</span>
                <span class="c1">// Free locks, close connections / streams / etc.</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">destroy</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Call close() method &amp; destroy data for current session (order may differ)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">gc</span><span class="p">(</span><span class="nv">$maxlifetime</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Erase data for expired sessions</span>
        <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Se você fez tudo corretamente, agora você pode definir o seu <em>sess_driver</em>
valor de configuração para &#39;fictício&#39; e use seu próprio driver. Parabéns!</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id24">Referência de Classe</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Session">
<em class="property">class </em><code class="descname">CI_Session</code><a class="headerlink" href="#CI_Session" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Session::userdata">
<code class="descname">userdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave do item de sessão ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os dados do usuário</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item, or an
matriz de todos os itens &quot;userdata&quot; se a chave não foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::all_userdata">
<code class="descname">all_userdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::all_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Uma matriz de todos os dados do usuário</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Retorna uma matriz contendo todos os itens &quot;userdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é DEPRECADO. Usar <code class="docutils literal"><span class="pre">userdata()</span></code>
sem parâmetros em vez disso.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">&amp;get_userdata()</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Uma referência a <code class="docutils literal"><span class="pre">$_SESSION</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Returns a reference to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::has_userdata">
<code class="descname">has_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::has_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">TRUE se a chave especificada existir, FALSE se não for</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Checks if an item exists in <code class="docutils literal"><span class="pre">$_SESSION</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for <code class="docutils literal"><span class="pre">isset($_SESSION[$key])</span></code> - please
use isso.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_userdata">
<code class="descname">set_userdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como dados da sessão ou a chave para um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unset_userdata">
<code class="descname">unset_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unset_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para o item de dados da sessão ser desfeito ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Desativa a (s) chave (s) especificada (s) do <code class="docutils literal"><span class="pre">$_SESSION</span></code>
superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for <code class="docutils literal"><span class="pre">unset($_SESSION[$key])</span></code> - please
use isso.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_flash">
<code class="descname">mark_as_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para marcar como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_flash_keys">
<code class="descname">get_flash_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_flash_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Array contendo as chaves de todos os itens &quot;flashdata&quot;.</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_flash">
<code class="descname">unmark_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::flashdata">
<code class="descname">flashdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave do item Flashdata ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os flashdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
marcado como &quot;flashdata&quot; ou uma matriz de todos os &quot;flashdata&quot;
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::keep_flashdata">
<code class="descname">keep_flashdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::keep_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Flashdata key para manter ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Mantém a (s) chave (s) de dados da sessão especificada (s) como &quot;flashdata&quot;
através do próximo pedido.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for the <code class="docutils literal"><span class="pre">mark_as_flash()</span></code> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_flashdata">
<code class="descname">set_flashdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como flashdata ou a chave de um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
como &quot;flashdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_temp">
<code class="descname">mark_as_temp</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$ttl = 300</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para marcar como tempdata ou uma matriz de várias chaves</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida dos tempdata, em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_temp_keys">
<code class="descname">get_temp_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_temp_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Array contendo as chaves de todos os itens "tempdata".</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_temp">
<code class="descname">unmark_temp</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como tempdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::tempdata">
<code class="descname">tempdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave de item Tempdata ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os tempdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
foi marcado como &quot;tempdata&quot;, ou uma matriz de todos os &quot;tempdata&quot;
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_tempdata">
<code class="descname">set_tempdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como tempdata ou a chave para um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida do (s) item (s) tempdata (s), em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
como &quot;tempdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_regenerate">
<code class="descname">sess_regenerate</code><span class="sig-paren">(</span><span class="optional">[</span><em>$destroy = FALSE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_regenerate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$destroy</strong> (<em>bool</em>) - Destruir dados da sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Regenerar a ID da sessão, opcionalmente destruindo a corrente
dados da sessão.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_regenerate_id">session_regenerate_id()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_destroy">
<code class="descname">sess_destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_destroy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
<p>Destrói a sessão atual.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This must be the <em>last</em> session-related function
que você chama. Todos os dados da sessão serão perdidos após
faça isso.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_destroy">session_destroy()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__get">
<code class="descname">__get</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__get" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">O item de dados da sessão solicitado ou NULL, se não existir</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Um método mágico que permite usar
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;item</span></code> instead of <code class="docutils literal"><span class="pre">$_SESSION['item']</span></code>,
se é isso que você prefere.</p>
<p>Ele também retornará o ID da sessão chamando
<code class="docutils literal"><span class="pre">session_id()</span></code> se você tentar acessar
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;session_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__set">
<code class="descname">__set</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__set" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
<li><strong>$value</strong> (<em>mixed</em>) - Valor para atribuir à chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Um método mágico que permite atribuir itens a
<code class="docutils literal"><span class="pre">$_SESSION</span></code> acessando-os como <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>
properties:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>

<span class="c1">// Results in:</span>
<span class="c1">// $_SESSION[&#39;foo&#39;] = &#39;bar&#39;;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="table.html" class="btn btn-neutral float-right" title="Classe de Tabela HTML">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="security.html" class="btn btn-neutral" title="Classe de segurança"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Sessões &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Tabela HTML" href="table.html"/>
        <link rel="prev" title="Classe de segurança" href="security.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="encryption.html">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Classe de segurança</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Helper de segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Sessões</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="session-library">
<h1>Library de Sessões<a class="headerlink" href="#session-library" title="Permalink to this headline">¶</a></h1>
<p>A classe Session permite que você mantenha o &quot;estado&quot; de um usuário e rastreie
atividade enquanto navegam em seu site.</p>
<p>O CodeIgniter vem com alguns drivers de armazenamento de sessão:</p>
<blockquote>
<div><ul class="simple">
<li>arquivos (padrão; baseado em sistema de arquivos)</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>Além disso, você pode criar seus próprios drivers de sessão personalizados com base em outros
tipos de armazenamento, aproveitando ao mesmo tempo os recursos do
Classe de sessão.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-session-class" id="id3">Usando a Classe de Sessão</a><ul>
<li><a class="reference internal" href="#initializing-a-session" id="id4">Inicializando uma Sessão</a></li>
<li><a class="reference internal" href="#how-do-sessions-work" id="id5">Como funcionam as sessões?</a><ul>
<li><a class="reference internal" href="#a-note-about-concurrency" id="id6">Uma nota sobre simultaneidade</a></li>
</ul>
</li>
<li><a class="reference internal" href="#what-is-session-data" id="id7">O que são dados da sessão?</a></li>
<li><a class="reference internal" href="#retrieving-session-data" id="id8">Recuperando Dados da Sessão</a></li>
<li><a class="reference internal" href="#adding-session-data" id="id9">Adicionando dados da sessão</a></li>
<li><a class="reference internal" href="#removing-session-data" id="id10">Removendo os dados da sessão</a></li>
<li><a class="reference internal" href="#flashdata" id="id11">Flashdata</a></li>
<li><a class="reference internal" href="#tempdata" id="id12">Tempdata</a></li>
<li><a class="reference internal" href="#destroying-a-session" id="id13">Destruindo uma Sessão</a></li>
<li><a class="reference internal" href="#accessing-session-metadata" id="id14">Acessando metadados da sessão</a></li>
<li><a class="reference internal" href="#session-preferences" id="id15">Preferências de sessão</a></li>
<li><a class="reference internal" href="#session-drivers" id="id16">Drivers de Sessão</a><ul>
<li><a class="reference internal" href="#files-driver" id="id17">Driver de Arquivos</a><ul>
<li><a class="reference internal" href="#bonus-tip" id="id18">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#database-driver" id="id19">Driver de database</a></li>
<li><a class="reference internal" href="#redis-driver" id="id20">Redis Driver</a></li>
<li><a class="reference internal" href="#memcached-driver" id="id21">Memcached Driver</a><ul>
<li><a class="reference internal" href="#id1" id="id22">Dica bônus</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-drivers" id="id23">Drivers personalizados</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id24">Referência de Classe</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-session-class">
<h2><a class="toc-backref" href="#id3">Usando a Classe de Sessão</a><a class="headerlink" href="#using-the-session-class" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-a-session">
<h3><a class="toc-backref" href="#id4">Inicializando uma Sessão</a><a class="headerlink" href="#initializing-a-session" title="Permalink to this headline">¶</a></h3>
<p>As sessões geralmente serão executadas globalmente com cada carregamento de página, de modo que a sessão
classe deve ser inicializado em sua <a class="reference internal" href="../general/controllers.html"><span class="doc">controller</span></a> construtores, ou pode ser <a class="reference internal" href="../general/autoloader.html"><span class="doc">auto-loaded</span></a> pelo sistema.
Na maior parte, a classe de sessão será executada sem superView em segundo plano,
então, simplesmente inicializar a classe fará com que ela leia, crie e atualize
sessões quando necessário.</p>
<p>Para inicializar a classe Session manualmente no seu construtor do Controller,
use the <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;session&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Uma vez carregado, o objeto da Library de sessões estará disponível usando:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Porque o <a class="reference internal" href="loader.html"><span class="doc">Classe Loader</span></a> é instanciado
pelo Controller de base do CodeIgniter, certifique-se de chamar
<code class="docutils literal"><span class="pre">parent::__construct()</span></code> antes de tentar carregar uma Library de
dentro de um construtor do Controller.</p>
</div>
</div>
<div class="section" id="how-do-sessions-work">
<h3><a class="toc-backref" href="#id5">Como funcionam as sessões?</a><a class="headerlink" href="#how-do-sessions-work" title="Permalink to this headline">¶</a></h3>
<p>Quando uma página é carregada, a classe de sessão verificará se ela é válida
O cookie de sessão é enviado pelo navegador do usuário. Se um cookie de sessões não
<strong>not</strong> existem (ou se não corresponderem a um armazenado no servidor ou
expirado) uma nova sessão será criada e salva.</p>
<p>Se uma sessão válida existir, suas informações serão atualizadas. Com cada
atualização, o ID da sessão pode ser regenerado se configurado para fazer isso.</p>
<p>É importante que você entenda que, uma vez inicializado, a sessão
a classe é executada automaticamente. Não há nada que você precise fazer para causar
acima do comportamento para acontecer. Você pode, como você verá abaixo, trabalhar com a sessão
dados, mas o processo de ler, escrever e atualizar uma sessão é
automatic.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Na CLI, a Library de Sessões irá parar automaticamente,
como este é um conceito baseado inteiramente no protocolo HTTP.</p>
</div>
<div class="section" id="a-note-about-concurrency">
<h4><a class="toc-backref" href="#id6">Uma nota sobre simultaneidade</a><a class="headerlink" href="#a-note-about-concurrency" title="Permalink to this headline">¶</a></h4>
<p>A menos que você esteja desenvolvendo um site com uso pesado de AJAX, você pode pular esta
seção. Se você é, no entanto, e se você está experimentando o desempenho
questões, então esta nota é exatamente o que você está procurando.</p>
<p>Sessões em versões anteriores do CodeIgniter não implementaram o bloqueio,
o que significava que duas solicitações HTTP usando a mesma sessão poderiam ser executadas exatamente
ao mesmo tempo. Para usar um termo técnico mais apropriado - os pedidos eram
non-blocking.</p>
<p>No entanto, pedidos sem bloqueio no contexto de sessões também significam
inseguro, porque modificações nos dados da sessão (ou regeneração da ID da sessão)
em um pedido pode interferir na execução de um segundo concorrente
pedido. Este detalhe foi a raiz de muitas questões e a principal razão pela qual
O CodeIgniter 3.0 possui uma Library Session totalmente reescrita.</p>
<p>Por que estamos te falando isso? Porque é provável que depois de tentar
encontrar o motivo de seus problemas de desempenho, você pode concluir que o bloqueio
é o problema e, portanto, veja como remover as travas ...</p>
<p>NÃO FAÇA ISSO! Remover bloqueios seria <strong>wrong</strong> e isso fará com que você
mais problemas!</p>
<p>O bloqueio não é o problema, é uma solução. Seu problema é que você ainda
ter a sessão aberta, enquanto você já processou e, portanto, não
mais precisa disso. Então, o que você precisa é fechar a sessão para o
pedido atual depois que você não precisa mais dele.</p>
<p>Long story short - call <code class="docutils literal"><span class="pre">session_write_close()</span></code> once you no longer need
qualquer coisa a ver com variáveis de sessão.</p>
</div>
</div>
<div class="section" id="what-is-session-data">
<h3><a class="toc-backref" href="#id7">O que são dados da sessão?</a><a class="headerlink" href="#what-is-session-data" title="Permalink to this headline">¶</a></h3>
<p>Os dados da sessão são simplesmente uma matriz associada a um ID de sessão específico
(cookie).</p>
<p>Se você já usou sessões em PHP antes, você deve estar familiarizado com o PHP
<a class="reference external" href="http://php.net/manual/en/reserved.variables.session.php">$_SESSION superglobal</a>
(se não, por favor, leia o conteúdo desse link).</p>
<p>O CodeIgniter dá acesso aos seus dados de sessão pelos mesmos meios,
usa o mecanismo dos manipuladores de sessão fornecido pelo PHP. Usando dados da sessão é
tão simples como manipular (ler, definir e definir valores) <code class="docutils literal"><span class="pre">$_SESSION</span></code>
array.</p>
<p>Além disso, o CodeIgniter também fornece dois tipos especiais de dados de sessão
que são explicados abaixo: flashdata e tempdata.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Nas versões anteriores, os dados da sessão regular no CodeIgniter eram
referido como &#39;userdata&#39;. Tenha isso em mente se esse termo for usado
em outro lugar no manual. A maior parte é escrita para explicar como
os métodos personalizados &#39;userdata&#39; funcionam.</p>
</div>
</div>
<div class="section" id="retrieving-session-data">
<h3><a class="toc-backref" href="#id8">Recuperando Dados da Sessão</a><a class="headerlink" href="#retrieving-session-data" title="Permalink to this headline">¶</a></h3>
<p>Qualquer informação da matriz de sessão está disponível através do
<code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Ou através do magic getter:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">item</span>
</pre></div>
</div>
<p>And for backwards compatibility, through the <code class="docutils literal"><span class="pre">userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Onde item é a chave da matriz correspondente ao item que você deseja buscar.
Por exemplo, para atribuir um item &#39;name&#39; armazenado <code class="docutils literal"><span class="pre">$name</span></code>
variável, você fará isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$name</span> <span class="o">=</span> <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">];</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">name</span>

<span class="c1">// or:</span>

<span class="nv">$name</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method returns NULL if the item you are trying
para acessar não existe.</p>
</div>
<p>Se você deseja recuperar todos os dados de usuário existentes, pode simplesmente
omitir a chave do item (o magic getter só funciona para propriedades):</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span>

<span class="c1">// or:</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">userdata</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="section" id="adding-session-data">
<h3><a class="toc-backref" href="#id9">Adicionando dados da sessão</a><a class="headerlink" href="#adding-session-data" title="Permalink to this headline">¶</a></h3>
<p>Digamos que um usuário específico faça login no seu site. Uma vez autenticado, você
poderia adicionar seu nome de usuário e endereço de e-mail à sessão, fazendo com que
dados globalmente disponíveis para você sem ter que executar uma Query de Database quando
você precisa disso.</p>
<p>You can simply assign data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array, as with any other
variable. Or as a property of <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>.</p>
<p>Como alternativa, o método antigo de designá-lo como "userdata" também é
acessível. Que, no entanto, passando uma matriz contendo seus novos dados para o
<code class="docutils literal"><span class="pre">set_userdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$array</span><span class="p">);</span>
</pre></div>
</div>
<p>Where <code class="docutils literal"><span class="pre">$array</span></code> is an associative array containing your new data. Here’s
um exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$newdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;username&#39;</span>  <span class="o">=&gt;</span> <span class="s1">&#39;johndoe&#39;</span><span class="p">,</span>
        <span class="s1">&#39;email&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;johndoe@some-site.com&#39;</span><span class="p">,</span>
        <span class="s1">&#39;logged_in&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span>
<span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="nv">$newdata</span><span class="p">);</span>
</pre></div>
</div>
<p>If you want to add userdata one value at a time, <code class="docutils literal"><span class="pre">set_userdata()</span></code> also
suporta esta sintaxe:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">,</span> <span class="s1">&#39;some_value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Se você quiser verificar se existe um valor de sessão, basta verificar com
<code class="docutils literal"><span class="pre">isset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// returns FALSE if the &#39;some_name&#39; item doesn&#39;t exist or is NULL,</span>
<span class="c1">// TRUE otherwise:</span>
<span class="nb">isset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Or you can call <code class="docutils literal"><span class="pre">has_userdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">has_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="removing-session-data">
<h3><a class="toc-backref" href="#id10">Removendo os dados da sessão</a><a class="headerlink" href="#removing-session-data" title="Permalink to this headline">¶</a></h3>
<p>Just as with any other variable, unsetting a value in <code class="docutils literal"><span class="pre">$_SESSION</span></code> can be
done through <code class="docutils literal"><span class="pre">unset()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">]);</span>

<span class="c1">// or multiple values:</span>

<span class="nb">unset</span><span class="p">(</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;some_name&#39;</span><span class="p">],</span>
        <span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;another_name&#39;</span><span class="p">]</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Also, just as <code class="docutils literal"><span class="pre">set_userdata()</span></code> can be used to add information to a
session, <code class="docutils literal"><span class="pre">unset_userdata()</span></code> can be used to remove it, by passing the
chave de sessão. Por exemplo, se você quisesse remover &#39;some_name&#39; do seu
matriz de dados da sessão:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="s1">&#39;some_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Esse método também aceita uma matriz de chaves de itens para não definir:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$array_items</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="s1">&#39;email&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_userdata</span><span class="p">(</span><span class="nv">$array_items</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">In previous versions, the <code class="docutils literal"><span class="pre">unset_userdata()</span></code> method used
para aceitar uma matriz associativa de <code class="docutils literal"><span class="pre">key</span> <span class="pre">=&gt;</span> <span class="pre">'dummy</span> <span class="pre">value'</span></code>
pares. Isso não é mais suportado.</p>
</div>
</div>
<div class="section" id="flashdata">
<h3><a class="toc-backref" href="#id11">Flashdata</a><a class="headerlink" href="#flashdata" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter suporta "flashdata", ou dados da sessão que serão apenas
disponível para a próxima solicitação e, em seguida, é automaticamente limpo.</p>
<p>Isso pode ser muito útil, especialmente para informações únicas, erros ou
mensagens de status (por exemplo: "Registro 2 excluído").</p>
<p>Deve-se notar que as variáveis flashdata são regulares,
marcada apenas de uma maneira específica sob a chave &#39;__ci_vars&#39; (por favor, não toque
aquele, você foi avisado).</p>
<p>Para marcar um item existente como &quot;flashdata&quot;:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Se você quiser marcar vários itens como flashdata, simplesmente passe as chaves como um
array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">));</span>
</pre></div>
</div>
<p>Para adicionar flashdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_flash</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_flashdata()</span></code>, in the same manner as
<code class="docutils literal"><span class="pre">set_userdata()</span></code>.</p>
<p>A leitura de variáveis flashdata é a mesma que a leitura de dados da sessão regular
through <code class="docutils literal"><span class="pre">$_SESSION</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return flashdata items.</p>
</div>
<p>No entanto, se você quiser ter certeza de que está lendo "flashdata" (e não
any other kind), you can also use the <code class="docutils literal"><span class="pre">flashdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Ou para obter um array com todos os flashdata, simplesmente omita o parâmetro key:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">flashdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">flashdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você achar que precisa preservar uma variável flashdata através de um
additional request, you can do so using the <code class="docutils literal"><span class="pre">keep_flashdata()</span></code> method.
Você pode passar um único item ou uma matriz de itens flashdata para manter.</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">keep_flashdata</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item1&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">,</span> <span class="s1">&#39;item3&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="tempdata">
<h3><a class="toc-backref" href="#id12">Tempdata</a><a class="headerlink" href="#tempdata" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter também suporta "tempdata", ou dados de sessão com um
data de validade. Depois que o valor expira, ou a sessão expira ou é
excluído, o valor é automaticamente removido.</p>
<p>Da mesma forma que flashdata, as variáveis tempdata são vars regulares da sessão
estão marcados de uma maneira específica sob a chave &#39;__ci_vars&#39; (novamente, não toque
that one).</p>
<p>Para marcar um item existente como &quot;tempdata&quot;, basta passar a chave e o tempo de expiração
(in seconds!) to the <code class="docutils literal"><span class="pre">mark_as_temp()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// &#39;item&#39; will be erased after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>Você pode marcar vários itens como tempdata de duas maneiras, dependendo se
você quer que todos tenham o mesmo tempo de expiração ou não:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Both &#39;item&#39; and &#39;item2&#39; will expire after 300 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;item2&#39;</span><span class="p">),</span> <span class="mi">300</span><span class="p">);</span>

<span class="c1">// &#39;item&#39; will be erased after 300 seconds, while &#39;item2&#39;</span>
<span class="c1">// will do so after only 240 seconds</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;item&#39;</span>  <span class="o">=&gt;</span> <span class="mi">300</span><span class="p">,</span>
        <span class="s1">&#39;item2&#39;</span> <span class="o">=&gt;</span> <span class="mi">240</span>
<span class="p">));</span>
</pre></div>
</div>
<p>Para adicionar tempdata:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;value&#39;</span><span class="p">;</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">mark_as_temp</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span> <span class="c1">// Expire in 5 minutes</span>
</pre></div>
</div>
<p>Or alternatively, using the <code class="docutils literal"><span class="pre">set_tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>
</div>
<p>You can also pass an array to <code class="docutils literal"><span class="pre">set_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$tempdata</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;newuser&#39;</span> <span class="o">=&gt;</span> <span class="k">TRUE</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Thanks for joining!&#39;</span><span class="p">);</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">set_tempdata</span><span class="p">(</span><span class="nv">$tempdata</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="nv">$expire</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se a expiração for omitida ou definida como 0, o padrão será
O valor do tempo de vida de 300 segundos (ou 5 minutos) será usado.</p>
</div>
<p>Para ler uma variável tempdata, novamente você pode acessá-la através do
<code class="docutils literal"><span class="pre">$_SESSION</span></code> matriz superglobal:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">The <code class="docutils literal"><span class="pre">userdata()</span></code> method will NOT return tempdata items.</p>
</div>
<p>Ou se você quiser ter certeza de que está lendo &quot;tempdata&quot; (e não qualquer
other kind), you can also use the <code class="docutils literal"><span class="pre">tempdata()</span></code> method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>E, claro, se você quiser recuperar todos os tempdata existentes:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">tempdata</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The <code class="docutils literal"><span class="pre">tempdata()</span></code> method returns NULL if the item cannot be
found.</p>
</div>
<p>Se você precisar remover um valor de tempdata antes que ele expire, você pode
unset it from the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">unset</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s1">&#39;item&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>No entanto, isso não removerá o marcador que faz com que esse item específico seja
tempdata (ele será invalidado na próxima solicitação HTTP), então se você
pretende reutilizar essa mesma chave no mesmo pedido, você gostaria de usar
<code class="docutils literal"><span class="pre">unset_tempdata()</span></code>:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">unset_tempdata</span><span class="p">(</span><span class="s1">&#39;item&#39;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="destroying-a-session">
<h3><a class="toc-backref" href="#id13">Destruindo uma Sessão</a><a class="headerlink" href="#destroying-a-session" title="Permalink to this headline">¶</a></h3>
<p>Para limpar a sessão atual (por exemplo, durante um logout), você pode
basta usar o PHP <a class="reference external" href="http://php.net/session_destroy">session_destroy()</a>
function, or the <code class="docutils literal"><span class="pre">sess_destroy()</span></code> method. Both will work in exactly the
same way:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">session_destroy</span><span class="p">();</span>

<span class="c1">// or</span>

<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">sess_destroy</span><span class="p">();</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Esta deve ser a última operação relacionada à sessão que você faz
durante o mesmo pedido. Todos os dados da sessão (incluindo flashdata e
tempdata) serão destruídas permanentemente e as funções serão
inutilizável durante o mesmo pedido depois de destruir a sessão.</p>
</div>
</div>
<div class="section" id="accessing-session-metadata">
<h3><a class="toc-backref" href="#id14">Acessando metadados da sessão</a><a class="headerlink" href="#accessing-session-metadata" title="Permalink to this headline">¶</a></h3>
<p>Nas versões anteriores do CodeIgniter, a matriz de dados da sessão incluía 4 itens
por padrão: &#39;session_id&#39;, &#39;ip_address&#39;, &#39;user_agent&#39;, &#39;last_activity&#39;.</p>
<p>Isso se deveu aos detalhes de como as sessões funcionavam, mas agora não é mais
necessário com a nossa nova implementação. No entanto, pode acontecer que o seu
aplicação contou com esses valores, então aqui estão os métodos alternativos de
acessando-os:</p>
<blockquote>
<div><ul class="simple">
<li>session_id: <code class="docutils literal"><span class="pre">session_id()</span></code></li>
<li>ip_address: <code class="docutils literal"><span class="pre">$_SERVER['REMOTE_ADDR']</span></code></li>
<li>user_agent: <code class="docutils literal"><span class="pre">$this-&gt;input-&gt;user_agent()</span></code> (unused by sessions)</li>
<li>last_activity: Depende do armazenamento, sem um caminho direto. Desculpa!</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="session-preferences">
<h3><a class="toc-backref" href="#id15">Preferências de sessão</a><a class="headerlink" href="#session-preferences" title="Permalink to this headline">¶</a></h3>
<p>O CodeIgniter normalmente fará tudo funcionar imediatamente. Contudo,
As sessões são um componente muito sensível de qualquer aplicativo,
configuração cuidadosa deve ser feita. Por favor, tome seu tempo para considerar
todas as opções e seus efeitos.</p>
<p>Você encontrará as seguintes preferências relacionadas à sessão em sua
<strong>application/config/config.php</strong> file:</p>
<table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="9%" />
<col width="23%" />
<col width="53%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Default</th>
<th class="head">Opções</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>sess_driver</strong></td>
<td>files</td>
<td>files/database/redis/memcached/<em>custom</em></td>
<td>O driver de armazenamento da sessão a ser usado.</td>
</tr>
<tr class="row-odd"><td><strong>sess_cookie_name</strong></td>
<td>ci_session</td>
<td>[A-Za-z_-] apenas caracteres</td>
<td>O nome usado para o cookie da sessão.</td>
</tr>
<tr class="row-even"><td><strong>sess_expiration</strong></td>
<td>7200 (2 horas)</td>
<td>Tempo em segundos (inteiro)</td>
<td>O número de segundos que você gostaria que a sessão durasse.
Se você quiser uma sessão que não expira (até que o navegador seja fechado), defina o valor como zero: 0</td>
</tr>
<tr class="row-odd"><td><strong>sess_save_path</strong></td>
<td>NULL</td>
<td>None</td>
<td>Especifica o local de armazenamento, depende do driver que está sendo usado.</td>
</tr>
<tr class="row-even"><td><strong>sess_match_ip</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (booleano)</td>
<td>Se deve validar o endereço IP do usuário ao ler o cookie da sessão.
Nota que alguns ISPs mudam dinamicamente o IP, então se você quer uma sessão que não expira você
provavelmente configurará isso como FALSE.</td>
</tr>
<tr class="row-odd"><td><strong>sess_time_to_update</strong></td>
<td>300</td>
<td>Tempo em segundos (inteiro)</td>
<td>Esta opção controla com que frequência a classe de sessão se regenerará e criará uma nova
identificação de sessão. Definir como 0 desativará a regeneração da ID da sessão.</td>
</tr>
<tr class="row-even"><td><strong>sess_regenerate_destroy</strong></td>
<td>FALSE</td>
<td>TRUE/FALSE (booleano)</td>
<td>Se deve destruir os dados da sessão associados ao ID da sessão antiga ao regenerar automaticamente
o ID da sessão. Quando definido como FALSE, os dados serão posteriormente excluídos pelo coletor de lixo.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como último recurso, a Library Session tentará buscar o PHP
configurações de INI relacionadas à sessão, bem como configurações de IC herdadas, como
&#39;sess_expire_on_close&#39; quando qualquer um dos itens acima não estiver configurado.
No entanto, você nunca deve confiar nesse comportamento, pois pode causar
resultados inesperados ou podem ser alterados no futuro. Por favor configure
tudo corretamente.</p>
</div>
<p>Além dos valores acima, o cookie e os drivers nativos aplicam o
seguintes valores de configuração compartilhados pelo <a class="reference internal" href="input.html"><span class="doc">Input</span></a> and
<a class="reference internal" href="security.html"><span class="doc">Segurança</span></a> classes:</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="14%" />
<col width="69%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Preferência</th>
<th class="head">Default</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><strong>cookie_domain</strong></td>
<td>‘’</td>
<td>O domínio para o qual a sessão é aplicável</td>
</tr>
<tr class="row-odd"><td><strong>cookie_path</strong></td>
<td>/</td>
<td>O caminho ao qual a sessão é aplicável</td>
</tr>
<tr class="row-even"><td><strong>cookie_secure</strong></td>
<td>FALSE</td>
<td>Se deseja criar o cookie de sessão somente em conexões criptografadas (HTTPS)</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">A configuração &quot;cookie_httponly&quot; não afeta as sessões.
Em vez disso, o parâmetro HttpOnly está sempre ativado, por segurança
razões. Além disso, a configuração &#39;cookie_prefix&#39; é completamente
ignored.</p>
</div>
</div>
<div class="section" id="session-drivers">
<h3><a class="toc-backref" href="#id16">Drivers de Sessão</a><a class="headerlink" href="#session-drivers" title="Permalink to this headline">¶</a></h3>
<p>Como já mencionado, a library Session vem com 4 drivers ou armazenamento
motores, que você pode usar:</p>
<blockquote>
<div><ul class="simple">
<li>files</li>
<li>database</li>
<li>redis</li>
<li>memcached</li>
</ul>
</div></blockquote>
<p>Por padrão, o <a class="reference internal" href="#files-driver">Driver de Arquivos</a> será usado quando uma sessão for inicializada,
porque é a escolha mais segura e espera-se que funcione em todos os lugares
(virtualmente todo ambiente possui um sistema de arquivos).</p>
<p>No entanto, qualquer outro driver pode ser selecionado através do <code class="docutils literal"><span class="pre">$config['sess_driver']</span></code>
linha em seu <strong>application/config/config.php</strong> arquivo, se você escolheu fazê-lo.
Tenha em mente, porém, cada motorista tem advertências diferentes, por isso certifique-se de
familiarize-se com eles (abaixo) antes de fazer essa escolha.</p>
<p>Além disso, você também pode criar e usar <a class="reference internal" href="#custom-drivers">Drivers personalizados</a>, se os
fornecido por padrão não satisfaz seu caso de uso.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Nas versões anteriores do CodeIgniter, um "driver de cookie" diferente
foi a única opção e recebemos feedback negativo sobre não
fornecendo essa opção. Enquanto ouvimos o feedback do
comunidade, queremos avisá-lo que foi descartado porque é
<strong>unsafe</strong> e nós aconselhamos que você não tente replicá-lo através de um
driver personalizado.</p>
</div>
<div class="section" id="files-driver">
<h4><a class="toc-backref" href="#id17">Driver de Arquivos</a><a class="headerlink" href="#files-driver" title="Permalink to this headline">¶</a></h4>
<p>O driver &#39;files&#39; usa seu sistema de arquivos para armazenar dados da sessão.</p>
<p>Pode-se dizer com segurança que funciona exatamente como a própria sessão padrão do PHP
implementação, mas caso este seja um detalhe importante para você, tenha
lembre-se que na verdade não é o mesmo código e tem algumas limitações
(e vantagens).</p>
<p>Para ser mais específico, ele não suporta PHP <a class="reference external" href="http://php.net/manual/en/session.configuration.php#ini.session.save-path">nível de diretório e modo
formatos usados em session.save_path</a>,
e tem a maioria das opções codificadas para segurança. Em vez disso, apenas
absolute paths are supported for <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code>.</p>
<p>Outra coisa importante que você deve saber é ter certeza de que você
não use um diretório publicamente legível ou compartilhado para armazenar sua sessão
files. Make sure that <em>only you</em> have access to see the contents of your
chosen <em>sess_save_path</em> directory. Otherwise, anybody who can do that, can
também rouba qualquer uma das sessões atuais (também conhecida como "fixação de sessão").
attack).</p>
<p>Em sistemas operacionais semelhantes a UNIX, isso geralmente é obtido
0700 permissões de modo nesse diretório através do <cite>chmod</cite> comando, que
permite que apenas o proprietário do diretório realize operações de leitura e gravação
it. But be careful because the system user <em>running</em> the script is usually
não o seu próprio, mas algo como &#39;www-data&#39; em vez disso, então só definindo os
Permissões provavelmente irão quebrar seu aplicativo.</p>
<p>Em vez disso, você deve fazer algo assim, dependendo do seu ambiente</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nb">mkdir</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chmod</span> <span class="mo">0700</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
<span class="nb">chown</span> <span class="nx">www</span><span class="o">-</span><span class="nx">data</span> <span class="o">/&lt;</span><span class="nx">path</span> <span class="nx">to</span> <span class="nx">your</span> <span class="nx">application</span> <span class="nx">directory</span><span class="o">&gt;/</span><span class="nx">sessions</span><span class="o">/</span>
</pre></div>
</div>
<div class="section" id="bonus-tip">
<h5><a class="toc-backref" href="#id18">Dica bônus</a><a class="headerlink" href="#bonus-tip" title="Permalink to this headline">¶</a></h5>
<p>Alguns de vocês provavelmente optarão por escolher outro driver de sessão porque
O armazenamento de arquivos geralmente é mais lento. Isso é apenas meia verdade.</p>
<p>Um teste muito básico provavelmente irá levá-lo a acreditar que um SQL
Database é mais rápido, mas em 99% dos casos, isso só é verdade quando você
só tem algumas sessões atuais. Como as sessões contam e o servidor carrega
aumentar - que é o momento em que isso é importante - o sistema de arquivos
supera consistentemente quase todas as configurações de Databases relacionais.</p>
<p>Além disso, se o desempenho é sua única preocupação, você pode querer olhar
into using <a class="reference external" href="http://eddmann.com/posts/storing-php-sessions-file-caches-in-memory-using-tmpfs/">tmpfs</a>,
(aviso: recurso externo), que pode fazer suas sessões brilharem rápido.</p>
</div>
</div>
<div class="section" id="database-driver">
<h4><a class="toc-backref" href="#id19">Driver de database</a><a class="headerlink" href="#database-driver" title="Permalink to this headline">¶</a></h4>
<p>O driver &#39;Database&#39; usa um Database relacional como o MySQL ou
PostgreSQL para armazenar sessões. Esta é uma escolha popular entre muitos usuários,
porque permite ao desenvolvedor fácil acesso aos dados da sessão dentro
uma aplicação - é apenas outra tabela em seu Database.</p>
<p>No entanto, existem algumas condições que devem ser atendidas:</p>
<blockquote>
<div><ul class="simple">
<li>Only your <strong>default</strong> conexão de Database (ou aquela que você acessa
as <code class="docutils literal"><span class="pre">$this-&gt;db</span></code> from your controllers) can be used.</li>
<li>Você deve ter o <a class="reference internal" href="../database/query_builder.html"><span class="doc">Construtor de Querys</span></a>
enabled.</li>
<li>Você NÃO pode usar uma conexão persistente.</li>
<li>You can NOT use a connection with the <em>cache_on</em> setting enabled.</li>
</ul>
</div></blockquote>
<p>Para usar o driver de sessão &#39;database&#39;, você também deve criar
tabela que já mencionamos e, em seguida, defini-lo como seu
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> value.
Por exemplo, se você quiser usar &#39;ci_sessions&#39; como nome da sua tabela,
você faria isso:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;database&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;ci_sessions&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se você atualizou de uma versão anterior do CodeIgniter e
você não tem &#39;sess_save_path&#39; configurado, então a Session
a library procurará a configuração antiga &#39;sess_table_name&#39; e usará
em vez disso. Por favor, não confie neste comportamento, pois ele vai ficar
removido no futuro.</p>
</div>
<p>E depois, claro, crie a tabela do Database ...</p>
<p>For MySQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="k">IF</span> <span class="k">NOT</span> <span class="nx">EXISTS</span> <span class="sb">`ci_sessions`</span> <span class="p">(</span>
        <span class="sb">`id`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`ip_address`</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`timestamp`</span> <span class="nx">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="nx">unsigned</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="sb">`data`</span> <span class="nx">blob</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="nx">KEY</span> <span class="sb">`ci_sessions_timestamp`</span> <span class="p">(</span><span class="sb">`timestamp`</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Para o PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nx">CREATE</span> <span class="nx">TABLE</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span>
        <span class="s2">&quot;id&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;ip_address&quot;</span> <span class="nx">varchar</span><span class="p">(</span><span class="mi">45</span><span class="p">)</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;timestamp&quot;</span> <span class="nx">bigint</span> <span class="k">DEFAULT</span> <span class="mi">0</span> <span class="k">NOT</span> <span class="k">NULL</span><span class="p">,</span>
        <span class="s2">&quot;data&quot;</span> <span class="nx">text</span> <span class="k">DEFAULT</span> <span class="s1">&#39;&#39;</span> <span class="k">NOT</span> <span class="k">NULL</span>
<span class="p">);</span>

<span class="nx">CREATE</span> <span class="nx">INDEX</span> <span class="s2">&quot;ci_sessions_timestamp&quot;</span> <span class="nx">ON</span> <span class="s2">&quot;ci_sessions&quot;</span> <span class="p">(</span><span class="s2">&quot;timestamp&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Você também precisará adicionar uma CHAVE PRIMÁRIA <strong>dependendo do seu &#39;sess_match_ip&#39;
setting</strong>. Os exemplos abaixo funcionam tanto no MySQL quanto no PostgreSQL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// When sess_match_ip = TRUE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">,</span> <span class="nx">ip_address</span><span class="p">);</span>

<span class="c1">// When sess_match_ip = FALSE</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">ADD</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span> <span class="p">(</span><span class="nx">id</span><span class="p">);</span>

<span class="c1">// To drop a previously created primary key (use when changing the setting)</span>
<span class="nx">ALTER</span> <span class="nx">TABLE</span> <span class="nx">ci_sessions</span> <span class="nx">DROP</span> <span class="nx">PRIMARY</span> <span class="nx">KEY</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Apenas os Databases MySQL e PostgreSQL são oficialmente
apoiado, devido à falta de mecanismos de bloqueio consultivo em
plataformas. Usando sessões sem bloqueios pode causar todos os tipos de
problemas, especialmente com o uso pesado de AJAX, e nós não vamos
support such cases. Use <code class="docutils literal"><span class="pre">session_write_close()</span></code> after you’ve
feito o processamento de dados da sessão se você está tendo desempenho
issues.</p>
</div>
</div>
<div class="section" id="redis-driver">
<h4><a class="toc-backref" href="#id20">Redis Driver</a><a class="headerlink" href="#redis-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como o Redis não tem um mecanismo de travamento exposto, bloqueia
este driver é emulado por um valor separado que é mantido por até
para 300 segundos.</p>
</div>
<p>Redis é um mecanismo de armazenamento normalmente usado para armazenamento em cache e popular porque
de seu alto desempenho, que também é provavelmente o seu motivo para usar o
driver de sessão &#39;redis&#39;.</p>
<p>A desvantagem é que não é tão onipresente quanto Databases relacionais e
requer o <a class="reference external" href="https://github.com/phpredis/phpredis">phpredis</a> PHP
extensão para ser instalado em seu sistema, e esse não vem
empacotado com o PHP.
Provavelmente, você só estará usando o driver &#39;redis&#39; somente se você já estiver
ambos familiarizados com o Redis e usá-lo para outros fins.</p>
<p>Assim como com os drivers &#39;files&#39; e &#39;database&#39;, você também deve configurar
o local de armazenamento para as suas sessões através do
<code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> setting.
O formato aqui é um pouco diferente e complicado ao mesmo tempo. Isto é
best explained by the <em>phpredis</em> extension’s README file, so we’ll simply
ligá-lo a ele:</p>
<blockquote>
<div><a class="reference external" href="https://github.com/phpredis/phpredis#php-session-handler">https://github.com/phpredis/phpredis#php-session-handler</a></div></blockquote>
<div class="admonition warning">
<p class="first admonition-title">Aviso</p>
<p class="last">A Library Session do CodeIgniter NÃO usa os &#39;redis&#39; reais
<code class="docutils literal"><span class="pre">session.save_handler</span></code>. Tome nota <strong>only</strong> do formato do caminho em
o link acima.</p>
</div>
<p>For the most common case however, a simple <code class="docutils literal"><span class="pre">host:port</span></code> pair should be
sufficient:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;redis&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;tcp://localhost:6379&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="memcached-driver">
<h4><a class="toc-backref" href="#id21">Memcached Driver</a><a class="headerlink" href="#memcached-driver" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Como o Memcache não tem um mecanismo de bloqueio exposto, bloqueia
para este driver são emulados por um valor separado que é mantido por
up para 300 segundos.</p>
</div>
<p>O driver &#39;memcached&#39; é muito parecido com o &#39;redis&#39; em todos os seus
propriedades, exceto talvez pela disponibilidade, porque o PHP <a class="reference external" href="http://php.net/memcached">Memcached</a> extensão é distribuída via PECL e alguns
As distrubutions do Linux disponibilizam como um pacote fácil de instalar.</p>
<p>Fora isso, e sem qualquer tendência intencional para Redis, há
não é muito diferente de ser dito sobre Memcached - também é um popular
produto que geralmente é usado para armazenamento em cache e famoso por sua velocidade.</p>
<p>No entanto, vale a pena notar que a única garantia dada pelo Memcached
é que o valor de configuração X para expirar após Y segundos resultará em ser
excluído após Y segundos se passarem (mas não necessariamente que não
expirar mais cedo do que esse tempo). Isso acontece muito raramente, mas deve ser
considerado, pois pode resultar em perda de sessões.</p>
<p>The <code class="docutils literal"><span class="pre">$config['sess_save_path']</span></code> format is fairly straightforward here,
being just a <code class="docutils literal"><span class="pre">host:port</span></code> pair:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_driver&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;memcached&#39;</span><span class="p">;</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211&#39;</span><span class="p">;</span>
</pre></div>
</div>
<div class="section" id="id1">
<h5><a class="toc-backref" href="#id22">Dica bônus</a><a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h5>
<p>Multi-server configuration with an optional <em>weight</em> parameter as the
third colon-separated (<code class="docutils literal"><span class="pre">:weight</span></code>) value is also supported, but we have
notar que não testamos se isso é confiável.</p>
<p>Se você quiser experimentar este recurso (por sua conta e risco), simplesmente
separe os caminhos de vários servidores com vírgulas:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// localhost will be given higher priority (5) here,</span>
<span class="c1">// compared to 192.0.2.1 with a weight of 1.</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;sess_save_path&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;localhost:11211:5,192.0.2.1:11211:1&#39;</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-drivers">
<h4><a class="toc-backref" href="#id23">Drivers personalizados</a><a class="headerlink" href="#custom-drivers" title="Permalink to this headline">¶</a></h4>
<p>Você também pode criar seus próprios drivers de sessão personalizados. No entanto, tê-lo em
Lembre-se de que essa não é uma tarefa fácil, já que é preciso muito
conhecimento para fazê-lo corretamente.</p>
<p>Você precisa saber não apenas como as sessões funcionam em geral, mas também como elas funcionam.
trabalhar especificamente em PHP, como o mecanismo de armazenamento subjacente funciona, como
para lidar com concorrência, evitar deadlocks (mas não por falta de bloqueios) e
por último mas não menos importante - como lidar com os possíveis problemas de segurança, que
está longe de ser trivial.</p>
<p>Longa história curta - se você não sabe como fazer isso no PHP,
você não deveria estar tentando fazer isso dentro do CodeIgniter também. Você foi
warned.</p>
<p>Se você quiser apenas adicionar alguma funcionalidade extra às suas sessões, apenas
estender a classe de sessão base, que é muito mais fácil. Leia o
<a class="reference internal" href="../general/creating_libraries.html"><span class="doc">Criando Librarys</span></a> article to
aprenda como fazer isso.</p>
<p>Agora, ao ponto - há três regras gerais que você deve seguir
ao criar um driver de sessão para o CodeIgniter:</p>
<blockquote>
<div><ul>
<li><p class="first">Coloque o arquivo do seu driver sob <strong>aplicação/Librarys/sessão/drivers /</strong>
and follow the naming conventions used by the Classe de sessão.</p>
<p>Por exemplo, se você criasse um driver &#39;fictício&#39;, você teria
a <code class="docutils literal"><span class="pre">Session_dummy_driver</span></code> class name, that is declared in
<em>aplicação/Librarys/sessão/drivers /Session_dummy_driver.php</em>.</p>
</li>
<li><p class="first">Extend the <code class="docutils literal"><span class="pre">CI_Session_driver</span></code> class.</p>
<p>Esta é apenas uma classe básica com alguns métodos Helperes internos. Isto é
também extensível como qualquer outra Library, se você realmente precisa fazer isso,
mas não vamos explicar como ... se você está familiarizado
extensões de classe/substitui o trabalho no CI, então você já sabe como fazer
isto. Se não, bem, você não deveria estar fazendo isso em primeiro lugar.</p>
</li>
<li><p class="first">Implemente o <a class="reference external" href="http://php.net/sessionhandlerinterface">SessionHandlerInterface</a> interface.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">You may notice that <code class="docutils literal"><span class="pre">SessionHandlerInterface</span></code> is provided
pelo PHP desde a versão 5.4.0. O CodeIgniter irá declarar automaticamente
a mesma interface se você estiver executando uma versão mais antiga do PHP.</p>
</div>
<p>O link explicará por que e como.</p>
</li>
</ul>
</div></blockquote>
<p>Então, com base no nosso exemplo de driver &#39;fictício&#39; acima, você terminaria com algo
like this:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// aplicação/Librarys/sessão/drivers /Session_dummy_driver.php:</span>

<span class="k">class</span> <span class="nc">CI_Session_dummy_driver</span> <span class="k">extends</span> <span class="nx">CI_Session_driver</span> <span class="k">implements</span> <span class="nx">SessionHandlerInterface</span>
<span class="p">{</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$params</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// DO NOT forget this</span>
                <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$params</span><span class="p">);</span>

                <span class="c1">// Configuration &amp; other initializations</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">open</span><span class="p">(</span><span class="nv">$save_path</span><span class="p">,</span> <span class="nv">$name</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Initialize storage mechanism (connection)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">read</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Read session data (if exists), acquire locks</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">write</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">,</span> <span class="nv">$session_data</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Create / update session data (it might not exist!)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">close</span><span class="p">()</span>
        <span class="p">{</span>
                <span class="c1">// Free locks, close connections / streams / etc.</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">destroy</span><span class="p">(</span><span class="nv">$session_id</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Call close() method &amp; destroy data for current session (order may differ)</span>
        <span class="p">}</span>

        <span class="k">public</span> <span class="k">function</span> <span class="nf">gc</span><span class="p">(</span><span class="nv">$maxlifetime</span><span class="p">)</span>
        <span class="p">{</span>
                <span class="c1">// Erase data for expired sessions</span>
        <span class="p">}</span>

<span class="p">}</span>
</pre></div>
</div>
<p>Se você fez tudo corretamente, agora você pode definir o seu <em>sess_driver</em>
valor de configuração para &#39;fictício&#39; e use seu próprio driver. Parabéns!</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id24">Referência de Classe</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Session">
<em class="property">class </em><code class="descname">CI_Session</code><a class="headerlink" href="#CI_Session" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Session::userdata">
<code class="descname">userdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave do item de sessão ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os dados do usuário</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item, or an
matriz de todos os itens &quot;userdata&quot; se a chave não foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::all_userdata">
<code class="descname">all_userdata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::all_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Uma matriz de todos os dados do usuário</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Retorna uma matriz contendo todos os itens &quot;userdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é DEPRECADO. Usar <code class="docutils literal"><span class="pre">userdata()</span></code>
sem parâmetros em vez disso.</p>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">&amp;get_userdata()</code></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Uma referência a <code class="docutils literal"><span class="pre">$_SESSION</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Returns a reference to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> array.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::has_userdata">
<code class="descname">has_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::has_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">TRUE se a chave especificada existir, FALSE se não for</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Checks if an item exists in <code class="docutils literal"><span class="pre">$_SESSION</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for <code class="docutils literal"><span class="pre">isset($_SESSION[$key])</span></code> - please
use isso.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_userdata">
<code class="descname">set_userdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como dados da sessão ou a chave para um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unset_userdata">
<code class="descname">unset_userdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unset_userdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para o item de dados da sessão ser desfeito ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Desativa a (s) chave (s) especificada (s) do <code class="docutils literal"><span class="pre">$_SESSION</span></code>
superglobal.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for <code class="docutils literal"><span class="pre">unset($_SESSION[$key])</span></code> - please
use isso.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_flash">
<code class="descname">mark_as_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para marcar como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_flash_keys">
<code class="descname">get_flash_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_flash_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Array contendo as chaves de todos os itens &quot;flashdata&quot;.</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_flash">
<code class="descname">unmark_flash</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_flash" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como flashdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“flashdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::flashdata">
<code class="descname">flashdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave do item Flashdata ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os flashdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
marcado como &quot;flashdata&quot; ou uma matriz de todos os &quot;flashdata&quot;
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::keep_flashdata">
<code class="descname">keep_flashdata</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::keep_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Flashdata key para manter ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Mantém a (s) chave (s) de dados da sessão especificada (s) como &quot;flashdata&quot;
através do próximo pedido.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. É só
an alias for the <code class="docutils literal"><span class="pre">mark_as_flash()</span></code> method.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_flashdata">
<code class="descname">set_flashdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_flashdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como flashdata ou a chave de um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
como &quot;flashdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::mark_as_temp">
<code class="descname">mark_as_temp</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$ttl = 300</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::mark_as_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave para marcar como tempdata ou uma matriz de várias chaves</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida dos tempdata, em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Verdadeiro sucesso, FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">bool</p>
</td>
</tr>
</tbody>
</table>
<p>Marks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::get_temp_keys">
<code class="descname">get_temp_keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::get_temp_keys" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Retorna:</th><td class="field-body">Array contendo as chaves de todos os itens "tempdata".</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body">array</td>
</tr>
</tbody>
</table>
<p>Gets a list of all <code class="docutils literal"><span class="pre">$_SESSION</span></code> that have been marked as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::unmark_temp">
<code class="descname">unmark_temp</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::unmark_temp" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave a ser desmarcada como tempdata ou uma matriz de várias chaves</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Unmarks a <code class="docutils literal"><span class="pre">$_SESSION</span></code> item key (or multiple ones) as
“tempdata”.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::tempdata">
<code class="descname">tempdata</code><span class="sig-paren">(</span><span class="optional">[</span><em>$key = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>mixed</em>) - Chave de item Tempdata ou NULL</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Valor da chave do item especificado ou uma matriz de todos os tempdata</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Gets the value for a specific <code class="docutils literal"><span class="pre">$_SESSION</span></code> item that has
foi marcado como &quot;tempdata&quot;, ou uma matriz de todos os &quot;tempdata&quot;
itens se nenhuma chave foi especificada.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos. Você deve
directly access <code class="docutils literal"><span class="pre">$_SESSION</span></code> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::set_tempdata">
<code class="descname">set_tempdata</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$value = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::set_tempdata" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>mixed</em>) - Uma matriz de pares de chave/valor para definir como tempdata ou a chave para um único item</li>
<li><strong>$value</strong> (<em>mixed</em>) - O valor a ser definido para um item de sessão específico, se $data for uma chave</li>
<li><strong>$ttl</strong> (<em>int</em>) - Valor do tempo de vida do (s) item (s) tempdata (s), em segundos</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Assigns data to the <code class="docutils literal"><span class="pre">$_SESSION</span></code> superglobal and marks it
como &quot;tempdata&quot;.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este é um método legado mantido apenas para trás
compatibilidade com aplicativos mais antigos.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_regenerate">
<code class="descname">sess_regenerate</code><span class="sig-paren">(</span><span class="optional">[</span><em>$destroy = FALSE</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_regenerate" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$destroy</strong> (<em>bool</em>) - Destruir dados da sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Regenerar a ID da sessão, opcionalmente destruindo a corrente
dados da sessão.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_regenerate_id">session_regenerate_id()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::sess_destroy">
<code class="descname">sess_destroy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::sess_destroy" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body">void</td>
</tr>
</tbody>
</table>
<p>Destrói a sessão atual.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">This must be the <em>last</em> session-related function
que você chama. Todos os dados da sessão serão perdidos após
faça isso.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Este método é apenas um alias para o nativo do PHP
<a class="reference external" href="http://php.net/session_destroy">session_destroy()</a> function.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__get">
<code class="descname">__get</code><span class="sig-paren">(</span><em>$key</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__get" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">O item de dados da sessão solicitado ou NULL, se não existir</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">mixed</p>
</td>
</tr>
</tbody>
</table>
<p>Um método mágico que permite usar
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;item</span></code> instead of <code class="docutils literal"><span class="pre">$_SESSION['item']</span></code>,
se é isso que você prefere.</p>
<p>Ele também retornará o ID da sessão chamando
<code class="docutils literal"><span class="pre">session_id()</span></code> se você tentar acessar
<code class="docutils literal"><span class="pre">$this-&gt;session-&gt;session_id</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Session::__set">
<code class="descname">__set</code><span class="sig-paren">(</span><em>$key</em>, <em>$value</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Session::__set" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Chave do item de sessão</li>
<li><strong>$value</strong> (<em>mixed</em>) - Valor para atribuir à chave do item de sessão</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first last">void</p>
</td>
</tr>
</tbody>
</table>
<p>Um método mágico que permite atribuir itens a
<code class="docutils literal"><span class="pre">$_SESSION</span></code> acessando-os como <code class="docutils literal"><span class="pre">$this-&gt;session</span></code>
properties:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">session</span><span class="o">-&gt;</span><span class="na">foo</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">;</span>

<span class="c1">// Results in:</span>
<span class="c1">// $_SESSION[&#39;foo&#39;] = &#39;bar&#39;;</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="table.html" class="btn btn-neutral float-right" title="Classe de Tabela HTML">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="security.html" class="btn btn-neutral" title="Classe de segurança"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>