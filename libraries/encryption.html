

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Criptografia &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Upload de Arquivo" href="file_uploading.html"/>
        <link rel="prev" title="Criptografar Classe" href="encrypt.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Visão geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">Visão geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Motoristas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Motorista</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Criptografar Classe</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Aula de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de modelo</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Tipografia de Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Consultas em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo auxiliar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Auxiliar de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Auxiliar de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Auxiliar de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Auxiliar de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Auxiliar de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">Visão geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">Visão geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Motoristas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Auxiliares</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Motorista</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Criptografar Classe</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Aula de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de modelo</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Tipografia de Classe</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Consultas em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções auxiliares de consulta</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">CAPTCHA Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Email Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo auxiliar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Auxiliar de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Auxiliar de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Auxiliar de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Auxiliar de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Auxiliar de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Criptografia</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="encryption-library">
<h1>Library de Criptografia<a class="headerlink" href="#encryption-library" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">DO NOT use this or any other <em>encryption</em> library for
user password storage! Passwords must be <em>hashed</em> instead, and you
deve fazer isso através do próprio PHP <a class="reference external" href="http://php.net/password">Extensão de Hashing de Senha</a>.</p>
</div>
<p>The Library de Criptografia provides two-way data encryption. To do so in
uma maneira criptograficamente segura, utiliza extensões PHP que são
infelizmente nem sempre está disponível em todos os sistemas.
Você deve atender a uma das seguintes dependências para usar este
library:</p>
<ul class="simple">
<li><a class="reference external" href="http://php.net/openssl">OpenSSL</a></li>
<li><a class="reference external" href="http://php.net/mcrypt">MCrypt</a> (and <cite>MCRYPT_DEV_URANDOM</cite> availability)</li>
</ul>
<p>If neither of the above dependencies is met, we simply cannot offer
you a good enough implementation to meet the high standards required
for proper cryptography.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-encryption-library" id="id2">Using the Library de Criptografia</a><ul>
<li><a class="reference internal" href="#initializing-the-class" id="id3">Inicializando a classe</a></li>
<li><a class="reference internal" href="#default-behavior" id="id4">Comportamento Padrão</a></li>
<li><a class="reference internal" href="#setting-your-encryption-key" id="id5">Setting your encryption_key</a></li>
<li><a class="reference internal" href="#supported-encryption-ciphers-and-modes" id="id6">Supported encryption ciphers and modes</a><ul>
<li><a class="reference internal" href="#portable-ciphers" id="id7">Cifras portáteis</a></li>
<li><a class="reference internal" href="#driver-specific-ciphers" id="id8">Cifras específicas do driver</a></li>
<li><a class="reference internal" href="#encryption-modes" id="id9">Modos de criptografia</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-length" id="id10">Message Length</a></li>
<li><a class="reference internal" href="#configuring-the-library" id="id11">Configurando a library</a></li>
<li><a class="reference internal" href="#encrypting-and-decrypting-data" id="id12">Encrypting and decrypting data</a><ul>
<li><a class="reference internal" href="#how-it-works" id="id13">How it works</a></li>
<li><a class="reference internal" href="#using-custom-parameters" id="id14">Usando parâmetros personalizados</a></li>
<li><a class="reference internal" href="#supported-hmac-authentication-algorithms" id="id15">Supported HMAC authentication algorithms</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id16">Class Reference</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-encryption-library">
<h2><a class="toc-backref" href="#id2">Using the Library de Criptografia</a><a class="headerlink" href="#using-the-encryption-library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-the-class">
<h3><a class="toc-backref" href="#id3">Inicializando a classe</a><a class="headerlink" href="#initializing-the-class" title="Permalink to this headline">¶</a></h3>
<p>Like most other classes in CodeIgniter, the Encryption library is
initialized in your controller using the <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code>
method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;encryption&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Uma vez carregado, o objeto da library de criptografia estará disponível usando:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span>
</pre></div>
</div>
</div>
<div class="section" id="default-behavior">
<h3><a class="toc-backref" href="#id4">Comportamento Padrão</a><a class="headerlink" href="#default-behavior" title="Permalink to this headline">¶</a></h3>
<p>By default, the Library de Criptografia will use the AES-128 cipher in CBC
mode, using your configured <em>encryption_key</em> and SHA512 HMAC authentication.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">AES-128 é escolhida porque é comprovadamente forte e
devido à sua ampla disponibilidade em diferentes sistemas criptográficos
APIs de software e linguagens de programação.</p>
</div>
<p>However, the <em>encryption_key</em> is not used as is.</p>
<p>If you are somewhat familiar with cryptography, you should already know
que um HMAC também requer uma chave secreta e usando a mesma chave para ambos
encryption and authentication is a bad practice.</p>
<p>Por causa disso, duas chaves separadas são derivadas do seu já configurado
<em>encryption_key</em>: um para criptografia e um para autenticação. Isto é
feito através de uma técnica chamada <a class="reference external" href="http://en.wikipedia.org/wiki/HKDF">HMAC-based Key Derivation Function</a> (HKDF).</p>
</div>
<div class="section" id="setting-your-encryption-key">
<h3><a class="toc-backref" href="#id5">Setting your encryption_key</a><a class="headerlink" href="#setting-your-encryption-key" title="Permalink to this headline">¶</a></h3>
<p>An <em>encryption key</em> is a piece of information that controls the
processo criptográfico e permite que uma string de texto simples seja criptografada,
e depois - decifrado. É o &quot;ingrediente&quot; secreto do todo
process that allows you to be the only one who is able to decrypt data
that you’ve decided to hide from the eyes of the public.
Depois que uma chave é usada para criptografar dados, essa mesma chave fornece <strong>only</strong>
significa descriptografá-lo, por isso não só você deve escolher um cuidadosamente, mas você
não deve perdê-lo ou você também perderá o acesso aos dados.</p>
<p>It must be noted that to ensure maximum security, such key <em>should</em> not
only be as strong as possible, but also often changed. Such behavior
no entanto, raramente é prático ou possível de implementar, e é por isso que
CodeIgniter gives you the ability to configure a single key that is to be
usado (quase) todas as vezes.</p>
<p>Escusado será dizer que você deve guardar sua chave com cuidado. Devemos
someone gain access to your key, the data will be easily decrypted. If
your server is not totally under your control it’s impossible to ensure
segurança chave para que você possa querer pensar com cuidado antes de usá-lo para
anything that requires high security, like storing credit card numbers.</p>
<p>Your encryption key <strong>must</strong> ser tão longo quanto o algoritmo de criptografia em uso
allows. For AES-128, that’s 128 bits or 16 bytes (charcters) long.
You will find a table below that shows the supported key lengths of
cifras diferentes.</p>
<p>The key should be as random as possible and it <strong>Não deve</strong> be a regular
text string, nor the output of a hashing function, etc. In order to create
a proper key, you must use the Encryption library’s <code class="docutils literal"><span class="pre">create_key()</span></code> method</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// $key will be assigned a 16-byte (128-bit) random key</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
</pre></div>
</div>
<p>The key can be either stored in your <em>application/config/config.php</em>, or
você pode projetar seu próprio mecanismo de armazenamento e passar a chave dinamicamente
when encrypting/decrypting.</p>
<p>To save your key to your <em>application/config/config.php</em>, open the file
and set:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;YOUR KEY&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>You’ll notice that the <code class="docutils literal"><span class="pre">create_key()</span></code> method outputs binary data, which
é difícil de lidar (ou seja, um copiar-colar pode danificá-lo), então você pode usar
<code class="docutils literal"><span class="pre">bin2hex()</span></code>, <code class="docutils literal"><span class="pre">hex2bin()</span></code> or Base64-encoding to work with the key in
a more friendly manner. For example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Get a hex-encoded representation of the key:</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nb">bin2hex</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>

<span class="c1">// Put the same value in your config with hex2bin(),</span>
<span class="c1">// so that it is still passed as binary to the library:</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex2bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">your</span> <span class="nx">hex</span><span class="o">-</span><span class="nx">encoded</span> <span class="nb">key</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="supported-encryption-ciphers-and-modes">
<span id="ciphers-and-modes"></span><h3><a class="toc-backref" href="#id6">Supported encryption ciphers and modes</a><a class="headerlink" href="#supported-encryption-ciphers-and-modes" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">The terms ‘cipher’ and ‘encryption algorithm’ are interchangeable.</p>
</div>
<div class="section" id="portable-ciphers">
<h4><a class="toc-backref" href="#id7">Cifras portáteis</a><a class="headerlink" href="#portable-ciphers" title="Permalink to this headline">¶</a></h4>
<p>Porque MCrypt e OpenSSL (também chamados de drivers ao longo deste documento)
cada um suporta conjuntos diferentes de algoritmos de criptografia e, muitas vezes, implementa
de diferentes maneiras, nossa library de criptografia foi projetada para usá-los
a portable fashion, or in other words - it enables you to use them
de forma intercambiável, pelo menos para as cifras suportadas por ambos os motoristas.</p>
<p>It is also implemented in a way that aims to match the standard
implementações em outras linguagens de programação e librarys.</p>
<p>Aqui está uma lista dos chamados &quot;portáteis&quot; cifras, onde
“Nome do Code Igniter” is the string value that you’d have to pass to the
Encryption library to use that cipher:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="18%" />
<col width="28%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Cipher name</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Supported modes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128 / Rijndael-128</td>
<td>aes-128</td>
<td>128/16</td>
<td>CBC, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>aes-192</td>
<td>192/24</td>
<td>CBC, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>aes-256</td>
<td>256/32</td>
<td>CBC, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>DES</td>
<td>des</td>
<td>56/7</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>TripleDES</td>
<td>tripledes</td>
<td>56/7, 112 / 14, 168 / 21</td>
<td>CBC, CFB, CFB8, OFB</td>
</tr>
<tr class="row-odd"><td>Blowfish</td>
<td>blowfish</td>
<td>128-448/16-56</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>CAST5/CAST-128</td>
<td>cast5</td>
<td>88-128 / 11-16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>RC4/ARCFour</td>
<td>rc4</td>
<td>40-2048 / 5-256</td>
<td>Stream</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Because of how MCrypt works, if you fail to provide a key
com o comprimento apropriado, você pode acabar usando um diferente
algoritmo do que o configurado, por isso tenha muito cuidado com isso!</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Caso não esteja claro na tabela acima, Blowfish, CAST5
and RC4 support variable length keys. That is, any number in the
shown ranges is valid, although in bit terms that only happens
in 8-bit increments.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Even though CAST5 supports key lengths lower than 128 bits
(16 bytes), in fact they will just be zero-padded to the
maximum length, as specified in <a class="reference external" href="http://tools.ietf.org/rfc/rfc2144.txt">RFC 2144</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Blowfish supports key lengths as small as 32 bits (4 bytes), but
nossos testes mostraram que apenas comprimentos de 128 bits (16 bytes) ou
higher are properly supported by both MCrypt and OpenSSL. It is
also a bad practice to use such low-length keys anyway.</p>
</div>
</div>
<div class="section" id="driver-specific-ciphers">
<h4><a class="toc-backref" href="#id8">Cifras específicas do driver</a><a class="headerlink" href="#driver-specific-ciphers" title="Permalink to this headline">¶</a></h4>
<p>As noted above, MCrypt and OpenSSL support different sets of encryption
ciphers. For portability reasons and because we haven’t tested them
corretamente, nós não aconselhamos você a usar aqueles que são específicos do driver,
but regardless, here’s a list of most of them:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="32%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Cipher name</th>
<th class="head">Motorista</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Supported modes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>OpenSSL</td>
<td>192/24</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>OpenSSL</td>
<td>256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>Rijndael-128</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>Rijndael-192</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>Rijndael-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>GOST</td>
<td>MCrypt</td>
<td>256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>Twofish</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>CAST-128</td>
<td>MCrypt</td>
<td>40-128 / 5-16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>CAST-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>Loki97</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>SaferPlus</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>Serpent</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>XTEA</td>
<td>MCrypt</td>
<td>128/16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-even"><td>RC2</td>
<td>MCrypt</td>
<td>8-1024 / 1-128</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, BCE</td>
</tr>
<tr class="row-odd"><td>RC2</td>
<td>OpenSSL</td>
<td>8-1024 / 1-128</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camellia-128</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Camélia-192</td>
<td>OpenSSL</td>
<td>192/24</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camellia-256</td>
<td>OpenSSL</td>
<td>256/32</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Semente</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">If you wish to use one of those ciphers, you’d have to pass
its name in lower-case to the Encryption library.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">You’ve probably noticed that all AES cipers (and Rijndael-128)
are also listed in the portable ciphers list. This is because
drivers suportam modos diferentes para essas cifras. Além disso, é
importante notar que AES-128 e Rijndael-128 são realmente
a mesma cifra, mas <strong>only</strong> when used with a 128-bit key.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O CAST-128/CAST-5 também é listado tanto no portátil quanto
lista de cifras específicas do driver. Isso ocorre porque o OpenSSL
implementação parece não estar funcionando corretamente com
tamanhos de chaves de 80 bits e inferiores.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O RC2 está listado como suportado pelo MCrypt e pelo OpenSSL.
No entanto, ambos os drivers os implementam de forma diferente e
não são portáteis. Vale a pena notar que só
encontrou uma fonte obscura confirmando que é MCrypt que
não está implementando adequadamente.</p>
</div>
</div>
<div class="section" id="encryption-modes">
<span id="id1"></span><h4><a class="toc-backref" href="#id9">Modos de criptografia</a><a class="headerlink" href="#encryption-modes" title="Permalink to this headline">¶</a></h4>
<p>Diferentes modos de criptografia têm características diferentes e servem
for different purposes. Some are stronger than others, some are faster
and some offer extra features.
Nós não estamos indo em profundidade para isso aqui, vamos deixar isso para o
cryptography experts. The table below is to provide brief informational
reference to our more experienced users. If you are a beginner, just
ficar com o modo CBC - é amplamente aceito como forte e seguro para
general purposes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Mode name</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Motorista support</th>
<th class="head">Additional info</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CBC</td>
<td>cbc</td>
<td>MCrypt, OpenSSL</td>
<td>Uma escolha padrão segura</td>
</tr>
<tr class="row-odd"><td>CTR</td>
<td>ctr</td>
<td>MCrypt, OpenSSL</td>
<td>Considerado como teoricamente melhor que o CBC, mas não tão amplamente disponível</td>
</tr>
<tr class="row-even"><td>CFB</td>
<td>cfb</td>
<td>MCrypt, OpenSSL</td>
<td>N/D</td>
</tr>
<tr class="row-odd"><td>CFB8</td>
<td>cfb8</td>
<td>MCrypt, OpenSSL</td>
<td>Igual ao CFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>OFB</td>
<td>ofb</td>
<td>MCrypt, OpenSSL</td>
<td>N/D</td>
</tr>
<tr class="row-odd"><td>OFB8</td>
<td>ofb8</td>
<td>MCrypt</td>
<td>O mesmo que OFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>BCE</td>
<td>ecb</td>
<td>MCrypt, OpenSSL</td>
<td>Ignora IV (não recomendado).</td>
</tr>
<tr class="row-odd"><td>XTS</td>
<td>xts</td>
<td>OpenSSL</td>
<td>Usually used for encrypting random access data such as RAM or hard-disk storage.</td>
</tr>
<tr class="row-even"><td>Stream</td>
<td>stream</td>
<td>MCrypt, OpenSSL</td>
<td>This is not actually a mode, it just says that a stream cipher is being used. Required because of the general cipher+mode initialization process.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="message-length">
<h3><a class="toc-backref" href="#id10">Message Length</a><a class="headerlink" href="#message-length" title="Permalink to this headline">¶</a></h3>
<p>It’s probably important for you to know that an encrypted string is usually
longer than the original, plain-text string (depending on the cipher).</p>
<p>This is influenced by the cipher algorithm itself, the IV prepended to the
cipher-text e a mensagem de autenticação HMAC que também é prefixada.
Além disso, a mensagem criptografada também é codificada em Base64 para que seja segura
for storage and transmission, regardless of a possible character set in use.</p>
<p>Mantenha estas informações em mente ao selecionar seu mecanismo de armazenamento de dados.
Cookies, for example, can only hold 4K of information.</p>
</div>
<div class="section" id="configuring-the-library">
<span id="configuration"></span><h3><a class="toc-backref" href="#id11">Configurando a library</a><a class="headerlink" href="#configuring-the-library" title="Permalink to this headline">¶</a></h3>
<p>Para usabilidade, desempenho, mas também razões históricas ligadas ao antigo
<a class="reference internal" href="encrypt.html"><span class="doc">Criptografar Classe</span></a>, a library de criptografia foi projetada para
use repeatedly the same driver, encryption cipher, mode and key.</p>
<p>As noted in the “Comportamento Padrão” section above, this means using an
driver detectado automaticamente (o OpenSSL tem uma prioridade mais alta), o AES-128 ciper
in CBC mode, and your <code class="docutils literal"><span class="pre">$config['encryption_key']</span></code> value.</p>
<p>Se você quiser mudar isso, você precisa usar o <code class="docutils literal"><span class="pre">initialize()</span></code>
method. It accepts an associative array of parameters, all of which are
optional:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Valores possíveis</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>driver</td>
<td>&#39;mcrypt&#39;, &#39;openssl&#39;</td>
</tr>
<tr class="row-odd"><td>cipher</td>
<td>Nome da cifra (consulte <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Supported encryption ciphers and modes</span></a>)</td>
</tr>
<tr class="row-even"><td>mode</td>
<td>Encryption mode (see <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>)</td>
</tr>
<tr class="row-odd"><td>key</td>
<td>Encryption key</td>
</tr>
</tbody>
</table>
<p>For example, if you were to change the encryption algorithm and
mode to AES-256 in CTR mode, this is what you should do:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;aes-256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;a 32-character random string&gt;&#39;</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Nota que nós apenas mencionamos que você quer mudar o ciper e o modo,
but we also included a key in the example. As previously noted, it is
É importante que você escolha uma chave com um tamanho adequado para o algoritmo usado.</p>
<p>Há também a capacidade de mudar o driver, se por algum motivo você
have both, but want to use MCrypt instead of OpenSSL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Switch to the MCrypt driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mcrypt&#39;</span><span class="p">));</span>

<span class="c1">// Switch back to the OpenSSL driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="encrypting-and-decrypting-data">
<h3><a class="toc-backref" href="#id12">Encrypting and decrypting data</a><a class="headerlink" href="#encrypting-and-decrypting-data" title="Permalink to this headline">¶</a></h3>
<p>Encrypting and decrypting data with the already configured library
configurações é simples. Tão simples quanto passar a corda para o
<code class="docutils literal"><span class="pre">encrypt()</span></code> and/or <code class="docutils literal"><span class="pre">decrypt()</span></code> methods:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$plain_text</span> <span class="o">=</span> <span class="s1">&#39;This is a plain-text message!&#39;</span><span class="p">;</span>
<span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="nv">$plain_text</span><span class="p">);</span>

<span class="c1">// Outputs: This is a plain-text message!</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>E é isso! A library de criptografia fará tudo o que for necessário
for the whole process to be cryptographically secure out-of-the-box.
You don’t need to worry about it.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Both methods will return FALSE in case of an error.
While for <code class="docutils literal"><span class="pre">encrypt()</span></code> this can only mean incorrect
configuration, you should always check the return value
of <code class="docutils literal"><span class="pre">decrypt()</span></code> in production code.</p>
</div>
<div class="section" id="how-it-works">
<h4><a class="toc-backref" href="#id13">How it works</a><a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h4>
<p>If you must know how the process works, here’s what happens under
the hood:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;encrypt($plain_text)</span></code><ol class="arabic">
<li>Derive an encryption key and a HMAC key from your configured
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.</li>
<li>Gere um vetor de inicialização aleatória (IV).</li>
<li>Encrypt the data via AES-128 in CBC mode (or another previously
configured cipher and mode), using the above-mentioned derived
encryption key and IV.</li>
<li>Prepend said IV to the resulting cipher-text.</li>
<li>Base64-encode the resulting string, so that it can be safely
stored or transferred without worrying about character sets.</li>
<li>Crie uma mensagem de autenticação SHA-512 HMAC usando o método derivado
HMAC key to ensure data integrity and prepend it to the Base64
string.</li>
</ol>
</li>
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;decrypt($ciphertext)</span></code><ol class="arabic">
<li>Derive an encryption key and a HMAC key from your configured
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.
Because your configured <em>encryption_key</em> is the same, this
will produce the same result as in the <code class="docutils literal"><span class="pre">encrypt()</span></code> method
above - otherwise you won’t be able to decrypt it.</li>
<li>Check if the string is long enough, separate the HMAC out of
e validar se está correto (isto é feito de uma forma que
prevents timing attacks against it). Return FALSE if either of
the checks fails.</li>
<li>Base64 decodifica a string.</li>
<li>Separate the IV out of the cipher-text and decrypt the said
cipher-text using that IV and the derived encryption key.</li>
</ol>
</li>
</ul>
</div>
<div class="section" id="using-custom-parameters">
<span id="custom-parameters"></span><h4><a class="toc-backref" href="#id14">Usando parâmetros personalizados</a><a class="headerlink" href="#using-custom-parameters" title="Permalink to this headline">¶</a></h4>
<p>Vamos dizer que você tem que interagir com outro sistema que está fora
of your control and uses another method to encrypt data. A
método que certamente não irá coincidir com o acima descrito
sequence and probably not use all of the steps either.</p>
<p>A library de criptografia permite que você altere como sua criptografia
e os processos de decodificação funcionam, para que você possa facilmente adaptar um
custom solution for such situations.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">It is possible to use the library in this way, without
setting an <em>encryption_key</em> in your configuration file.</p>
</div>
<p>Tudo o que você precisa fazer é passar um array associativo com alguns
parameters to either the <code class="docutils literal"><span class="pre">encrypt()</span></code> or <code class="docutils literal"><span class="pre">decrypt()</span></code> method.
Here’s an example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Assume that we have $ciphertext, $key and $hmac_key</span>
<span class="c1">// from on outside source</span>

<span class="nv">$message</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span>
        <span class="nv">$ciphertext</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blowfish&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cbc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$key</span><span class="p">,</span>
                <span class="s1">&#39;hmac_digest&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sha256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hmac_key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$hmac_key</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>In the above example, we are decrypting a message that was encrypted
using the Blowfish cipher in CBC mode and authenticated via a SHA-256
HMAC.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Nota that both ‘key’ and ‘hmac_key’ are used in this
exemplo. Ao usar parâmetros personalizados, chaves de criptografia e HMAC
are not derived like the default behavior of the library is.</p>
</div>
<p>Abaixo está uma lista das opções disponíveis.</p>
<p>However, unless you really need to and you know what you are doing,
we advise you to not change the encryption process as this could
segurança de impacto, por favor, faça isso com cautela.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="14%" />
<col width="26%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Default value</th>
<th class="head">Mandatory / Optional</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cipher</td>
<td>N/D</td>
<td>Yes</td>
<td>Algoritmo de criptografia (ver <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Supported encryption ciphers and modes</span></a>).</td>
</tr>
<tr class="row-odd"><td>mode</td>
<td>N/D</td>
<td>Yes</td>
<td>Encryption mode (see <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>).</td>
</tr>
<tr class="row-even"><td>key</td>
<td>N/D</td>
<td>Yes</td>
<td>Encryption key.</td>
</tr>
<tr class="row-odd"><td>hmac</td>
<td>TRUE</td>
<td>No</td>
<td>Whether to use a HMAC.
Boolean. If set to FALSE, then <em>hmac_digest</em> and
<em>hmac_key</em> will be ignored.</td>
</tr>
<tr class="row-even"><td>hmac_digest</td>
<td>sha512</td>
<td>No</td>
<td>Algoritmo de resumo de mensagem HMAC <a class="reference internal" href="#digests"><span class="std std-ref">Supported HMAC authentication algorithms</span></a>).</td>
</tr>
<tr class="row-odd"><td>hmac_key</td>
<td>N/D</td>
<td>Yes, unless <em>hmac</em> is FALSE</td>
<td>HMAC key.</td>
</tr>
<tr class="row-even"><td>raw_data</td>
<td>FALSE</td>
<td>No</td>
<td>Se o texto cifrado deve ser bruto.
Boleano. Se definido como TRUE, então a codificação Base64 e
decoding will not be performed and HMAC will not
be a hexadecimal string.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last"><code class="docutils literal"><span class="pre">encrypt()</span></code> and <code class="docutils literal"><span class="pre">decrypt()</span></code> will return FALSE if
a mandatory parameter is not provided or if a provided
value is incorrect. This includes <em>hmac_key</em>, unless <em>hmac</em>
is set to FALSE.</p>
</div>
</div>
<div class="section" id="supported-hmac-authentication-algorithms">
<span id="digests"></span><h4><a class="toc-backref" href="#id15">Supported HMAC authentication algorithms</a><a class="headerlink" href="#supported-hmac-authentication-algorithms" title="Permalink to this headline">¶</a></h4>
<p>Para autenticação de mensagens HMAC, a Library de criptografia suporta
uso da família de algoritmos SHA-2:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="34%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algorithm</th>
<th class="head">Raw length (bytes)</th>
<th class="head">Hex-encoded length (bytes)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sha512</td>
<td>64</td>
<td>128</td>
</tr>
<tr class="row-odd"><td>sha384</td>
<td>48</td>
<td>96</td>
</tr>
<tr class="row-even"><td>sha256</td>
<td>32</td>
<td>64</td>
</tr>
<tr class="row-odd"><td>sha224</td>
<td>28</td>
<td>56</td>
</tr>
</tbody>
</table>
<p>The reason for not including other popular algorithms, such as
MD5 or SHA1 is that they are no longer considered secure enough
e, como tal, não queremos incentivar seu uso.
Se você absolutamente precisa usá-los, é fácil fazê-lo via PHP&#39;s
native <a class="reference external" href="http://php.net/manual/en/function.hash-hmac.php">hash_hmac()</a> function.</p>
<p>Stronger algorithms of course will be added in the future as they
appear and become widely available.</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id16">Class Reference</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Encryption">
<em class="property">class </em><code class="descname">CI_Encryption</code><a class="headerlink" href="#CI_Encryption" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Encryption::initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>$params</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::initialize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$params</strong> (<em>array</em>) - Parâmetros de configuração</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">CI_Encryption instance (method chaining)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">CI_Encryption</p>
</td>
</tr>
</tbody>
</table>
<p>Initializes (configures) the library to use a different
driver, cipher, mode or key.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Please refer to the <a class="reference internal" href="#configuration"><span class="std std-ref">Configurando a library</span></a> seção para informações detalhadas.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::encrypt">
<code class="descname">encrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::encrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) – Data to encrypt</li>
<li><strong>$params</strong> (<em>array</em>) – Optional parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dados criptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Criptografa os dados de entrada e retorna seu texto cifrado.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="s1">&#39;My secret message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Please refer to the <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> seção para informação
on the optional parameters.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::decrypt">
<code class="descname">decrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::decrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) – Data to decrypt</li>
<li><strong>$params</strong> (<em>array</em>) – Optional parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Dados descriptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Decrypts the input data and returns it in plain-text.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>Please refer to the <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> segredo para informação
on the optional parameters.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>$length</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::create_key" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$length</strong> (<em>int</em>) – Output length</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Uma chave criptográfica pseudo-aleatória com o comprimento especificado ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Cria uma chave criptográfica buscando dados aleatórios de
as fontes do sistema operacional (isto é,/dev/urandom).</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::hkdf">
<code class="descname">hkdf</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$digest = 'sha512'</em><span class="optional">[</span>, <em>$salt = NULL</em><span class="optional">[</span>, <em>$length = NULL</em><span class="optional">[</span>, <em>$info = ''</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::hkdf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) – Input key material</li>
<li><strong>$digest</strong> (<em>string</em>) - Algoritmo de resumo da família SHA-2</li>
<li><strong>$salt</strong> (<em>string</em>) – Optional salt</li>
<li><strong>$length</strong> (<em>int</em>) - Comprimento de saída opcional</li>
<li><strong>$info</strong> (<em>string</em>) – Optional context/application-specific info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Uma chave pseudo-aleatória ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Derives a key from another, presumably weaker key.</p>
<p>This method is used internally to derive an encryption and HMAC key
from your configured <em>encryption_key</em>.</p>
<p>It is publicly available due to its otherwise general purpose. It is
descrito em <a class="reference external" href="https://tools.ietf.org/rfc/rfc5869.txt">RFC 5869</a>.</p>
<p>However, as opposed to the description in RFC 5869, this implementation
não suporta SHA1.</p>
<p>Example:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$hmac_key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">hkdf</span><span class="p">(</span>
        <span class="nv">$key</span><span class="p">,</span>
        <span class="s1">&#39;sha512&#39;</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="s1">&#39;authentication&#39;</span>
<span class="p">);</span>

<span class="c1">// $hmac_key is a pseudo-random key with a length of 64 bytes</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="file_uploading.html" class="btn btn-neutral float-right" title="Classe de Upload de Arquivo">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="encrypt.html" class="btn btn-neutral" title="Criptografar Classe"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Criptografia &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Upload de Arquivo" href="file_uploading.html"/>
        <link rel="prev" title="Classe de Criptografia" href="encrypt.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Motoristas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Motorista</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Motoristas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Motorista</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Criptografia</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="encryption-library">
<h1>Library de Criptografia<a class="headerlink" href="#encryption-library" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">DO NOT use this or any other <em>encryption</em> library for
user password storage! Passwords must be <em>hashed</em> instead, and you
deve fazer isso através do próprio PHP <a class="reference external" href="http://php.net/password">Extensão de Hashing de Senha</a>.</p>
</div>
<p>The Library de Criptografia provides two-way data encryption. To do so in
uma maneira criptograficamente segura, utiliza extensões PHP que são
infelizmente nem sempre está disponível em todos os sistemas.
Você deve atender a uma das seguintes dependências para usar este
library:</p>
<ul class="simple">
<li><a class="reference external" href="http://php.net/openssl">OpenSSL</a></li>
<li><a class="reference external" href="http://php.net/mcrypt">MCrypt</a> (and <cite>MCRYPT_DEV_URANDOM</cite> availability)</li>
</ul>
<p>Se nenhuma das dependências acima for atendida, simplesmente não poderemos oferecer
você uma implementação suficientemente boa para atender aos altos padrões exigidos
para criptografia adequada.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-encryption-library" id="id2">Using the Library de Criptografia</a><ul>
<li><a class="reference internal" href="#initializing-the-class" id="id3">Inicializando a classe</a></li>
<li><a class="reference internal" href="#default-behavior" id="id4">Comportamento Padrão</a></li>
<li><a class="reference internal" href="#setting-your-encryption-key" id="id5">Configurando sua chave encryption_key</a></li>
<li><a class="reference internal" href="#supported-encryption-ciphers-and-modes" id="id6">Cifras e modos de criptografia suportados</a><ul>
<li><a class="reference internal" href="#portable-ciphers" id="id7">Cifras portáteis</a></li>
<li><a class="reference internal" href="#driver-specific-ciphers" id="id8">Cifras específicas do driver</a></li>
<li><a class="reference internal" href="#encryption-modes" id="id9">Modos de criptografia</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-length" id="id10">Comprimento da Mensagem</a></li>
<li><a class="reference internal" href="#configuring-the-library" id="id11">Configurando a library</a></li>
<li><a class="reference internal" href="#encrypting-and-decrypting-data" id="id12">Criptografando e descriptografando dados</a><ul>
<li><a class="reference internal" href="#how-it-works" id="id13">Como funciona</a></li>
<li><a class="reference internal" href="#using-custom-parameters" id="id14">Usando parâmetros personalizados</a></li>
<li><a class="reference internal" href="#supported-hmac-authentication-algorithms" id="id15">Algoritmos de autenticação HMAC suportados</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id16">Referência de Classe</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-encryption-library">
<h2><a class="toc-backref" href="#id2">Using the Library de Criptografia</a><a class="headerlink" href="#using-the-encryption-library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-the-class">
<h3><a class="toc-backref" href="#id3">Inicializando a classe</a><a class="headerlink" href="#initializing-the-class" title="Permalink to this headline">¶</a></h3>
<p>Como a maioria das outras classes no CodeIgniter, a Library de criptografia é
inicializado em seu Controller usando o <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code>
method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;encryption&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Uma vez carregado, o objeto da library de criptografia estará disponível usando:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span>
</pre></div>
</div>
</div>
<div class="section" id="default-behavior">
<h3><a class="toc-backref" href="#id4">Comportamento Padrão</a><a class="headerlink" href="#default-behavior" title="Permalink to this headline">¶</a></h3>
<p>By default, the Library de Criptografia will use the AES-128 cipher in CBC
mode, using your configured <em>encryption_key</em> and SHA512 HMAC authentication.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">AES-128 é escolhida porque é comprovadamente forte e
devido à sua ampla disponibilidade em diferentes sistemas criptográficos
APIs de software e linguagens de programação.</p>
</div>
<p>However, the <em>encryption_key</em> is not used as is.</p>
<p>Se você estiver familiarizado com a criptografia, você já deve saber
que um HMAC também requer uma chave secreta e usando a mesma chave para ambos
criptografia e autenticação é uma prática ruim.</p>
<p>Por causa disso, duas chaves separadas são derivadas do seu já configurado
<em>encryption_key</em>: um para criptografia e um para autenticação. Isto é
feito através de uma técnica chamada <a class="reference external" href="http://en.wikipedia.org/wiki/HKDF">Função de Derivação de Chave Baseada em HMAC</a> (HKDF)</p>
</div>
<div class="section" id="setting-your-encryption-key">
<h3><a class="toc-backref" href="#id5">Configurando sua chave encryption_key</a><a class="headerlink" href="#setting-your-encryption-key" title="Permalink to this headline">¶</a></h3>
<p>An <em>encryption key</em> is a piece of information that controls the
processo criptográfico e permite que uma string de texto simples seja criptografada,
e depois - decifrado. É o &quot;ingrediente&quot; secreto do todo
processo que permite que você seja o único que é capaz de descriptografar dados
que você decidiu se esconder dos olhos do público.
Depois que uma chave é usada para criptografar dados, essa mesma chave fornece <strong>only</strong>
significa descriptografá-lo, por isso não só você deve escolher um cuidadosamente, mas você
não deve perdê-lo ou você também perderá o acesso aos dados.</p>
<p>It must be noted that to ensure maximum security, such key <em>should</em> not
apenas seja o mais forte possível, mas também muitas vezes mudado. Tal comportamento
no entanto, raramente é prático ou possível de implementar, e é por isso que
O CodeIgniter oferece a capacidade de configurar uma única chave que deve ser
usado (quase) todas as vezes.</p>
<p>Escusado será dizer que você deve guardar sua chave com cuidado. Devemos
alguém obter acesso à sua chave, os dados serão facilmente descriptografados. E se
seu servidor não está totalmente sob seu controle, é impossível garantir
segurança chave para que você possa querer pensar com cuidado antes de usá-lo para
qualquer coisa que exija alta segurança, como armazenar números de cartão de crédito.</p>
<p>Sua chave de criptografia <strong>must</strong> ser tão longo quanto o algoritmo de criptografia em uso
permite. Para AES-128, isso é 128 bits ou 16 bytes (charcters) de comprimento.
Você encontrará uma tabela abaixo que mostra os comprimentos de chave suportados
cifras diferentes.</p>
<p>A chave deve ser tão aleatória quanto possível e <strong>Não deve</strong> ser um regular
string de texto, nem a saída de uma função hash, etc. Para criar
a proper key, you must use the Encryption library’s <code class="docutils literal"><span class="pre">create_key()</span></code> method</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// $key will be assigned a 16-byte (128-bit) random key</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
</pre></div>
</div>
<p>The key can be either stored in your <em>application/config/config.php</em>, or
você pode projetar seu próprio mecanismo de armazenamento e passar a chave dinamicamente
quando criptografar/descriptografar.</p>
<p>To save your key to your <em>application/config/config.php</em>, open the file
E definir:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;YOUR KEY&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>You’ll notice that the <code class="docutils literal"><span class="pre">create_key()</span></code> method outputs binary data, which
é difícil de lidar (ou seja, um copiar-colar pode danificá-lo), então você pode usar
<code class="docutils literal"><span class="pre">bin2hex()</span></code>, <code class="docutils literal"><span class="pre">hex2bin()</span></code> or Base64-encoding to work with the key in
uma maneira mais amigável. Por exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Get a hex-encoded representation of the key:</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nb">bin2hex</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>

<span class="c1">// Put the same value in your config with hex2bin(),</span>
<span class="c1">// so that it is still passed as binary to the library:</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex2bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">your</span> <span class="nx">hex</span><span class="o">-</span><span class="nx">encoded</span> <span class="nb">key</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="supported-encryption-ciphers-and-modes">
<span id="ciphers-and-modes"></span><h3><a class="toc-backref" href="#id6">Cifras e modos de criptografia suportados</a><a class="headerlink" href="#supported-encryption-ciphers-and-modes" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Os termos &#39;cifra&#39; e &#39;algoritmo de criptografia&#39; são intercambiáveis.</p>
</div>
<div class="section" id="portable-ciphers">
<h4><a class="toc-backref" href="#id7">Cifras portáteis</a><a class="headerlink" href="#portable-ciphers" title="Permalink to this headline">¶</a></h4>
<p>Porque MCrypt e OpenSSL (também chamados de drivers ao longo deste documento)
cada um suporta conjuntos diferentes de algoritmos de criptografia e, muitas vezes, implementa
de diferentes maneiras, nossa library de criptografia foi projetada para usá-los
uma forma portátil, ou em outras palavras - permite que você os use
de forma intercambiável, pelo menos para as cifras suportadas por ambos os motoristas.</p>
<p>Também é implementado de uma forma que visa corresponder ao padrão
implementações em outras linguagens de programação e librarys.</p>
<p>Aqui está uma lista dos chamados &quot;portáteis&quot; cifras, onde
&quot;Nome do CodeIgniter&quot; é o valor da string que você teria que passar para o
Library de criptografia para usar essa cifra:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="18%" />
<col width="28%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nome da cifra</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Modos Suportados</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128/Rijndael-128</td>
<td>aes-128</td>
<td>128/16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>aes-192</td>
<td>192/24</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>aes-256</td>
<td>256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>DES</td>
<td>des</td>
<td>56/7</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>TripleDES</td>
<td>tripledes</td>
<td>56/7, 112 / 14, 168 / 21</td>
<td>CBC, CFB, CFB8, OFB</td>
</tr>
<tr class="row-odd"><td>Baiacu</td>
<td>blowfish</td>
<td>128-448/16-56</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>CAST5/CAST-128</td>
<td>cast5</td>
<td>88-128/11-16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>RC4/ARCFour</td>
<td>rc4</td>
<td>40-2048/5-256</td>
<td>Corrente</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Por causa de como o MCrypt funciona, se você não fornecer uma chave
com o comprimento apropriado, você pode acabar usando um diferente
algoritmo do que o configurado, por isso tenha muito cuidado com isso!</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">In case it isn’t clear from the above table, Baiacu, CAST5
e RC4 suportam chaves de comprimento variável. Ou seja, qualquer número no
intervalos mostrados é válido, embora em termos de bit que só acontece
em incrementos de 8 bits.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Mesmo que o CAST5 suporte tamanhos de chaves menores que 128 bits
(16 bytes), na verdade, eles serão apenas preenchidos com zero
comprimento máximo, conforme especificado <a class="reference external" href="http://tools.ietf.org/rfc/rfc2144.txt">RFC 2144</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Baiacu supports key lengths as small as 32 bits (4 bytes), but
nossos testes mostraram que apenas comprimentos de 128 bits (16 bytes) ou
maior são suportados corretamente pelo MCrypt e pelo OpenSSL. Isto é
também é uma má prática usar chaves de tamanho tão baixo.</p>
</div>
</div>
<div class="section" id="driver-specific-ciphers">
<h4><a class="toc-backref" href="#id8">Cifras específicas do driver</a><a class="headerlink" href="#driver-specific-ciphers" title="Permalink to this headline">¶</a></h4>
<p>Como mencionado acima, o MCrypt eo OpenSSL suportam diferentes conjuntos de criptografia
cifras. Por questões de portabilidade e porque não os testamos
corretamente, nós não aconselhamos você a usar aqueles que são específicos do driver,
mas independentemente disso, aqui está uma lista da maioria deles:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="32%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nome da cifra</th>
<th class="head">Motorista</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Modos Suportados</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>OpenSSL</td>
<td>192/24</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>OpenSSL</td>
<td>256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>Rijndael-128</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Rijndael-192</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>Rijndael-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>GOST</td>
<td>MCrypt</td>
<td>256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>Dois peixes</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>CAST-128</td>
<td>MCrypt</td>
<td>40-128/5-16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>CAST-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Loki97</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>SaferPlus</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Serpente</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>XTEA</td>
<td>MCrypt</td>
<td>128/16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>RC2</td>
<td>MCrypt</td>
<td>8-1024/1-128</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>RC2</td>
<td>OpenSSL</td>
<td>8-1024/1-128</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camélia-128</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Camélia-192</td>
<td>OpenSSL</td>
<td>192/24</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camélia-256</td>
<td>OpenSSL</td>
<td>256/32</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Seed</td>
<td>OpenSSL</td>
<td>128/16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se você quiser usar uma dessas cifras, você teria que passar
seu nome em minúsculas para a Library de criptografia.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Você provavelmente já notou que todos os cipers AES (e Rijndael-128)
também estão listados na lista de cifras portáteis. Isto é porque
drivers suportam modos diferentes para essas cifras. Além disso, é
importante notar que AES-128 e Rijndael-128 são realmente
a mesma cifra, mas <strong>only</strong> quando usado com uma chave de 128 bits.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O CAST-128/CAST-5 também é listado tanto no portátil quanto
lista de cifras específicas do driver. Isso ocorre porque o OpenSSL
implementação parece não estar funcionando corretamente com
tamanhos de chaves de 80 bits e inferiores.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O RC2 está listado como suportado pelo MCrypt e pelo OpenSSL.
No entanto, ambos os drivers os implementam de forma diferente e
não são portáteis. Vale a pena notar que só
encontrou uma fonte obscura confirmando que é MCrypt que
não está implementando adequadamente.</p>
</div>
</div>
<div class="section" id="encryption-modes">
<span id="id1"></span><h4><a class="toc-backref" href="#id9">Modos de criptografia</a><a class="headerlink" href="#encryption-modes" title="Permalink to this headline">¶</a></h4>
<p>Diferentes modos de criptografia têm características diferentes e servem
para diferentes propósitos. Alguns são mais fortes que outros, alguns são mais rápidos
e alguns oferecem recursos extras.
Nós não estamos indo em profundidade para isso aqui, vamos deixar isso para o
especialistas em criptografia. A tabela abaixo é para fornecer informações breves
referência aos nossos usuários mais experientes. Se você é um iniciante, apenas
ficar com o modo CBC - é amplamente aceito como forte e seguro para
propósitos gerais.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nome do modo</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Motorista support</th>
<th class="head">informação adicional</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CBC</td>
<td>cbc</td>
<td>MCrypt, OpenSSL</td>
<td>Uma escolha padrão segura</td>
</tr>
<tr class="row-odd"><td>CTR</td>
<td>ctr</td>
<td>MCrypt, OpenSSL</td>
<td>Considerado como teoricamente melhor que o CBC, mas não tão amplamente disponível</td>
</tr>
<tr class="row-even"><td>CFB</td>
<td>cfb</td>
<td>MCrypt, OpenSSL</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>CFB8</td>
<td>cfb8</td>
<td>MCrypt, OpenSSL</td>
<td>Igual ao CFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>OFB</td>
<td>ofb</td>
<td>MCrypt, OpenSSL</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>OFB8</td>
<td>ofb8</td>
<td>MCrypt</td>
<td>O mesmo que OFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>ECB</td>
<td>ecb</td>
<td>MCrypt, OpenSSL</td>
<td>Ignora IV (não recomendado).</td>
</tr>
<tr class="row-odd"><td>XTS</td>
<td>xts</td>
<td>OpenSSL</td>
<td>Geralmente usado para criptografar dados de acesso aleatório, como RAM ou armazenamento em disco rígido.</td>
</tr>
<tr class="row-even"><td>Corrente</td>
<td>stream</td>
<td>MCrypt, OpenSSL</td>
<td>Este não é realmente um modo, apenas diz que uma cifra de fluxo está sendo usada. Necessário por causa do processo geral de inicialização do modo cipher +.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="message-length">
<h3><a class="toc-backref" href="#id10">Comprimento da Mensagem</a><a class="headerlink" href="#message-length" title="Permalink to this headline">¶</a></h3>
<p>É provavelmente importante que você saiba que uma string criptografada é geralmente
maior que a string de texto simples original (dependendo da cifra).</p>
<p>Isto é influenciado pelo próprio algoritmo de cifra, o IV prefixado ao
cipher-text e a mensagem de autenticação HMAC que também é prefixada.
Além disso, a mensagem criptografada também é codificada em Base64 para que seja segura
para armazenamento e transmissão, independentemente de um possível conjunto de caracteres em uso.</p>
<p>Mantenha estas informações em mente ao selecionar seu mecanismo de armazenamento de dados.
Os cookies, por exemplo, só podem conter 4K de informações.</p>
</div>
<div class="section" id="configuring-the-library">
<span id="configuration"></span><h3><a class="toc-backref" href="#id11">Configurando a library</a><a class="headerlink" href="#configuring-the-library" title="Permalink to this headline">¶</a></h3>
<p>Para usabilidade, desempenho, mas também razões históricas ligadas ao antigo
<a class="reference internal" href="encrypt.html"><span class="doc">Classe de Criptografia</span></a>, a library de criptografia foi projetada para
use repetidamente o mesmo driver, cifra de criptografia, modo e chave.</p>
<p>As noted in the “Comportamento Padrão” section above, this means using an
driver detectado automaticamente (o OpenSSL tem uma prioridade mais alta), o AES-128 ciper
in CBC mode, and your <code class="docutils literal"><span class="pre">$config['encryption_key']</span></code> value.</p>
<p>Se você quiser mudar isso, você precisa usar o <code class="docutils literal"><span class="pre">initialize()</span></code>
método. Ele aceita uma matriz associativa de parâmetros, todos os quais são
optional:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Opção</th>
<th class="head">Valores possíveis</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>driver</td>
<td>&#39;mcrypt&#39;, &#39;openssl&#39;</td>
</tr>
<tr class="row-odd"><td>cipher</td>
<td>Nome da cifra (see <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Cifras e modos de criptografia suportados</span></a>)</td>
</tr>
<tr class="row-even"><td>mode</td>
<td>Modo de encriptação (ver <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>)</td>
</tr>
<tr class="row-odd"><td>key</td>
<td>Chave de criptografia</td>
</tr>
</tbody>
</table>
<p>Por exemplo, se você alterasse o algoritmo de criptografia e
modo para AES-256 no modo CTR, isso é o que você deve fazer:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;aes-256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;a 32-character random string&gt;&#39;</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Nota que nós apenas mencionamos que você quer mudar o ciper e o modo,
mas também incluímos uma chave no exemplo. Como observado anteriormente, é
É importante que você escolha uma chave com um tamanho adequado para o algoritmo usado.</p>
<p>Há também a capacidade de mudar o driver, se por algum motivo você
tem ambos, mas quer usar o MCrypt em vez do OpenSSL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Switch to the MCrypt driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mcrypt&#39;</span><span class="p">));</span>

<span class="c1">// Switch back to the OpenSSL driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="encrypting-and-decrypting-data">
<h3><a class="toc-backref" href="#id12">Criptografando e descriptografando dados</a><a class="headerlink" href="#encrypting-and-decrypting-data" title="Permalink to this headline">¶</a></h3>
<p>Criptografando e descriptografando dados with the already configured library
configurações é simples. Tão simples quanto passar a corda para o
<code class="docutils literal"><span class="pre">encrypt()</span></code> and/or <code class="docutils literal"><span class="pre">decrypt()</span></code> methods:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$plain_text</span> <span class="o">=</span> <span class="s1">&#39;This is a plain-text message!&#39;</span><span class="p">;</span>
<span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="nv">$plain_text</span><span class="p">);</span>

<span class="c1">// Outputs: This is a plain-text message!</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>E é isso! A library de criptografia fará tudo o que for necessário
para que todo o processo seja criptograficamente seguro e pronto para uso.
Você não precisa se preocupar com isso.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Ambos os métodos retornarão FALSE em caso de erro.
While for <code class="docutils literal"><span class="pre">encrypt()</span></code> this can only mean incorrect
configuração, você deve sempre verificar o valor de retorno
of <code class="docutils literal"><span class="pre">decrypt()</span></code> in production code.</p>
</div>
<div class="section" id="how-it-works">
<h4><a class="toc-backref" href="#id13">Como funciona</a><a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h4>
<p>Se você precisa saber como o processo funciona, veja o que acontece sob
o capuz:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;encrypt($plain_text)</span></code><ol class="arabic">
<li>Derive uma chave de criptografia e uma chave HMAC a partir do seu
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.</li>
<li>Gere um vetor de inicialização aleatória (IV).</li>
<li>Criptografe os dados via AES-128 no modo CBC (ou em outro
cifra e modo configurados), utilizando os dados derivados
chave de criptografia e IV.</li>
<li>Prefira o dito IV ao texto cifrado resultante.</li>
<li>Base64-codifica a string resultante, para que possa ser seguramente
armazenados ou transferidos sem se preocupar com conjuntos de caracteres.</li>
<li>Crie uma mensagem de autenticação SHA-512 HMAC usando o método derivado
Chave HMAC para garantir a integridade dos dados e pré-anexá-los à Base64
string.</li>
</ol>
</li>
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;decrypt($ciphertext)</span></code><ol class="arabic">
<li>Derive uma chave de criptografia e uma chave HMAC a partir do seu
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.
Because your configured <em>encryption_key</em> is the same, this
will produce the same result as in the <code class="docutils literal"><span class="pre">encrypt()</span></code> method
acima - caso contrário, você não poderá descriptografá-lo.</li>
<li>Verifique se a string é longa o suficiente, separe o HMAC de
e validar se está correto (isto é feito de uma forma que
evita ataques de temporização contra ele). Retornar FALSE se qualquer um dos
as verificações falharem.</li>
<li>Base64 decodifica a string.</li>
<li>Separe o IV do texto cifrado e decodifique o dito
cipher-text usando esse IV e a chave de criptografia derivada.</li>
</ol>
</li>
</ul>
</div>
<div class="section" id="using-custom-parameters">
<span id="custom-parameters"></span><h4><a class="toc-backref" href="#id14">Usando parâmetros personalizados</a><a class="headerlink" href="#using-custom-parameters" title="Permalink to this headline">¶</a></h4>
<p>Vamos dizer que você tem que interagir com outro sistema que está fora
de seu controle e usa outro método para criptografar dados. UMA
método que certamente não irá coincidir com o acima descrito
seqüência e provavelmente não usar todas as etapas também.</p>
<p>A library de criptografia permite que você altere como sua criptografia
e os processos de decodificação funcionam, para que você possa facilmente adaptar um
solução personalizada para tais situações.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">É possível usar a Library dessa maneira, sem
setting an <em>encryption_key</em> in your configuration file.</p>
</div>
<p>Tudo o que você precisa fazer é passar um array associativo com alguns
parameters to either the <code class="docutils literal"><span class="pre">encrypt()</span></code> or <code class="docutils literal"><span class="pre">decrypt()</span></code> method.
Aqui está um exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Assume that we have $ciphertext, $key and $hmac_key</span>
<span class="c1">// from on outside source</span>

<span class="nv">$message</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span>
        <span class="nv">$ciphertext</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blowfish&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cbc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$key</span><span class="p">,</span>
                <span class="s1">&#39;hmac_digest&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sha256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hmac_key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$hmac_key</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>No exemplo acima, estamos descriptografando uma mensagem que foi criptografada
using the Baiacu cipher in CBC mode and authenticated via a SHA-256
HMAC.</p>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last">Nota that both ‘key’ and ‘hmac_key’ are used in this
exemplo. Ao usar parâmetros personalizados, chaves de criptografia e HMAC
não são derivados como o comportamento padrão da Library é.</p>
</div>
<p>Abaixo está uma lista das opções disponíveis.</p>
<p>No entanto, a menos que você realmente precise e saiba o que está fazendo,
aconselhamos que você não mude o processo de criptografia, pois isso poderia
segurança de impacto, por favor, faça isso com cautela.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="14%" />
<col width="26%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Opção</th>
<th class="head">Valor padrão</th>
<th class="head">Mandatory / Opçãoal</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cipher</td>
<td>N/A</td>
<td>Yes</td>
<td>Algoritmo de criptografia (ver <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Cifras e modos de criptografia suportados</span></a>).</td>
</tr>
<tr class="row-odd"><td>mode</td>
<td>N/A</td>
<td>Yes</td>
<td>Modo de encriptação (ver <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>).</td>
</tr>
<tr class="row-even"><td>key</td>
<td>N/A</td>
<td>Yes</td>
<td>Chave de criptografia.</td>
</tr>
<tr class="row-odd"><td>hmac</td>
<td>TRUE</td>
<td>No</td>
<td>Se deve usar um HMAC.
Boolean. If set to FALSE, then <em>hmac_digest</em> and
<em>hmac_key</em> será ignorado.</td>
</tr>
<tr class="row-even"><td>hmac_digest</td>
<td>sha512</td>
<td>No</td>
<td>Algoritmo de resumo de mensagem HMAC <a class="reference internal" href="#digests"><span class="std std-ref">Algoritmos de autenticação HMAC suportados</span></a>).</td>
</tr>
<tr class="row-odd"><td>hmac_key</td>
<td>N/A</td>
<td>Yes, unless <em>hmac</em> is FALSE</td>
<td>Chave HMAC.</td>
</tr>
<tr class="row-even"><td>raw_data</td>
<td>FALSE</td>
<td>No</td>
<td>Se o texto cifrado deve ser bruto.
Boleano. Se definido como TRUE, então a codificação Base64 e
decodificação não será executada e o HMAC não
ser uma string hexadecimal.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Importante</p>
<p class="last"><code class="docutils literal"><span class="pre">encrypt()</span></code> and <code class="docutils literal"><span class="pre">decrypt()</span></code> will return FALSE if
um parâmetro obrigatório não é fornecido ou se um
value is incorrect. This includes <em>hmac_key</em>, unless <em>hmac</em>
está definido como FALSE.</p>
</div>
</div>
<div class="section" id="supported-hmac-authentication-algorithms">
<span id="digests"></span><h4><a class="toc-backref" href="#id15">Algoritmos de autenticação HMAC suportados</a><a class="headerlink" href="#supported-hmac-authentication-algorithms" title="Permalink to this headline">¶</a></h4>
<p>Para autenticação de mensagens HMAC, a Library de criptografia suporta
uso da família de algoritmos SHA-2:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="34%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algoritmo</th>
<th class="head">Comprimento bruto (bytes)</th>
<th class="head">Comprimento codificado hexadecimais (bytes)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sha512</td>
<td>64</td>
<td>128</td>
</tr>
<tr class="row-odd"><td>sha384</td>
<td>48</td>
<td>96</td>
</tr>
<tr class="row-even"><td>sha256</td>
<td>32</td>
<td>64</td>
</tr>
<tr class="row-odd"><td>sha224</td>
<td>28</td>
<td>56</td>
</tr>
</tbody>
</table>
<p>O motivo para não incluir outros algoritmos populares, como
MD5 ou SHA1 é que eles não são mais considerados seguros o suficiente
e, como tal, não queremos incentivar seu uso.
Se você absolutamente precisa usá-los, é fácil fazê-lo via PHP&#39;s
native <a class="reference external" href="http://php.net/manual/en/function.hash-hmac.php">hash_hmac()</a> function.</p>
<p>Algoritmos mais fortes, naturalmente, serão adicionados no futuro
aparecer e tornar-se amplamente disponível.</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id16">Referência de Classe</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Encryption">
<em class="property">class </em><code class="descname">CI_Encryption</code><a class="headerlink" href="#CI_Encryption" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Encryption::initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>$params</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::initialize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$params</strong> (<em>array</em>) - Parâmetros de configuração</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">CI_Encópia de criptografia (encadeamento do método)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">CI_Encryption</p>
</td>
</tr>
</tbody>
</table>
<p>Inicializa (configura) a Library para usar um diferente
driver, cifra, modo ou chave.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#configuration"><span class="std std-ref">Configurando a library</span></a> seção para informações detalhadas.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::encrypt">
<code class="descname">encrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::encrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) - Dados para criptografar</li>
<li><strong>$params</strong> (<em>array</em>) – Opçãoal parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Dados criptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Criptografa os dados de entrada e retorna seu texto cifrado.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="s1">&#39;My secret message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> seção para informação
nos parâmetros opcionais.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::decrypt">
<code class="descname">decrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::decrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) - Dados para decifrar</li>
<li><strong>$params</strong> (<em>array</em>) – Opçãoal parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Dados descriptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Descriptografa os dados de entrada e os retorna em texto simples.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> segredo para informação
nos parâmetros opcionais.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>$length</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::create_key" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$length</strong> (<em>int</em>) - Comprimento de saída</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Uma chave criptográfica pseudo-aleatória com o comprimento especificado ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Cria uma chave criptográfica buscando dados aleatórios de
as fontes do sistema operacional (isto é,/dev/urandom).</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::hkdf">
<code class="descname">hkdf</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$digest = 'sha512'</em><span class="optional">[</span>, <em>$salt = NULL</em><span class="optional">[</span>, <em>$length = NULL</em><span class="optional">[</span>, <em>$info = ''</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::hkdf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Material chave de entrada</li>
<li><strong>$digest</strong> (<em>string</em>) - Algoritmo de resumo da família SHA-2</li>
<li><strong>$salt</strong> (<em>string</em>) – Opçãoal salt</li>
<li><strong>$length</strong> (<em>int</em>) – Opçãoal output length</li>
<li><strong>$info</strong> (<em>string</em>) – Opçãoal context/application-specific info</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Uma chave pseudo-aleatória ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Deriva uma chave de outra chave presumivelmente mais fraca.</p>
<p>Esse método é usado internamente para derivar uma criptografia e uma chave HMAC
from your configured <em>encryption_key</em>.</p>
<p>Está publicamente disponível devido ao seu propósito geral. Isto é
descrito em <a class="reference external" href="https://tools.ietf.org/rfc/rfc5869.txt">RFC 5869</a>.</p>
<p>No entanto, ao contrário da descrição no RFC 5869, esta implementação
não suporta SHA1.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$hmac_key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">hkdf</span><span class="p">(</span>
        <span class="nv">$key</span><span class="p">,</span>
        <span class="s1">&#39;sha512&#39;</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="s1">&#39;authentication&#39;</span>
<span class="p">);</span>

<span class="c1">// $hmac_key is a pseudo-random key with a length of 64 bytes</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="file_uploading.html" class="btn btn-neutral float-right" title="Classe de Upload de Arquivo">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="encrypt.html" class="btn btn-neutral" title="Classe de Criptografia"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Library de Criptografia &mdash; CodeIgniter 3.1.9 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/ci-icon.ico"/>
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/citheme.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="CodeIgniter 3.1.9 documentation" href="../index.html"/>
        <link rel="up" title="Libraries" href="index.html"/>
        <link rel="next" title="Classe de Upload de Arquivo" href="file_uploading.html"/>
        <link rel="prev" title="Classe de Criptografia" href="encrypt.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div id="nav">
  <div id="nav_inner">
    
    
    
      <div id="pulldown-menu" class="ciNav">
        <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

      </div>
    
      
  </div>
</div>
<div id="nav2">
  <a href="#" id="openToc">
    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAARgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABAMDAwMDBAMDBAYEAwQGBwUEBAUHCAYGBwYGCAoICQkJCQgKCgwMDAwMCgwMDQ0MDBERERERFBQUFBQUFBQUFAEEBQUIBwgPCgoPFA4ODhQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAKwCaAwERAAIRAQMRAf/EAHsAAQAABwEBAAAAAAAAAAAAAAABAwQFBgcIAgkBAQAAAAAAAAAAAAAAAAAAAAAQAAEDAwICBwYEAgsAAAAAAAIBAwQAEQUSBiEHkROTVNQWGDFBUVIUCHEiMtOUFWGBobHRQlMkZIRVEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDSC+ygkOOaUoKigUCgUCgUCgUCgUCgUCgUCgkuGguIP9FBMFb0Hqg7We+3jlmIqqYFf4ub+/QYlnOR/LqIBKGFUbf8qWv971BytQXXE7Y3Lnm3HsFhp2TaZJAdchRXpIgSpdEJWxJEW3xoKV7F5OMy7JkQn2o7D6w33XGjEAkoiqrJEqIiOIiKuhePCgqp22dyYyS3CyWHnQ5joG61HkRnmnTbaFSMhExRVQRRVJU9iUHjE7ez+fJ0MFipmUNhBV8YUd2SoIV9KkjQla9ltegttBdPLW4/qocL+UTfrMiHW4+P9M71shuyrqaHTcxsl7jegpsji8nh5ZwMvDfgTm0RTjSmjYdFCS6KoOIipdFunCgmNYTMv457MMY6U7iI6oMieDDhRm1VbIhuoOkbqtuK0Hpzb+eZcYZexUxt6UyUqK2cd0SdjtgrhOgijcgERUlJOCIl6CpgbP3blRI8XgMjNARAyKNDfeRBdFDBVUAXgQrqH4pxoJTu2NysY97LP4ac1io5q1InHFeGO24LnVKJuKOkSQ/yKir+rh7aCLG1dzypZQI2FnvTgccYOM3FeN0XWERXAUEFVQgQkUktdLpegm+Td3/Xli/L+S/mYNJIOF9G/wBeLKrZHFb0akG6W1WtQWSg3Dyg5e7V3fipE3O4/wCrktyzYA+ufas2LbZIlmnAT2kvuoN1wft95augilglX/tzP3qCu9O3LL/wV/i5v79BvmTADq14UGu91467Z6U9y0HzH/ncj/U/sT/CgynZG7I2NezpZGUjIycJkYkZSG+uQ81pbBNKLxJfjwoMqZ3/ALYHl35AJ7/cuwHcu5k7r1Q5pHetBjquqVVJWGxj9Zrtcl/Ggy3dHMvauR3HFZj5nHNxSyW5JISYDMoIwx8tFIGHZhPNaykGapr6rUAiicEoMG21lMRj8buPAz8xhJrr7uOeiPTCyAwXUaGR1mgozbTusOsFLEiJ7fbQa/h7gcjy2H3V6xppwDNtUSxCJIqp7valBuWVzJ22xuCROXNNZiJkMtms0DbjUkAZjzoDrTMd9dDRI44ZC2YsrYdKWP2WDT2S3N9dNdlRYrGMYc06IURXSYb0igrpWS485xVNS6nF4rwslkoMwnbpgZLB7bmt5uMweAhDEl4B5uSLzzqTnnyVpW2jaJHRMSIjdDiiotvy3DOE5rYTEbkl5yFn28k7JyG4c7AU2HtLH1uKfaiMPI40CdYbpNtmLdwTSn5rewLNld+7TLdeal4WarWBkbVKBjgdElMJJwAAY5fl4kB3b1fp4XvagsGS3FjJfLzDNtS8aeXx7LzT7TyzByQE5PccRGRC0ZRUDRV6y62vbjagzLmJzS2vuPK43JY6aP1TW6Jz+RIWyFtyC06y3EkiiinAo7YCqfq1AqqnGgsOH3lhZO8d1pmcpB8j5XIm9OYlBJSQ/FSS4427DKO0RC8AlcEMhFdViRR1WDWR5t3WXVuL1d106kG9vdeye2g60+1FDyW0shIcXVpyroXt8I8dfd+NB1vioAdWnD3UF1+gD4UFc6CEKpagxXN43rwJLUHz7yX2c8zokt9uHlsPIhA4aRnnHJTLptIS6CNsY7iASpxUUMkReGpfbQW0vtN5pitvrsN28rwtBD0nc0+/Yft5XhaB6TuaXfsP28rwtA9J3NPv2H7eV4Wgek7mn37D9vK8LQPSdzT79h+3leFoHpO5pd+w/byvC0D0nc0u/Yft5XhaB6TuaXfsP28rwtA9J3NLv2H7eV4Wgek7ml37D9vK8LQPSdzS79h+3leFoHpO5p9+w/byvC0E9r7Reazy2HIYVPxkS/CUHVn26cosxyv2g7h89LYmZSXOenvLEQ1YaQ222RATcQCP8rSGqqA8S02W2pQ6FhMoAIlqCtsnwoCpdKClejI4i3Sgtb+GBxVuNBSFt1pV/RQefLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8uM/JQPLjPyUDy4z8lA8utJ/koJ7WCbBU/LQXOPAFq1koK8B0pag90CggtBBf6qB0UDooHRQOigdFA6KB0UDooHRQOigdFA6KB0UDooI0EaBQf//Z" title="Toggle Table of Contents" alt="Toggle Table of Contents" />
  </a>
</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="../index.html" class="fa fa-home"> CodeIgniter</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../general/welcome.html">Bem vindo ao CodeIgniter</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">instruções de instalação</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/downloads.html">Baixando CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/index.html">instruções de instalação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Atualizando de uma versão anterior</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Solução de problemas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/index.html">View geral do CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../overview/getting_started.html">Começando</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/at_a_glance.html">View geral do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/features.html">Recursos Suportados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/appflow.html">Fluxograma de Aplicação</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/mvc.html">Model-View-Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview/goals.html">Objetivos Arquitetônicos</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Páginas estáticas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Seção de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Criar itens de notícias</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusão</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Contribuindo para o CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../documentation/index.html">Escrevendo Documentação do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../DCO.html">Certificado de Origem do Desenvolvedor 1.1</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">Tópicos gerais</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">URLs do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/reserved_names.html">Nomes Reservados</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helpers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/libraries.html">Usando Librarys do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_libraries.html">Criando Librarys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/drivers.html">Usando os drivers do CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/creating_drivers.html">Criando Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/core_classes.html">Criando Classes do Sistema Principal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ancillary_classes.html">Criando Classes Helperes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/hooks.html">Ganchos - Estendendo o Núcleo da Estrutura</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/autoloader.html">Recursos de carregamento automático</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Funções Comuns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/compatibility_functions.html">Funções de Compatibilidade</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/routing.html">Roteamento de URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Tratamento de erros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/profiling.html">Criando perfil do seu aplicativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/cli.html">Correndo via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Gerenciando seus aplicativos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Manipulando vários ambientes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/alternative_php.html">Sintaxe PHP alternativa para arquivos de visualização</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/security.html">Segurança</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/styleguide.html">Guia de Estilo PHP</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Libraries</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Classe de benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html">Cache Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="calendar.html">Classe de calendários</a></li>
<li class="toctree-l2"><a class="reference internal" href="cart.html">Classe de carrinho de compras</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Classe Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="email.html">Classe de email</a></li>
<li class="toctree-l2"><a class="reference internal" href="encrypt.html">Classe de Criptografia</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Library de Criptografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_uploading.html">Classe de Upload de Arquivo</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_validation.html">Validação de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="ftp.html">Classe FTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="image_lib.html">Classe de Manipulação de Imagem</a></li>
<li class="toctree-l2"><a class="reference internal" href="input.html">Classe de Entrada</a></li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">Classe Javascript</a></li>
<li class="toctree-l2"><a class="reference internal" href="language.html">Classe de idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="loader.html">Classe Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="migration.html">Classe de Migrações</a></li>
<li class="toctree-l2"><a class="reference internal" href="output.html">Classe de saída</a></li>
<li class="toctree-l2"><a class="reference internal" href="pagination.html">Classe de Paginação</a></li>
<li class="toctree-l2"><a class="reference internal" href="parser.html">Classe de analisador de Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html">Segurança Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="sessions.html">Library de Sessões</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Classe de Tabela HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="trackback.html">Classe de Trackback</a></li>
<li class="toctree-l2"><a class="reference internal" href="typography.html">Classe de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit_testing.html">Classe de teste unitário</a></li>
<li class="toctree-l2"><a class="reference internal" href="uri.html">Classe URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_agent.html">Classe de agente do usuário</a></li>
<li class="toctree-l2"><a class="reference internal" href="xmlrpc.html">Classes de servidor XML-RPC e XML-RPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="zip.html">Classe de codificação zip</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Referência do database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Início rápido: exemplos de uso</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Configuração do database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Conectando-se a um database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Querys em Execução</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Gerando Resultados da Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Funções Helperes de Query</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Classe do Construtor de Querys</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transações</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Obtendo MetaData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Chamadas de Funções Personalizadas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/caching.html">Query Cache</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/forge.html">Manipulação de database com o Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Classe de Utilitários de Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/db_driver_reference.html">Referência do driver de database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Helper de Matriz</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/captcha_helper.html">Helper CAPTCHA</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Helper Cookie</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Helper de Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/directory_helper.html">Helper de Diretório</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/download_helper.html">Baixe o Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/email_helper.html">Helper Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/file_helper.html">Arquivo Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Helper de Formulário</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">Helper HTML</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Helper de Infletor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/language_helper.html">Helper de Idioma</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Helper de números</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/path_helper.html">Helper de caminho</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Segurança Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/smiley_helper.html">Helper Smiley</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/string_helper.html">Helper de Cordas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Helper de Texto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/typography_helper.html">Helper de Tipografia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">Helper de URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">Helper de XML</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">CodeIgniter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
        <li><a href="index.html">Libraries</a> &raquo;</li>
      
    <li>Library de Criptografia</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
    <div style="float:right;margin-left:5px;" id="closeMe">
      <img title="Classic Layout" alt="classic layout" src="data:image/gif;base64,R0lGODlhFAAUAJEAAAAAADMzM////wAAACH5BAUUAAIALAAAAAAUABQAAAImlI+py+0PU5gRBRDM3DxbWoXis42X13USOLauUIqnlsaH/eY6UwAAOw==" />
    </div>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="encryption-library">
<h1>Library de Criptografia<a class="headerlink" href="#encryption-library" title="Permalink to this headline">¶</a></h1>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">DO NOT use this or any other <em>encryption</em> library for
user password storage! Passwords must be <em>hashed</em> instead, and you
deve fazer isso através do próprio PHP <a class="reference external" href="http://php.net/password">Extensão de Hashing de Senha</a>.</p>
</div>
<p>The Library de Criptografia provides two-way data encryption. To do so in
uma maneira criptograficamente segura, utiliza extensões PHP que são
infelizmente nem sempre está disponível em todos os sistemas.
Você deve atender a uma das seguintes dependências para usar este
library:</p>
<ul class="simple">
<li><a class="reference external" href="http://php.net/openssl">OpenSSL</a></li>
<li><a class="reference external" href="http://php.net/mcrypt">MCrypt</a> (and <cite>MCRYPT_DEV_URANDOM</cite> availability)</li>
</ul>
<p>Se nenhuma das dependências acima for atendida, simplesmente não poderemos oferecer
você uma implementação suficientemente boa para atender aos altos padrões exigidos
para criptografia adequada.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#using-the-encryption-library" id="id2">Using the Library de Criptografia</a><ul>
<li><a class="reference internal" href="#initializing-the-class" id="id3">Inicializando a classe</a></li>
<li><a class="reference internal" href="#default-behavior" id="id4">Comportamento Padrão</a></li>
<li><a class="reference internal" href="#setting-your-encryption-key" id="id5">Configurando sua chave encryption_key</a></li>
<li><a class="reference internal" href="#supported-encryption-ciphers-and-modes" id="id6">Cifras e modos de criptografia suportados</a><ul>
<li><a class="reference internal" href="#portable-ciphers" id="id7">Cifras portáteis</a></li>
<li><a class="reference internal" href="#driver-specific-ciphers" id="id8">Cifras específicas do driver</a></li>
<li><a class="reference internal" href="#encryption-modes" id="id9">Modos de criptografia</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-length" id="id10">Comprimento da Mensagem</a></li>
<li><a class="reference internal" href="#configuring-the-library" id="id11">Configurando a library</a></li>
<li><a class="reference internal" href="#encrypting-and-decrypting-data" id="id12">Criptografando e descriptografando dados</a><ul>
<li><a class="reference internal" href="#how-it-works" id="id13">Como funciona</a></li>
<li><a class="reference internal" href="#using-custom-parameters" id="id14">Usando parâmetros personalizados</a></li>
<li><a class="reference internal" href="#supported-hmac-authentication-algorithms" id="id15">Algoritmos de autenticação HMAC suportados</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#class-reference" id="id16">Referência de Classe</a></li>
</ul>
</div>
<div class="custom-index container"></div><div class="section" id="using-the-encryption-library">
<h2><a class="toc-backref" href="#id2">Using the Library de Criptografia</a><a class="headerlink" href="#using-the-encryption-library" title="Permalink to this headline">¶</a></h2>
<div class="section" id="initializing-the-class">
<h3><a class="toc-backref" href="#id3">Inicializando a classe</a><a class="headerlink" href="#initializing-the-class" title="Permalink to this headline">¶</a></h3>
<p>Como a maioria das outras classes no CodeIgniter, a Library de criptografia é
inicializado em seu Controller usando o <code class="docutils literal"><span class="pre">$this-&gt;load-&gt;library()</span></code>
method:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">load</span><span class="o">-&gt;</span><span class="na">library</span><span class="p">(</span><span class="s1">&#39;encryption&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Uma vez carregado, o objeto da library de criptografia estará disponível usando:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span>
</pre></div>
</div>
</div>
<div class="section" id="default-behavior">
<h3><a class="toc-backref" href="#id4">Comportamento Padrão</a><a class="headerlink" href="#default-behavior" title="Permalink to this headline">¶</a></h3>
<p>By default, the Library de Criptografia will use the AES-128 cipher in CBC
mode, using your configured <em>encryption_key</em> and SHA512 HMAC authentication.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">AES-128 é escolhida porque é comprovadamente forte e
devido à sua ampla disponibilidade em diferentes sistemas criptográficos
APIs de software e linguagens de programação.</p>
</div>
<p>However, the <em>encryption_key</em> is not used as is.</p>
<p>Se você estiver familiarizado com a criptografia, você já deve saber
que um HMAC também requer uma chave secreta e usando a mesma chave para ambos
criptografia e autenticação é uma prática ruim.</p>
<p>Por causa disso, duas chaves separadas são derivadas do seu já configurado
<em>encryption_key</em>: um para criptografia e um para autenticação. Isto é
feito através de uma técnica chamada <a class="reference external" href="http://en.wikipedia.org/wiki/HKDF">Função de Derivação de Chave Baseada em HMAC</a> (HKDF).</p>
</div>
<div class="section" id="setting-your-encryption-key">
<h3><a class="toc-backref" href="#id5">Configurando sua chave encryption_key</a><a class="headerlink" href="#setting-your-encryption-key" title="Permalink to this headline">¶</a></h3>
<p>An <em>encryption key</em> is a piece of information that controls the
processo criptográfico e permite que uma string de texto simples seja criptografada,
e depois - decifrado. É o &quot;ingrediente&quot; secreto do todo
processo que permite que você seja o único que é capaz de descriptografar dados
que você decidiu se esconder dos olhos do público.
Depois que uma chave é usada para criptografar dados, essa mesma chave fornece <strong>only</strong>
significa descriptografá-lo, por isso não só você deve escolher um cuidadosamente, mas você
não deve perdê-lo ou você também perderá o acesso aos dados.</p>
<p>It must be noted that to ensure maximum security, such key <em>should</em> not
apenas seja o mais forte possível, mas também muitas vezes mudado. Tal comportamento
no entanto, raramente é prático ou possível de implementar, e é por isso que
O CodeIgniter oferece a capacidade de configurar uma única chave que deve ser
usado (quase) todas as vezes.</p>
<p>Escusado será dizer que você deve guardar sua chave com cuidado. Devemos
alguém obter acesso à sua chave, os dados serão facilmente descriptografados. E se
seu servidor não está totalmente sob seu controle, é impossível garantir
segurança chave para que você possa querer pensar com cuidado antes de usá-lo para
qualquer coisa que exija alta segurança, como armazenar números de cartão de crédito.</p>
<p>Sua chave de criptografia <strong>must</strong> ser tão longo quanto o algoritmo de criptografia em uso
permite. Para AES-128, isso é 128 bits ou 16 bytes (charcters) de comprimento.
Você encontrará uma tabela abaixo que mostra os comprimentos de chave suportados
cifras diferentes.</p>
<p>A chave deve ser tão aleatória quanto possível e <strong>must not</strong> ser um regular
string de texto, nem a saída de uma função hash, etc. Para criar
a proper key, you must use the Encryption library’s <code class="docutils literal"><span class="pre">create_key()</span></code> method</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// $key will be assigned a 16-byte (128-bit) random key</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
</pre></div>
</div>
<p>The key can be either stored in your <em>application/config/config.php</em>, or
você pode projetar seu próprio mecanismo de armazenamento e passar a chave dinamicamente
quando criptografar/descriptografar.</p>
<p>To save your key to your <em>application/config/config.php</em>, open the file
and set:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;YOUR KEY&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>You’ll notice that the <code class="docutils literal"><span class="pre">create_key()</span></code> method outputs binary data, which
é difícil de lidar (ou seja, um copiar-colar pode danificá-lo), então você pode usar
<code class="docutils literal"><span class="pre">bin2hex()</span></code>, <code class="docutils literal"><span class="pre">hex2bin()</span></code> or Base64-encoding to work with the key in
uma maneira mais amigável. Por exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Get a hex-encoded representation of the key:</span>
<span class="nv">$key</span> <span class="o">=</span> <span class="nb">bin2hex</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">create_key</span><span class="p">(</span><span class="mi">16</span><span class="p">));</span>

<span class="c1">// Put the same value in your config with hex2bin(),</span>
<span class="c1">// so that it is still passed as binary to the library:</span>
<span class="nv">$config</span><span class="p">[</span><span class="s1">&#39;encryption_key&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">hex2bin</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">your</span> <span class="nx">hex</span><span class="o">-</span><span class="nx">encoded</span> <span class="nb">key</span><span class="o">&gt;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="supported-encryption-ciphers-and-modes">
<span id="ciphers-and-modes"></span><h3><a class="toc-backref" href="#id6">Cifras e modos de criptografia suportados</a><a class="headerlink" href="#supported-encryption-ciphers-and-modes" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Os termos &#39;cifra&#39; e &#39;algoritmo de criptografia&#39; são intercambiáveis.</p>
</div>
<div class="section" id="portable-ciphers">
<h4><a class="toc-backref" href="#id7">Cifras portáteis</a><a class="headerlink" href="#portable-ciphers" title="Permalink to this headline">¶</a></h4>
<p>Porque MCrypt e OpenSSL (também chamados de drivers ao longo deste documento)
cada um suporta conjuntos diferentes de algoritmos de criptografia e, muitas vezes, implementa
de diferentes maneiras, nossa library de criptografia foi projetada para usá-los
uma forma portátil, ou em outras palavras - permite que você os use
de forma intercambiável, pelo menos para as cifras suportadas por ambos os motoristas.</p>
<p>Também é implementado de uma forma que visa corresponder ao padrão
implementações em outras linguagens de programação e librarys.</p>
<p>Aqui está uma lista dos chamados &quot;portáteis&quot; cifras, onde
&quot;Nome do CodeIgniter&quot; é o valor da string que você teria que passar para o
Library de criptografia para usar essa cifra:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="18%" />
<col width="28%" />
<col width="31%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nome da cifra</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Modos Suportados</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128/Rijndael-128</td>
<td>aes-128</td>
<td>128 / 16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>aes-192</td>
<td>192 / 24</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>aes-256</td>
<td>256 / 32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>DES</td>
<td>des</td>
<td>56 / 7</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>TripleDES</td>
<td>tripledes</td>
<td>56/7, 112/14, 168/21</td>
<td>CBC, CFB, CFB8, OFB</td>
</tr>
<tr class="row-odd"><td>Blowfish</td>
<td>blowfish</td>
<td>128-448/16-56</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>CAST5/CAST-128</td>
<td>cast5</td>
<td>88-128/11-16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>RC4/ARCFour</td>
<td>rc4</td>
<td>40-2048/5-256</td>
<td>Stream</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Por causa de como o MCrypt funciona, se você não fornecer uma chave
com o comprimento apropriado, você pode acabar usando um diferente
algoritmo do que o configurado, por isso tenha muito cuidado com isso!</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Caso não esteja claro na tabela acima, Blowfish, CAST5
e RC4 suportam chaves de comprimento variável. Ou seja, qualquer número no
intervalos mostrados é válido, embora em termos de bit que só acontece
em incrementos de 8 bits.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Mesmo que o CAST5 suporte tamanhos de chaves menores que 128 bits
(16 bytes), na verdade, eles serão apenas preenchidos com zero
comprimento máximo, conforme especificado <a class="reference external" href="http://tools.ietf.org/rfc/rfc2144.txt">RFC 2144</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O Blowfish suporta comprimentos de chave tão pequenos quanto 32 bits (4 bytes), mas
nossos testes mostraram que apenas comprimentos de 128 bits (16 bytes) ou
maior são suportados corretamente pelo MCrypt e pelo OpenSSL. Isto é
também é uma má prática usar chaves de tamanho tão baixo.</p>
</div>
</div>
<div class="section" id="driver-specific-ciphers">
<h4><a class="toc-backref" href="#id8">Cifras específicas do driver</a><a class="headerlink" href="#driver-specific-ciphers" title="Permalink to this headline">¶</a></h4>
<p>Como mencionado acima, o MCrypt eo OpenSSL suportam diferentes conjuntos de criptografia
cifras. Por questões de portabilidade e porque não os testamos
corretamente, nós não aconselhamos você a usar aqueles que são específicos do driver,
mas independentemente disso, aqui está uma lista da maioria deles:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="10%" />
<col width="32%" />
<col width="44%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Nome da cifra</th>
<th class="head">Driver</th>
<th class="head">Comprimentos de chave (bits/bytes)</th>
<th class="head">Modos Suportados</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>AES-128</td>
<td>OpenSSL</td>
<td>128 / 16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>AES-192</td>
<td>OpenSSL</td>
<td>192 / 24</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-even"><td>AES-256</td>
<td>OpenSSL</td>
<td>256 / 32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, BCE, XTS</td>
</tr>
<tr class="row-odd"><td>Rijndael-128</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Rijndael-192</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>Rijndael-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>GOST</td>
<td>MCrypt</td>
<td>256 / 32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>Twofish</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>CAST-128</td>
<td>MCrypt</td>
<td>40-128/5-16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>CAST-256</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Loki97</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>SaferPlus</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>Serpent</td>
<td>MCrypt</td>
<td>128/16, 192/24, 256/32</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>XTEA</td>
<td>MCrypt</td>
<td>128 / 16</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-even"><td>RC2</td>
<td>MCrypt</td>
<td>8-1024/1-128</td>
<td>Hemograma completo, CTR, CFB, CFB8, OFB, OFB8, ECB</td>
</tr>
<tr class="row-odd"><td>RC2</td>
<td>OpenSSL</td>
<td>8-1024/1-128</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camélia-128</td>
<td>OpenSSL</td>
<td>128 / 16</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Camélia-192</td>
<td>OpenSSL</td>
<td>192 / 24</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-even"><td>Camélia-256</td>
<td>OpenSSL</td>
<td>256 / 32</td>
<td>CBC, CFB, CFB8, OFB, BCE</td>
</tr>
<tr class="row-odd"><td>Seed</td>
<td>OpenSSL</td>
<td>128 / 16</td>
<td>CBC, CFB, OFB, BCE</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Se você quiser usar uma dessas cifras, você teria que passar
seu nome em minúsculas para a Library de criptografia.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">Você provavelmente já notou que todos os cipers AES (e Rijndael-128)
também estão listados na lista de cifras portáteis. Isto é porque
drivers suportam modos diferentes para essas cifras. Além disso, é
importante notar que AES-128 e Rijndael-128 são realmente
a mesma cifra, mas <strong>only</strong> quando usado com uma chave de 128 bits.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O CAST-128/CAST-5 também é listado tanto no portátil quanto
lista de cifras específicas do driver. Isso ocorre porque o OpenSSL
implementação parece não estar funcionando corretamente com
tamanhos de chaves de 80 bits e inferiores.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">O RC2 está listado como suportado pelo MCrypt e pelo OpenSSL.
No entanto, ambos os drivers os implementam de forma diferente e
não são portáteis. Vale a pena notar que só
encontrou uma fonte obscura confirmando que é MCrypt que
não está implementando adequadamente.</p>
</div>
</div>
<div class="section" id="encryption-modes">
<span id="id1"></span><h4><a class="toc-backref" href="#id9">Modos de criptografia</a><a class="headerlink" href="#encryption-modes" title="Permalink to this headline">¶</a></h4>
<p>Diferentes modos de criptografia têm características diferentes e servem
para diferentes propósitos. Alguns são mais fortes que outros, alguns são mais rápidos
e alguns oferecem recursos extras.
Nós não estamos indo em profundidade para isso aqui, vamos deixar isso para o
especialistas em criptografia. A tabela abaixo é para fornecer informações breves
referência aos nossos usuários mais experientes. Se você é um iniciante, apenas
ficar com o modo CBC - é amplamente aceito como forte e seguro para
propósitos gerais.</p>
<table border="1" class="docutils">
<colgroup>
<col width="6%" />
<col width="9%" />
<col width="9%" />
<col width="76%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Mode name</th>
<th class="head">Nome do Code Igniter</th>
<th class="head">Suporte ao driver</th>
<th class="head">informação adicional</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>CBC</td>
<td>cbc</td>
<td>MCrypt, OpenSSL</td>
<td>Uma escolha padrão segura</td>
</tr>
<tr class="row-odd"><td>CTR</td>
<td>ctr</td>
<td>MCrypt, OpenSSL</td>
<td>Considerado como teoricamente melhor que o CBC, mas não tão amplamente disponível</td>
</tr>
<tr class="row-even"><td>CFB</td>
<td>cfb</td>
<td>MCrypt, OpenSSL</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>CFB8</td>
<td>cfb8</td>
<td>MCrypt, OpenSSL</td>
<td>Igual ao CFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>OFB</td>
<td>ofb</td>
<td>MCrypt, OpenSSL</td>
<td>N/A</td>
</tr>
<tr class="row-odd"><td>OFB8</td>
<td>ofb8</td>
<td>MCrypt</td>
<td>O mesmo que OFB, mas opera no modo de 8 bits (não recomendado).</td>
</tr>
<tr class="row-even"><td>ECB</td>
<td>ecb</td>
<td>MCrypt, OpenSSL</td>
<td>Ignora IV (não recomendado).</td>
</tr>
<tr class="row-odd"><td>XTS</td>
<td>xts</td>
<td>OpenSSL</td>
<td>Geralmente usado para criptografar dados de acesso aleatório, como RAM ou armazenamento em disco rígido.</td>
</tr>
<tr class="row-even"><td>Stream</td>
<td>stream</td>
<td>MCrypt, OpenSSL</td>
<td>Este não é realmente um modo, apenas diz que uma cifra de fluxo está sendo usada. Necessário por causa do processo geral de inicialização do modo cipher +.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="message-length">
<h3><a class="toc-backref" href="#id10">Comprimento da Mensagem</a><a class="headerlink" href="#message-length" title="Permalink to this headline">¶</a></h3>
<p>É provavelmente importante que você saiba que uma string criptografada é geralmente
maior que a string de texto simples original (dependendo da cifra).</p>
<p>Isto é influenciado pelo próprio algoritmo de cifra, o IV prefixado ao
cipher-text e a mensagem de autenticação HMAC que também é prefixada.
Além disso, a mensagem criptografada também é codificada em Base64 para que seja segura
para armazenamento e transmissão, independentemente de um possível conjunto de caracteres em uso.</p>
<p>Mantenha estas informações em mente ao selecionar seu mecanismo de armazenamento de dados.
Os cookies, por exemplo, só podem conter 4K de informações.</p>
</div>
<div class="section" id="configuring-the-library">
<span id="configuration"></span><h3><a class="toc-backref" href="#id11">Configurando a library</a><a class="headerlink" href="#configuring-the-library" title="Permalink to this headline">¶</a></h3>
<p>Para usabilidade, desempenho, mas também razões históricas ligadas ao antigo
<a class="reference internal" href="encrypt.html"><span class="doc">Classe de Criptografia</span></a>, a library de criptografia foi projetada para
use repetidamente o mesmo driver, cifra de criptografia, modo e chave.</p>
<p>As noted in the “Comportamento Padrão” section above, this means using an
driver detectado automaticamente (o OpenSSL tem uma prioridade mais alta), o AES-128 ciper
in CBC mode, and your <code class="docutils literal"><span class="pre">$config['encryption_key']</span></code> value.</p>
<p>Se você quiser mudar isso, você precisa usar o <code class="docutils literal"><span class="pre">initialize()</span></code>
método. Ele aceita uma matriz associativa de parâmetros, todos os quais são
optional:</p>
<table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="85%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Valores possíveis</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>driver</td>
<td>&#39;mcrypt&#39;, &#39;openssl&#39;</td>
</tr>
<tr class="row-odd"><td>cipher</td>
<td>Nome da cifra (see <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Cifras e modos de criptografia suportados</span></a>)</td>
</tr>
<tr class="row-even"><td>mode</td>
<td>Modo de encriptação (ver <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>)</td>
</tr>
<tr class="row-odd"><td>key</td>
<td>Chave de criptografia</td>
</tr>
</tbody>
</table>
<p>Por exemplo, se você alterasse o algoritmo de criptografia e
modo para AES-256 no modo CTR, isso é o que você deve fazer:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;aes-256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&lt;a 32-character random string&gt;&#39;</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Nota que nós apenas mencionamos que você quer mudar o ciper e o modo,
mas também incluímos uma chave no exemplo. Como observado anteriormente, é
É importante que você escolha uma chave com um tamanho adequado para o algoritmo usado.</p>
<p>Há também a capacidade de mudar o driver, se por algum motivo você
tem ambos, mas quer usar o MCrypt em vez do OpenSSL:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Switch to the MCrypt driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;mcrypt&#39;</span><span class="p">));</span>

<span class="c1">// Switch back to the OpenSSL driver</span>
<span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">&#39;driver&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;openssl&#39;</span><span class="p">));</span>
</pre></div>
</div>
</div>
<div class="section" id="encrypting-and-decrypting-data">
<h3><a class="toc-backref" href="#id12">Criptografando e descriptografando dados</a><a class="headerlink" href="#encrypting-and-decrypting-data" title="Permalink to this headline">¶</a></h3>
<p>Criptografando e descriptografando dados with the already configured library
configurações é simples. Tão simples quanto passar a corda para o
<code class="docutils literal"><span class="pre">encrypt()</span></code> and/or <code class="docutils literal"><span class="pre">decrypt()</span></code> methods:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$plain_text</span> <span class="o">=</span> <span class="s1">&#39;This is a plain-text message!&#39;</span><span class="p">;</span>
<span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="nv">$plain_text</span><span class="p">);</span>

<span class="c1">// Outputs: This is a plain-text message!</span>
<span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>E é isso! A library de criptografia fará tudo o que for necessário
para que todo o processo seja criptograficamente seguro e pronto para uso.
Você não precisa se preocupar com isso.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Ambos os métodos retornarão FALSE em caso de erro.
While for <code class="docutils literal"><span class="pre">encrypt()</span></code> this can only mean incorrect
configuração, você deve sempre verificar o valor de retorno
of <code class="docutils literal"><span class="pre">decrypt()</span></code> in production code.</p>
</div>
<div class="section" id="how-it-works">
<h4><a class="toc-backref" href="#id13">Como funciona</a><a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h4>
<p>Se você precisa saber como o processo funciona, veja o que acontece sob
the hood:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;encrypt($plain_text)</span></code><ol class="arabic">
<li>Derive uma chave de criptografia e uma chave HMAC a partir do seu
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.</li>
<li>Gere um vetor de inicialização aleatória (IV).</li>
<li>Criptografe os dados via AES-128 no modo CBC (ou em outro
cifra e modo configurados), utilizando os dados derivados
chave de criptografia e IV.</li>
<li>Prefira o dito IV ao texto cifrado resultante.</li>
<li>Base64-codifica a string resultante, para que possa ser seguramente
armazenados ou transferidos sem se preocupar com conjuntos de caracteres.</li>
<li>Crie uma mensagem de autenticação SHA-512 HMAC usando o método derivado
Chave HMAC para garantir a integridade dos dados e pré-anexá-los à Base64
string.</li>
</ol>
</li>
<li><code class="docutils literal"><span class="pre">$this-&gt;encryption-&gt;decrypt($ciphertext)</span></code><ol class="arabic">
<li>Derive uma chave de criptografia e uma chave HMAC a partir do seu
<em>encryption_key</em> via HKDF, usando o algoritmo digest do SHA-512.
Because your configured <em>encryption_key</em> is the same, this
will produce the same result as in the <code class="docutils literal"><span class="pre">encrypt()</span></code> method
acima - caso contrário, você não poderá descriptografá-lo.</li>
<li>Verifique se a string é longa o suficiente, separe o HMAC de
e validar se está correto (isto é feito de uma forma que
evita ataques de temporização contra ele). Retornar FALSE se qualquer um dos
as verificações falharem.</li>
<li>Base64 decodifica a string.</li>
<li>Separe o IV do texto cifrado e decodifique o dito
cipher-text usando esse IV e a chave de criptografia derivada.</li>
</ol>
</li>
</ul>
</div>
<div class="section" id="using-custom-parameters">
<span id="custom-parameters"></span><h4><a class="toc-backref" href="#id14">Usando parâmetros personalizados</a><a class="headerlink" href="#using-custom-parameters" title="Permalink to this headline">¶</a></h4>
<p>Vamos dizer que você tem que interagir com outro sistema que está fora
de seu controle e usa outro método para criptografar dados. UMA
método que certamente não irá coincidir com o acima descrito
seqüência e provavelmente não usar todas as etapas também.</p>
<p>A library de criptografia permite que você altere como sua criptografia
e os processos de decodificação funcionam, para que você possa facilmente adaptar um
solução personalizada para tais situações.</p>
<div class="admonition note">
<p class="first admonition-title">Nota</p>
<p class="last">É possível usar a Library dessa maneira, sem
setting an <em>encryption_key</em> in your configuration file.</p>
</div>
<p>Tudo o que você precisa fazer é passar um array associativo com alguns
parameters to either the <code class="docutils literal"><span class="pre">encrypt()</span></code> or <code class="docutils literal"><span class="pre">decrypt()</span></code> method.
Aqui está um exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="c1">// Assume that we have $ciphertext, $key and $hmac_key</span>
<span class="c1">// from on outside source</span>

<span class="nv">$message</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span>
        <span class="nv">$ciphertext</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;cipher&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;blowfish&#39;</span><span class="p">,</span>
                <span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cbc&#39;</span><span class="p">,</span>
                <span class="s1">&#39;key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$key</span><span class="p">,</span>
                <span class="s1">&#39;hmac_digest&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;sha256&#39;</span><span class="p">,</span>
                <span class="s1">&#39;hmac_key&#39;</span> <span class="o">=&gt;</span> <span class="nv">$hmac_key</span>
        <span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>No exemplo acima, estamos descriptografando uma mensagem que foi criptografada
usando a cifra Blowfish no modo CBC e autenticada através de um SHA-256
HMAC.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Nota that both ‘key’ and ‘hmac_key’ are used in this
exemplo. Ao usar parâmetros personalizados, chaves de criptografia e HMAC
não são derivados como o comportamento padrão da Library é.</p>
</div>
<p>Abaixo está uma lista das opções disponíveis.</p>
<p>No entanto, a menos que você realmente precise e saiba o que está fazendo,
aconselhamos que você não mude o processo de criptografia, pois isso poderia
segurança de impacto, por favor, faça isso com cautela.</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="14%" />
<col width="26%" />
<col width="49%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Option</th>
<th class="head">Valor padrão</th>
<th class="head">Obrigatório/Opcional</th>
<th class="head">Descrição</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>cipher</td>
<td>N/A</td>
<td>Yes</td>
<td>Algoritmo de criptografia (ver <a class="reference internal" href="#ciphers-and-modes"><span class="std std-ref">Cifras e modos de criptografia suportados</span></a>).</td>
</tr>
<tr class="row-odd"><td>mode</td>
<td>N/A</td>
<td>Yes</td>
<td>Modo de encriptação (ver <a class="reference internal" href="#encryption-modes"><span class="std std-ref">Modos de criptografia</span></a>).</td>
</tr>
<tr class="row-even"><td>key</td>
<td>N/A</td>
<td>Yes</td>
<td>Chave de criptografia.</td>
</tr>
<tr class="row-odd"><td>hmac</td>
<td>TRUE</td>
<td>No</td>
<td>Se deve usar um HMAC.
Boolean. If set to FALSE, then <em>hmac_digest</em> and
<em>hmac_key</em> será ignorado.</td>
</tr>
<tr class="row-even"><td>hmac_digest</td>
<td>sha512</td>
<td>No</td>
<td>Algoritmo de resumo de mensagem HMAC <a class="reference internal" href="#digests"><span class="std std-ref">Algoritmos de autenticação HMAC suportados</span></a>).</td>
</tr>
<tr class="row-odd"><td>hmac_key</td>
<td>N/A</td>
<td>Yes, unless <em>hmac</em> is FALSE</td>
<td>HMAC key.</td>
</tr>
<tr class="row-even"><td>raw_data</td>
<td>FALSE</td>
<td>No</td>
<td>Se o texto cifrado deve ser bruto.
Boleano. Se definido como TRUE, então a codificação Base64 e
decodificação não será executada e o HMAC não
ser uma string hexadecimal.</td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last"><code class="docutils literal"><span class="pre">encrypt()</span></code> and <code class="docutils literal"><span class="pre">decrypt()</span></code> will return FALSE if
um parâmetro obrigatório não é fornecido ou se um
value is incorrect. This includes <em>hmac_key</em>, unless <em>hmac</em>
está definido como FALSE.</p>
</div>
</div>
<div class="section" id="supported-hmac-authentication-algorithms">
<span id="digests"></span><h4><a class="toc-backref" href="#id15">Algoritmos de autenticação HMAC suportados</a><a class="headerlink" href="#supported-hmac-authentication-algorithms" title="Permalink to this headline">¶</a></h4>
<p>Para autenticação de mensagens HMAC, a Library de criptografia suporta
uso da família de algoritmos SHA-2:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="34%" />
<col width="47%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Algorithm</th>
<th class="head">Comprimento bruto (bytes)</th>
<th class="head">Comprimento codificado hexadecimais (bytes)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>sha512</td>
<td>64</td>
<td>128</td>
</tr>
<tr class="row-odd"><td>sha384</td>
<td>48</td>
<td>96</td>
</tr>
<tr class="row-even"><td>sha256</td>
<td>32</td>
<td>64</td>
</tr>
<tr class="row-odd"><td>sha224</td>
<td>28</td>
<td>56</td>
</tr>
</tbody>
</table>
<p>O motivo para não incluir outros algoritmos populares, como
MD5 ou SHA1 é que eles não são mais considerados seguros o suficiente
e, como tal, não queremos incentivar seu uso.
Se você absolutamente precisa usá-los, é fácil fazê-lo via PHP&#39;s
native <a class="reference external" href="http://php.net/manual/en/function.hash-hmac.php">hash_hmac()</a> function.</p>
<p>Algoritmos mais fortes, naturalmente, serão adicionados no futuro
aparecer e tornar-se amplamente disponível.</p>
</div>
</div>
</div>
<div class="section" id="class-reference">
<h2><a class="toc-backref" href="#id16">Referência de Classe</a><a class="headerlink" href="#class-reference" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="CI_Encryption">
<em class="property">class </em><code class="descname">CI_Encryption</code><a class="headerlink" href="#CI_Encryption" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="CI_Encryption::initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>$params</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::initialize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$params</strong> (<em>array</em>) - Parâmetros de configuração</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">CI_Encópia de criptografia (encadeamento do método)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">CI_Encryption</p>
</td>
</tr>
</tbody>
</table>
<p>Inicializa (configura) a Library para usar um diferente
driver, cifra, modo ou chave.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">initialize</span><span class="p">(</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;mode&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;ctr&#39;</span><span class="p">)</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#configuration"><span class="std std-ref">Configurando a library</span></a> seção para informações detalhadas.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::encrypt">
<code class="descname">encrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::encrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) - Dados para criptografar</li>
<li><strong>$params</strong> (<em>array</em>) - Parâmetros opcionais</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Dados criptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Criptografa os dados de entrada e retorna seu texto cifrado.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$ciphertext</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">encrypt</span><span class="p">(</span><span class="s1">&#39;My secret message&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> seção para informação
nos parâmetros opcionais.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::decrypt">
<code class="descname">decrypt</code><span class="sig-paren">(</span><em>$data</em><span class="optional">[</span>, <em>$params = NULL</em><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::decrypt" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$data</strong> (<em>string</em>) - Dados para decifrar</li>
<li><strong>$params</strong> (<em>array</em>) - Parâmetros opcionais</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Dados descriptografados ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Descriptografa os dados de entrada e os retorna em texto simples.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="k">echo</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">decrypt</span><span class="p">(</span><span class="nv">$ciphertext</span><span class="p">);</span>
</pre></div>
</div>
<p>Por favor, consulte o <a class="reference internal" href="#custom-parameters"><span class="std std-ref">Usando parâmetros personalizados</span></a> segredo para informação
nos parâmetros opcionais.</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::create_key">
<code class="descname">create_key</code><span class="sig-paren">(</span><em>$length</em><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::create_key" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$length</strong> (<em>int</em>) - Comprimento de saída</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Uma chave criptográfica pseudo-aleatória com o comprimento especificado ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Cria uma chave criptográfica buscando dados aleatórios de
as fontes do sistema operacional (isto é,/dev/urandom).</p>
</dd></dl>

<dl class="method">
<dt id="CI_Encryption::hkdf">
<code class="descname">hkdf</code><span class="sig-paren">(</span><em>$key</em><span class="optional">[</span>, <em>$digest = 'sha512'</em><span class="optional">[</span>, <em>$salt = NULL</em><span class="optional">[</span>, <em>$length = NULL</em><span class="optional">[</span>, <em>$info = ''</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="sig-paren">)</span><a class="headerlink" href="#CI_Encryption::hkdf" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parâmetros:</th><td class="field-body"><ul class="first simple">
<li><strong>$key</strong> (<em>string</em>) - Material chave de entrada</li>
<li><strong>$digest</strong> (<em>string</em>) - Algoritmo de resumo da família SHA-2</li>
<li><strong>$salt</strong> (<em>string</em>) - sal opcional</li>
<li><strong>$length</strong> (<em>int</em>) - Comprimento de saída opcional</li>
<li><strong>$info</strong> (<em>string</em>) - Informações opcionais específicas do contexto/aplicativo</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Retorna:</th><td class="field-body"><p class="first">Uma chave pseudo-aleatória ou FALSE em falha</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Tipo de retorno:</th><td class="field-body"><p class="first last">string</p>
</td>
</tr>
</tbody>
</table>
<p>Deriva uma chave de outra chave presumivelmente mais fraca.</p>
<p>Esse método é usado internamente para derivar uma criptografia e uma chave HMAC
from your configured <em>encryption_key</em>.</p>
<p>Está publicamente disponível devido ao seu propósito geral. Isto é
descrito em <a class="reference external" href="https://tools.ietf.org/rfc/rfc5869.txt">RFC 5869</a>.</p>
<p>No entanto, ao contrário da descrição no RFC 5869, esta implementação
não suporta SHA1.</p>
<p>Exemplo:</p>
<div class="highlight-ci"><div class="highlight"><pre><span></span><span class="nv">$hmac_key</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">encryption</span><span class="o">-&gt;</span><span class="na">hkdf</span><span class="p">(</span>
        <span class="nv">$key</span><span class="p">,</span>
        <span class="s1">&#39;sha512&#39;</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="k">NULL</span><span class="p">,</span>
        <span class="s1">&#39;authentication&#39;</span>
<span class="p">);</span>

<span class="c1">// $hmac_key is a pseudo-random key with a length of 64 bytes</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="file_uploading.html" class="btn btn-neutral float-right" title="Classe de Upload de Arquivo">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="encrypt.html" class="btn btn-neutral" title="Classe de Criptografia"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014 - 2018, British Columbia Institute of Technology.
      Last updated on Jun 12, 2018.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'3.1.9',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  false
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>